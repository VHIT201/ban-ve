{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/lib/constants.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext } from \"react\";\r\nimport { DataTableContextValue } from \"./types\";\r\n\r\nexport const DEFAULT_PAGE_INDEX = 1;\r\nexport const DEFAULT_PAGE_SIZE = 10;\r\n\r\nexport const DATA_TABLE_CONTEXT =\r\n  createContext<DataTableContextValue<any> | null>(null);\r\n"],"names":[],"mappings":";;;;;;;;AAEA;AAFA;;AAKO,MAAM,qBAAqB;AAC3B,MAAM,oBAAoB;AAE1B,MAAM,mCACX,IAAA,qUAAa,EAAoC"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/lib/hooks.ts"],"sourcesContent":["import { useContext } from \"react\";\r\n\r\nimport { DataTableContextValue } from \"./types\";\r\nimport { DATA_TABLE_CONTEXT } from \"./constants\";\r\n\r\nexport const useDataTableContext = <TData>() => {\r\n  const context = useContext(DATA_TABLE_CONTEXT);\r\n  if (!context) {\r\n    throw new Error(\r\n      \"DataTable compound components must be used within DataTable\"\r\n    );\r\n  }\r\n  return context as DataTableContextValue<TData>;\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AAGA;;;AAEO,MAAM,sBAAsB;IACjC,MAAM,UAAU,IAAA,kUAAU,EAAC,sLAAkB;IAC7C,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MACR;IAEJ;IACA,OAAO;AACT"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/components/data-table-body/DataTableBody.tsx"],"sourcesContent":["import { flexRender } from \"@tanstack/react-table\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { TableRow, TableCell, TableBody } from \"@/components/ui/table\";\r\nimport { useDataTableContext } from \"../../lib/hooks\";\r\n\r\nconst DataTableBody = <TData,>() => {\r\n  const { table, enableRowSelection, classNames } =\r\n    useDataTableContext<TData>();\r\n\r\n  return (\r\n    <TableBody>\r\n      {table.getRowModel().rows?.length ? (\r\n        table.getRowModel().rows.map((row) => (\r\n          <TableRow\r\n            key={row.id}\r\n            data-state={row.getIsSelected() && \"selected\"}\r\n            className={`border-b-gray-100 dark:border-b-gray-800 ${\r\n              row.getIsSelected()\r\n                ? \"bg-primary/10! hover:bg-primary/50 dark:bg-primary/20\"\r\n                : \"hover:bg-primary/10 dark:hover:bg-gray-800/30\"\r\n            } `}\r\n          >\r\n            {enableRowSelection && (\r\n              <TableCell>\r\n                <Checkbox\r\n                  checked={row.getIsSelected()}\r\n                  onCheckedChange={(value) => row.toggleSelected(!!value)}\r\n                  aria-label=\"Select row\"\r\n                  className=\"[&>span]:data-[state=checked]:bg-primary [&>span]:data-[state=checked]:border-primary [&>span]:border-gray-300\"\r\n                />\r\n              </TableCell>\r\n            )}\r\n\r\n            {row.getVisibleCells().map((cell) => (\r\n              <TableCell key={cell.id} className=\"py-3\">\r\n                {flexRender(cell.column.columnDef.cell, cell.getContext())}\r\n              </TableCell>\r\n            ))}\r\n          </TableRow>\r\n        ))\r\n      ) : (\r\n        <TableRow>\r\n          <TableCell\r\n            colSpan={\r\n              table.getAllColumns().length + (enableRowSelection ? 1 : 0)\r\n            }\r\n            className=\"h-24 text-center text-gray-500 dark:text-gray-400\"\r\n          >\r\n            Không có dữ liệu để hiển thị.\r\n          </TableCell>\r\n        </TableRow>\r\n      )}\r\n    </TableBody>\r\n  );\r\n};\r\n\r\nexport default DataTableBody;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,gBAAgB;IACpB,MAAM,EAAE,KAAK,EAAE,kBAAkB,EAAE,UAAU,EAAE,GAC7C,IAAA,mLAAmB;IAErB,qBACE,6VAAC,8IAAS;kBACP,MAAM,WAAW,GAAG,IAAI,EAAE,SACzB,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,oBAC5B,6VAAC,6IAAQ;gBAEP,cAAY,IAAI,aAAa,MAAM;gBACnC,WAAW,CAAC,yCAAyC,EACnD,IAAI,aAAa,KACb,0DACA,gDACL,CAAC,CAAC;;oBAEF,oCACC,6VAAC,8IAAS;kCACR,cAAA,6VAAC,gJAAQ;4BACP,SAAS,IAAI,aAAa;4BAC1B,iBAAiB,CAAC,QAAU,IAAI,cAAc,CAAC,CAAC,CAAC;4BACjD,cAAW;4BACX,WAAU;;;;;;;;;;;oBAKf,IAAI,eAAe,GAAG,GAAG,CAAC,CAAC,qBAC1B,6VAAC,8IAAS;4BAAe,WAAU;sCAChC,IAAA,8SAAU,EAAC,KAAK,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,UAAU;2BADzC,KAAK,EAAE;;;;;;eApBpB,IAAI,EAAE;;;;0EA2Bf,6VAAC,6IAAQ;sBACP,cAAA,6VAAC,8IAAS;gBACR,SACE,MAAM,aAAa,GAAG,MAAM,GAAG,CAAC,qBAAqB,IAAI,CAAC;gBAE5D,WAAU;0BACX;;;;;;;;;;;;;;;;AAOX;uCAEe"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/components/data-table-body/index.ts"],"sourcesContent":["export { default } from \"./DataTableBody\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/components/data-table-header/DataTableHeader.tsx"],"sourcesContent":["import { TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\r\nimport { flexRender } from \"@tanstack/react-table\";\r\nimport { useDataTableContext } from \"../../lib/hooks\";\r\nimport { cn } from \"@/utils/ui\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { getPinningStyles } from \"./lib/utils\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  ArrowLeftFromLineIcon,\r\n  ArrowRightFromLineIcon,\r\n  EllipsisIcon,\r\n  PinOffIcon,\r\n} from \"lucide-react\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\n\r\nconst DataTableHeader = <TData,>() => {\r\n  const { table, enableRowSelection, classNames } =\r\n    useDataTableContext<TData>();\r\n\r\n  return (\r\n    <TableHeader className={cn(classNames?.header)}>\r\n      {table.getHeaderGroups().map((headerGroup) => (\r\n        <TableRow\r\n          key={headerGroup.id}\r\n          className=\"bg-muted hover:bg-muted! [&>th]:border-t-0 [&>th]:font-semibold [&>th]:text-muted-foreground [&>th]:font-mono\"\r\n        >\r\n          {enableRowSelection && (\r\n            <TableHead className=\"w-12 before:bg-border relative h-10 border-t before:absolute before:inset-y-0 before:left-0 before:w-px first:before:bg-transparent\">\r\n              <Checkbox\r\n                checked={table.getIsAllPageRowsSelected()}\r\n                onCheckedChange={(value) =>\r\n                  table.toggleAllPageRowsSelected(!!value)\r\n                }\r\n                aria-label=\"Select all\"\r\n                className=\"[&>span]:data-[state=checked]:text-primary [&>span]:border-white  [&>span]:bg-white/10 [&>span]:data-[state=checked]:border-white [&>span]:data-[state=checked]:bg-white\"\r\n              />\r\n            </TableHead>\r\n          )}\r\n\r\n          {headerGroup.headers.map((header) => {\r\n            const { column } = header;\r\n            const isPinned = column.getIsPinned();\r\n            const isLastLeftPinned =\r\n              isPinned === \"left\" && column.getIsLastColumn(\"left\");\r\n            const isFirstRightPinned =\r\n              isPinned === \"right\" && column.getIsFirstColumn(\"right\");\r\n\r\n            return (\r\n              <TableHead\r\n                key={header.id}\r\n                data-pinned={isPinned || undefined}\r\n                data-last-col={\r\n                  isLastLeftPinned\r\n                    ? \"left\"\r\n                    : isFirstRightPinned\r\n                    ? \"right\"\r\n                    : undefined\r\n                }\r\n                colSpan={header.colSpan}\r\n                style={{ width: header.getSize() }}\r\n                className=\" border-t data-pinned:bg-muted/90 relative h-10 truncate data-pinned:backdrop-blur-xs [&:not([data-pinned]):has(+[data-pinned])_div.cursor-col-resize:last-child]:opacity-0 [&[data-last-col=left]_div.cursor-col-resize:last-child]:opacity-0 [&[data-pinned=right]:last-child_div.cursor-col-resize:last-child]:opacity-0\"\r\n              >\r\n                <div className=\"flex items-center justify-between space-x-2 \">\r\n                  {header.isPlaceholder\r\n                    ? null\r\n                    : flexRender(\r\n                        header.column.columnDef.header,\r\n                        header.getContext()\r\n                      )}\r\n\r\n                  {!header.isPlaceholder &&\r\n                    header.column.getCanPin() &&\r\n                    (header.column.getIsPinned() ? (\r\n                      <Button\r\n                        size=\"icon\"\r\n                        variant=\"ghost\"\r\n                        className=\"-mr-1 size-7\"\r\n                        onClick={() => header.column.pin(false)}\r\n                        aria-label={`Unpin ${\r\n                          header.column.columnDef.header as string\r\n                        } column`}\r\n                        title={`Unpin ${\r\n                          header.column.columnDef.header as string\r\n                        } column`}\r\n                      >\r\n                        <PinOffIcon className=\"opacity-60\" aria-hidden=\"true\" />\r\n                      </Button>\r\n                    ) : (\r\n                      <DropdownMenu>\r\n                        <DropdownMenuTrigger asChild>\r\n                          <Button\r\n                            size=\"icon\"\r\n                            variant=\"ghost\"\r\n                            className=\"-mr-1 size-7\"\r\n                            aria-label={`Pin options for ${\r\n                              header.column.columnDef.header as string\r\n                            } column`}\r\n                            title={`Pin options for ${\r\n                              header.column.columnDef.header as string\r\n                            } column`}\r\n                          >\r\n                            <EllipsisIcon\r\n                              className=\"opacity-60\"\r\n                              aria-hidden=\"true\"\r\n                            />\r\n                          </Button>\r\n                        </DropdownMenuTrigger>\r\n                        <DropdownMenuContent align=\"end\">\r\n                          <DropdownMenuItem\r\n                            onClick={() => header.column.pin(\"left\")}\r\n                          >\r\n                            <ArrowLeftFromLineIcon\r\n                              size={16}\r\n                              className=\"opacity-60\"\r\n                              aria-hidden=\"true\"\r\n                            />\r\n                            Ghim trái\r\n                          </DropdownMenuItem>\r\n                          <DropdownMenuItem\r\n                            onClick={() => header.column.pin(\"right\")}\r\n                          >\r\n                            <ArrowRightFromLineIcon\r\n                              size={16}\r\n                              className=\"opacity-60\"\r\n                              aria-hidden=\"true\"\r\n                            />\r\n                            Ghim phải\r\n                          </DropdownMenuItem>\r\n                        </DropdownMenuContent>\r\n                      </DropdownMenu>\r\n                    ))}\r\n                </div>\r\n                {header.column.getCanResize() && (\r\n                  <div\r\n                    {...{\r\n                      onDoubleClick: () => header.column.resetSize(),\r\n                      onMouseDown: header.getResizeHandler(),\r\n                      onTouchStart: header.getResizeHandler(),\r\n                      className:\r\n                        \"group-last/head:hidden absolute top-0 h-full w-6 mx-1 cursor-col-resize user-select-none touch-none -right-2 z-10 flex justify-center before:absolute before:w-px before:inset-y-0 before:bg-border before:translate-x-px\",\r\n                    }}\r\n                  />\r\n                )}\r\n              </TableHead>\r\n            );\r\n          })}\r\n        </TableRow>\r\n      ))}\r\n    </TableHeader>\r\n  );\r\n};\r\n\r\nexport default DataTableHeader;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/components/data-table-header/index.ts"],"sourcesContent":["export { default } from \"./DataTableHeader\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 338, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/components/data-table-content/DataTableContent.tsx"],"sourcesContent":["import { Table } from \"@/components/ui/table\";\r\nimport { FC, ReactNode } from \"react\";\r\n\r\nconst DataTableContent: FC<{ children: ReactNode }> = (props) => {\r\n  return <Table>{props.children}</Table>;\r\n};\r\n\r\nexport default DataTableContent;\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAGA,MAAM,mBAAgD,CAAC;IACrD,qBAAO,6VAAC,0IAAK;kBAAE,MAAM,QAAQ;;;;;;AAC/B;uCAEe"}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/components/data-table-content/index.ts"],"sourcesContent":["export { default } from \"./DataTableContent\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 367, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/components/data-table-pagination/DataTablePagination.tsx"],"sourcesContent":["import {\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  ChevronsLeft,\r\n  ChevronsRight,\r\n} from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport {\r\n  Pagination,\r\n  PaginationContent,\r\n  PaginationEllipsis,\r\n  PaginationItem,\r\n} from \"@/components/ui/pagination\";\r\nimport { useDataTableContext } from \"../../lib/hooks\";\r\n\r\nconst DEFAULT_PAGE_SIZE = 10;\r\n\r\nconst DataTablePagination = <TData,>() => {\r\n  const { table, enablePagination, manualPagination } =\r\n    useDataTableContext<TData>();\r\n\r\n  if (!enablePagination || !manualPagination) return null;\r\n\r\n  const pageCount = table.getPageCount();\r\n  const pageIndex = table.getState().pagination?.pageIndex ?? 0;\r\nconst currentPage = pageIndex + 1; // UI = 1-based\r\n\r\n  const pageSize = table.getState().pagination?.pageSize || DEFAULT_PAGE_SIZE;\r\n\r\n  const generatePageNumbers = () => {\r\n    const pages: (number | string)[] = [];\r\n    const maxVisiblePages = 5;\r\n    let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));\r\n    let endPage = startPage + maxVisiblePages - 1;\r\n\r\n    if (endPage > pageCount) {\r\n      endPage = pageCount;\r\n      startPage = Math.max(1, endPage - maxVisiblePages + 1);\r\n    }\r\n\r\n    if (startPage > 1) {\r\n      pages.push(1);\r\n      if (startPage > 2) {\r\n        pages.push(\"ellipsis-left\");\r\n      }\r\n    }\r\n\r\n    for (let i = startPage; i <= endPage; i++) {\r\n      pages.push(i);\r\n    }\r\n\r\n    if (endPage < pageCount) {\r\n      if (endPage < pageCount - 1) {\r\n        pages.push(\"ellipsis-right\");\r\n      }\r\n      pages.push(pageCount);\r\n    }\r\n\r\n    return pages;\r\n  };\r\n\r\n  const pageNumbers = generatePageNumbers();\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4 px-2 md:flex-row md:items-center md:justify-between p-2\">\r\n      <div className=\"text-muted-foreground flex-1 text-sm dark:text-gray-400\">\r\n        Hiển thị trang{\" \"}\r\n        <span className=\"text-primary font-medium dark:text-gray-200\">\r\n          {currentPage}\r\n        </span>{\" \"}\r\n        trên{\" \"}\r\n        <span className=\"text-primary font-medium dark:text-gray-200\">\r\n          {pageCount}\r\n        </span>{\" \"}\r\n        trang\r\n      </div>\r\n\r\n      <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:space-x-6 lg:space-x-8\">\r\n        <div className=\"flex min-w-[200px] shrink-0 items-center space-x-4\">\r\n          <p className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n            Số dòng hiển thị\r\n          </p>\r\n          <Select\r\n            onValueChange={(value) => {\r\n              table.setPagination({\r\n                pageIndex: currentPage,\r\n                pageSize: Number(value),\r\n              });\r\n            }}\r\n            value={`${pageSize}`}\r\n            defaultValue={`${DEFAULT_PAGE_SIZE}`}\r\n          >\r\n            <SelectTrigger className=\"flex-1 h-8 w-[70px] border-gray-300 bg-white dark:border-gray-700 dark:bg-gray-900\">\r\n              <SelectValue placeholder={pageSize} />\r\n            </SelectTrigger>\r\n            <SelectContent side=\"top\" className=\"bg-white dark:bg-gray-900\">\r\n              {[10, 20, 30, 40, 50].map((size) => (\r\n                <SelectItem\r\n                  key={size}\r\n                  value={`${size}`}\r\n                  className=\"hover:bg-gray-100 dark:hover:bg-gray-800\"\r\n                >\r\n                  {size}\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        <Pagination className=\"justify-end\">\r\n          <PaginationContent>\r\n            <PaginationItem>\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"hover:bg-primary/10 dark:hover:bg-primary/20 h-8 w-8 p-0\"\r\n                onClick={() => table.setPageIndex(0)}\r\n                disabled={currentPage <= 1}\r\n              >\r\n                <span className=\"sr-only\">Go to first page</span>\r\n                <ChevronsLeft className=\"h-4 w-4\" />\r\n              </Button>\r\n            </PaginationItem>\r\n            <PaginationItem>\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"hover:bg-primary/10 dark:hover:bg-primary/20 h-8 w-8 p-0\"\r\n                onClick={() => table.previousPage()}\r\n                disabled={currentPage <= 1}\r\n              >\r\n                <span className=\"sr-only\">Go to previous page</span>\r\n                <ChevronLeft className=\"h-4 w-4\" />\r\n              </Button>\r\n            </PaginationItem>\r\n\r\n            {pageNumbers.map((page, index) => (\r\n              <PaginationItem key={index}>\r\n                {page === \"ellipsis-left\" || page === \"ellipsis-right\" ? (\r\n                  <PaginationEllipsis className=\"text-gray-400\" />\r\n                ) : (\r\n                  <Button\r\n                    variant={currentPage === page ? \"default\" : \"outline\"}\r\n                    className={`h-8 w-8 p-0 ${\r\n                      currentPage === page\r\n                        ? \"bg-primary hover:bg-primary/90\"\r\n                        : \"hover:bg-primary/10 dark:hover:bg-primary/20\"\r\n                    } `}\r\n                    onClick={() => table.setPageIndex(Number(page) - 1)} // Convert to 0-based index for React Table\r\n                  >\r\n                    {page}\r\n                  </Button>\r\n                )}\r\n              </PaginationItem>\r\n            ))}\r\n\r\n            <PaginationItem>\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"hover:bg-primary/10 dark:hover:bg-primary/20 h-8 w-8 p-0\"\r\n                onClick={() => table.nextPage()}\r\n                disabled={!table.getCanNextPage()}\r\n              >\r\n                <span className=\"sr-only\">Go to next page</span>\r\n                <ChevronRight className=\"h-4 w-4\" />\r\n              </Button>\r\n            </PaginationItem>\r\n            <PaginationItem>\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"hover:bg-primary/10 dark:hover:bg-primary/20 h-8 w-8 p-0\"\r\n                onClick={() => table.setPageIndex(pageCount - 1)} // Convert to 0-based index\r\n                disabled={!table.getCanNextPage()}\r\n              >\r\n                <span className=\"sr-only\">Go to last page</span>\r\n                <ChevronsRight className=\"h-4 w-4\" />\r\n              </Button>\r\n            </PaginationItem>\r\n          </PaginationContent>\r\n        </Pagination>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTablePagination;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/components/data-table-pagination/index.ts"],"sourcesContent":["export { default } from \"./DataTablePagination\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 723, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/components/index.ts"],"sourcesContent":["export { default as DataTableBody } from \"./data-table-body\";\r\nexport { default as DataTableHeader } from \"./data-table-header\";\r\nexport { default as DataTableContent } from \"./data-table-content\";\r\nexport { default as DataTablePagination } from \"./data-table-pagination\";\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 772, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/DataTable.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// Core\r\nimport { useEffect, useState, ReactNode, useMemo } from \"react\";\r\nimport {\r\n  getCoreRowModel,\r\n  useReactTable,\r\n  getSortedRowModel,\r\n  RowSelectionState,\r\n  Updater,\r\n  OnChangeFn,\r\n  PaginationState,\r\n  ColumnPinningState,\r\n  ColumnSizingState,\r\n} from \"@tanstack/react-table\";\r\n\r\n// Internal\r\nimport { Props } from \"./lib/types\";\r\nimport {\r\n  DATA_TABLE_CONTEXT,\r\n  DEFAULT_PAGE_INDEX,\r\n  DEFAULT_PAGE_SIZE,\r\n} from \"./lib/constants\";\r\nimport { assign } from \"lodash-es\";\r\nimport {\r\n  DataTableBody,\r\n  DataTableContent,\r\n  DataTableHeader,\r\n  DataTablePagination,\r\n} from \"./components\";\r\n\r\ninterface DataTableRootProps<TData> extends Props<TData> {\r\n  children: ReactNode;\r\n}\r\n\r\nconst DataTable = <TData,>(props: DataTableRootProps<TData>) => {\r\n  // Props\r\n  const {\r\n    columns,\r\n    data,\r\n    manualPagination = true,\r\n    rowCount = 0,\r\n    state,\r\n    selectedRows,\r\n    onPaginationChange,\r\n    enableRowSelection = false,\r\n    enablePagination = true,\r\n    defaultSelectedRows,\r\n    getRowId,\r\n    classNames,\r\n    onSelectedRowsChange,\r\n    children,\r\n  } = props;\r\n\r\n  // States\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  const [columnPinning, setColumnPinning] = useState<ColumnPinningState>({\r\n    left: [],\r\n    right: [],\r\n  });\r\n  const [columnSizing, setColumnSizing] = useState<ColumnSizingState>({});\r\n\r\n  const [rowSelection, setRowSelection] = useState<RowSelectionState>(() => {\r\n    const initialState: RowSelectionState = {};\r\n\r\n    if (selectedRows && getRowId) {\r\n      selectedRows.forEach((row) => {\r\n        const rowId = getRowId!(row);\r\n        const rowIndex = data.findIndex((d) => getRowId!(d) === rowId);\r\n        if (rowIndex !== -1) {\r\n          initialState[rowIndex] = true;\r\n        }\r\n      });\r\n    } else if (defaultSelectedRows && getRowId) {\r\n      defaultSelectedRows.forEach((row) => {\r\n        const rowId = getRowId!(row);\r\n        const rowIndex = data.findIndex((d) => getRowId!(d) === rowId);\r\n        if (rowIndex !== -1) {\r\n          initialState[rowIndex] = true;\r\n        }\r\n      });\r\n    }\r\n\r\n    return initialState;\r\n  });\r\n\r\n  // Methods\r\n  const handlePaginationChange: OnChangeFn<PaginationState> = (updater) => {\r\n    if (!onPaginationChange) return;\r\n\r\n    const newPagination =\r\n      typeof updater === \"function\"\r\n        ? updater(\r\n            state?.pagination || {\r\n              pageIndex: DEFAULT_PAGE_INDEX,\r\n              pageSize: DEFAULT_PAGE_SIZE,\r\n            },\r\n          )\r\n        : updater;\r\n\r\n    onPaginationChange(newPagination);\r\n  };\r\n\r\n  const handleRowSelectionChange = (\r\n    updaterOrValue: Updater<RowSelectionState>,\r\n  ) => {\r\n    setRowSelection((prev) => {\r\n      const newRowSelection =\r\n        typeof updaterOrValue === \"function\"\r\n          ? updaterOrValue(prev)\r\n          : updaterOrValue;\r\n\r\n      if (onSelectedRowsChange) {\r\n        const selectedRowIds = Object.keys(newRowSelection).filter(\r\n          (id) => newRowSelection[id],\r\n        );\r\n        const selectedRows = selectedRowIds.map((id) => data[parseInt(id, 10)]);\r\n        onSelectedRowsChange(selectedRows);\r\n      }\r\n\r\n      return newRowSelection;\r\n    });\r\n  };\r\n\r\n  const handleOpenDeleteDialog = (open: boolean) => {\r\n    setOpenDeleteDialog(open);\r\n  };\r\n\r\n  // Table\r\n  const table = useReactTable({\r\n    data,\r\n    columns,\r\n    rowCount,\r\n    getRowId,\r\n    manualPagination,\r\n    state: {\r\n      pagination: state?.pagination,\r\n      rowSelection: enableRowSelection ? rowSelection : {},\r\n      columnPinning,\r\n      columnSizing,\r\n    },\r\n    onPaginationChange: enablePagination ? handlePaginationChange : undefined,\r\n    onColumnPinningChange: setColumnPinning,\r\n    onColumnSizingChange: setColumnSizing,\r\n    onRowSelectionChange: enableRowSelection\r\n      ? handleRowSelectionChange\r\n      : undefined,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n    enableRowSelection,\r\n    enableColumnResizing: true,\r\n    enableColumnPinning: true,\r\n    columnResizeMode: \"onChange\",\r\n  });\r\n\r\n  // Effects\r\n  useEffect(() => {\r\n    if (selectedRows && getRowId) {\r\n      const newSelection: RowSelectionState = {};\r\n\r\n      selectedRows.forEach((row) => {\r\n        const rowId = getRowId!(row);\r\n        const rowIndex = data.findIndex((d) => getRowId!(d) === rowId);\r\n        if (rowIndex !== -1) {\r\n          newSelection[rowIndex] = true;\r\n        }\r\n      });\r\n\r\n      setRowSelection(newSelection);\r\n    }\r\n  }, [selectedRows, data, getRowId]);\r\n\r\n  const contextValues = useMemo(\r\n    () => ({\r\n      // Props\r\n      table,\r\n      openDeleteDialog,\r\n      enableRowSelection,\r\n      enablePagination,\r\n      manualPagination,\r\n      classNames,\r\n      // Actions\r\n      openDeleteDialogAction: handleOpenDeleteDialog,\r\n    }),\r\n    [\r\n      table,\r\n      openDeleteDialog,\r\n      enableRowSelection,\r\n      enablePagination,\r\n      manualPagination,\r\n      classNames,\r\n      rowSelection,\r\n      columnPinning,\r\n      columnSizing,\r\n    ],\r\n  );\r\n\r\n  return (\r\n    <DATA_TABLE_CONTEXT.Provider value={contextValues}>\r\n      <div className=\"space-y-4 overflow-x-auto\">\r\n        <div className=\"overflow-hidden border border-gray-200 dark:border-gray-800\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </DATA_TABLE_CONTEXT.Provider>\r\n  );\r\n};\r\n\r\nexport default assign(DataTable, {\r\n  Header: DataTableHeader,\r\n  Body: DataTableBody,\r\n  Content: DataTableContent,\r\n  Pagination: DataTablePagination,\r\n});\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 945, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/shared/data-table-action-cell/DataTableActionCell.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { EditIcon, MoreHorizontalIcon, Trash2Icon } from \"lucide-react\";\r\nimport { FC, Fragment } from \"react\";\r\nimport { Props } from \"./lib/types\";\r\nimport { useDataTableContext } from \"../../lib/hooks\";\r\n\r\nconst ActionColumn: FC<Props> = (props) => {\r\n  // Props\r\n  const { rowName, actions = [], extraActions, onEdit, onDelete } = props;\r\n\r\n  // Hooks\r\n  const { openDeleteDialogAction } = useDataTableContext();\r\n\r\n  const handleDelete = () => {\r\n    if (onDelete) {\r\n      onDelete();\r\n    }\r\n\r\n    openDeleteDialogAction(true);\r\n  };\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger>\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\r\n          <MoreHorizontalIcon className=\"h-4 w-4\" />\r\n          <span className=\"sr-only\">Open menu</span>\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\" className=\"max-w-[200px]\">\r\n        <DropdownMenuLabel>\r\n          Thao tác với{\" \"}\r\n          <span className=\"text-primary font-semibold\">{rowName}</span>{\" \"}\r\n        </DropdownMenuLabel>\r\n\r\n        {actions.map((action, index) => (\r\n          <DropdownMenuItem\r\n            key={index}\r\n            onClick={action.onAction}\r\n            className=\"group\"\r\n          >\r\n            {action.icon && (\r\n              <action.icon className=\"size-4 mr-2 group-hover:text-white\" />\r\n            )}\r\n            {action.label}\r\n          </DropdownMenuItem>\r\n        ))}\r\n\r\n        {extraActions}\r\n\r\n        {onEdit && (\r\n          <DropdownMenuItem onClick={onEdit} className=\"group\">\r\n            <EditIcon className=\"size-4 mr-2 group-hover:text-white\" />\r\n            Chỉnh sửa\r\n          </DropdownMenuItem>\r\n        )}\r\n        {onDelete && (\r\n          <Fragment>\r\n            <DropdownMenuSeparator />\r\n            <DropdownMenuItem variant=\"destructive\" onClick={handleDelete}>\r\n              <Trash2Icon className=\"size-4\" />\r\n              Xóa dữ liệu\r\n            </DropdownMenuItem>\r\n          </Fragment>\r\n        )}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n};\r\n\r\nexport default ActionColumn;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAQA;AAAA;AAAA;AACA;AAEA;;;;;;;AAEA,MAAM,eAA0B,CAAC;IAC/B,QAAQ;IACR,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,YAAY,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG;IAElE,QAAQ;IACR,MAAM,EAAE,sBAAsB,EAAE,GAAG,IAAA,mLAAmB;IAEtD,MAAM,eAAe;QACnB,IAAI,UAAU;YACZ;QACF;QAEA,uBAAuB;IACzB;IAEA,qBACE,6VAAC,4JAAY;;0BACX,6VAAC,mKAAmB;0BAClB,cAAA,6VAAC,4IAAM;oBAAC,SAAQ;oBAAQ,MAAK;oBAAO,WAAU;;sCAC5C,6VAAC,8TAAkB;4BAAC,WAAU;;;;;;sCAC9B,6VAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAG9B,6VAAC,mKAAmB;gBAAC,OAAM;gBAAM,WAAU;;kCACzC,6VAAC,iKAAiB;;4BAAC;4BACJ;0CACb,6VAAC;gCAAK,WAAU;0CAA8B;;;;;;4BAAgB;;;;;;;oBAG/D,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACpB,6VAAC,gKAAgB;4BAEf,SAAS,OAAO,QAAQ;4BACxB,WAAU;;gCAET,OAAO,IAAI,kBACV,6VAAC,OAAO,IAAI;oCAAC,WAAU;;;;;;gCAExB,OAAO,KAAK;;2BAPR;;;;;oBAWR;oBAEA,wBACC,6VAAC,gKAAgB;wBAAC,SAAS;wBAAQ,WAAU;;0CAC3C,6VAAC,+SAAQ;gCAAC,WAAU;;;;;;4BAAuC;;;;;;;oBAI9D,0BACC,6VAAC,gUAAQ;;0CACP,6VAAC,qKAAqB;;;;;0CACtB,6VAAC,gKAAgB;gCAAC,SAAQ;gCAAc,SAAS;;kDAC/C,6VAAC,gTAAU;wCAAC,WAAU;;;;;;oCAAW;;;;;;;;;;;;;;;;;;;;;;;;;AAQ/C;uCAEe"}},
    {"offset": {"line": 1117, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/shared/data-table-action-cell/index.ts"],"sourcesContent":["export { default } from \"./DataTableActionCell\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 1124, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/shared/data-table-bulk-actions/DataTableBulkActions.tsx"],"sourcesContent":["import { useState, useEffect, useRef, FC } from \"react\";\r\nimport { X } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\";\r\n\r\nimport { Props } from \"./lib/types\";\r\nimport { useDataTableContext } from \"../../lib/hooks\";\r\n\r\n/**\r\n * A modular toolbar for displaying bulk actions when table rows are selected.\r\n *\r\n * @template TData The type of data in the table.\r\n * @param {object} props The component props.\r\n * @param {Table<TData>} props.table The react-table instance.\r\n * @param {string} props.entityName The name of the entity being acted upon (e.g., \"task\", \"user\").\r\n * @param {React.ReactNode} props.children The action buttons to be rendered inside the toolbar.\r\n * @returns {React.ReactNode | null} The rendered component or null if no rows are selected.\r\n */\r\nconst DataTableBulkActions: FC<Props> = (props) => {\r\n  // Props\r\n  const { entityName, actions } = props;\r\n\r\n  // Hooks\r\n  const { table } = useDataTableContext();\r\n\r\n  const selectedRows = table.getFilteredSelectedRowModel().rows;\r\n  const selectedCount = selectedRows.length;\r\n  const toolbarRef = useRef<HTMLDivElement>(null);\r\n  const [announcement, setAnnouncement] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (selectedCount > 0) {\r\n      const message = `${selectedCount} ${entityName}${\r\n        selectedCount > 1 ? \"s\" : \"\"\r\n      } selected. Bulk actions toolbar is available.`;\r\n\r\n      // Use queueMicrotask to defer state update and avoid cascading renders\r\n      queueMicrotask(() => {\r\n        setAnnouncement(message);\r\n      });\r\n\r\n      // Clear announcement after a delay\r\n      const timer = setTimeout(() => setAnnouncement(\"\"), 3000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [selectedCount, entityName]);\r\n\r\n  const handleClearSelection = () => {\r\n    table.resetRowSelection();\r\n  };\r\n\r\n  const handleKeyDown = (event: React.KeyboardEvent) => {\r\n    const buttons = toolbarRef.current?.querySelectorAll(\"button\");\r\n    if (!buttons) return;\r\n\r\n    const currentIndex = Array.from(buttons).findIndex(\r\n      (button) => button === document.activeElement\r\n    );\r\n\r\n    switch (event.key) {\r\n      case \"ArrowRight\": {\r\n        event.preventDefault();\r\n        const nextIndex = (currentIndex + 1) % buttons.length;\r\n        buttons[nextIndex]?.focus();\r\n        break;\r\n      }\r\n      case \"ArrowLeft\": {\r\n        event.preventDefault();\r\n        const prevIndex =\r\n          currentIndex === 0 ? buttons.length - 1 : currentIndex - 1;\r\n        buttons[prevIndex]?.focus();\r\n        break;\r\n      }\r\n      case \"Home\":\r\n        event.preventDefault();\r\n        buttons[0]?.focus();\r\n        break;\r\n      case \"End\":\r\n        event.preventDefault();\r\n        buttons[buttons.length - 1]?.focus();\r\n        break;\r\n      case \"Escape\": {\r\n        // Check if the Escape key came from a dropdown trigger or content\r\n        // We can't check dropdown state because Radix UI closes it before our handler runs\r\n        const target = event.target as HTMLElement;\r\n        const activeElement = document.activeElement as HTMLElement;\r\n\r\n        // Check if the event target or currently focused element is a dropdown trigger\r\n        const isFromDropdownTrigger =\r\n          target?.getAttribute(\"data-slot\") === \"dropdown-menu-trigger\" ||\r\n          activeElement?.getAttribute(\"data-slot\") ===\r\n            \"dropdown-menu-trigger\" ||\r\n          target?.closest('[data-slot=\"dropdown-menu-trigger\"]') ||\r\n          activeElement?.closest('[data-slot=\"dropdown-menu-trigger\"]');\r\n\r\n        // Check if the focused element is inside dropdown content (which is portaled)\r\n        const isFromDropdownContent =\r\n          activeElement?.closest('[data-slot=\"dropdown-menu-content\"]') ||\r\n          target?.closest('[data-slot=\"dropdown-menu-content\"]');\r\n\r\n        if (isFromDropdownTrigger || isFromDropdownContent) {\r\n          // Escape was meant for the dropdown - don't clear selection\r\n          return;\r\n        }\r\n\r\n        // Escape was meant for the toolbar - clear selection\r\n        event.preventDefault();\r\n        handleClearSelection();\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  if (selectedCount === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Live region for screen reader announcements */}\r\n      <div\r\n        aria-live=\"polite\"\r\n        aria-atomic=\"true\"\r\n        className=\"sr-only\"\r\n        role=\"status\"\r\n      >\r\n        {announcement}\r\n      </div>\r\n\r\n      <div\r\n        ref={toolbarRef}\r\n        role=\"toolbar\"\r\n        aria-label={`Bulk actions for ${selectedCount} selected ${entityName}${\r\n          selectedCount > 1 ? \"s\" : \"\"\r\n        }`}\r\n        aria-describedby=\"bulk-actions-description\"\r\n        tabIndex={-1}\r\n        onKeyDown={handleKeyDown}\r\n        className={cn(\r\n          \"fixed bottom-6 left-1/2 z-50 -translate-x-1/2 rounded-xl\",\r\n          \"transition-all delay-100 duration-300 ease-out hover:scale-105\",\r\n          \"focus-visible:ring-ring/50 focus-visible:ring-2 focus-visible:outline-none\"\r\n        )}\r\n      >\r\n        <div\r\n          className={cn(\r\n            \"p-2 shadow-xl\",\r\n            \"rounded-xl border\",\r\n            \"bg-background/95 supports-[backdrop-filter]:bg-background/60 backdrop-blur-lg\",\r\n            \"flex items-center gap-x-2\"\r\n          )}\r\n        >\r\n          <Tooltip>\r\n            <TooltipTrigger asChild>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"icon\"\r\n                onClick={handleClearSelection}\r\n                className=\"size-6 rounded-full\"\r\n                aria-label=\"Đóng\"\r\n                title=\"Đóng  (Escape)\"\r\n              >\r\n                <X />\r\n                <span className=\"sr-only\">Đóng </span>\r\n              </Button>\r\n            </TooltipTrigger>\r\n            <TooltipContent>\r\n              <p>Đóng (Escape)</p>\r\n            </TooltipContent>\r\n          </Tooltip>\r\n\r\n          <Separator\r\n            className=\"h-5\"\r\n            orientation=\"vertical\"\r\n            aria-hidden=\"true\"\r\n          />\r\n\r\n          <div\r\n            className=\"flex items-center gap-x-1 text-sm\"\r\n            id=\"bulk-actions-description\"\r\n          >\r\n            <Badge variant=\"default\" aria-label={`${selectedCount} selected`}>\r\n              {selectedCount}\r\n            </Badge>{\" \"}\r\n            <span className=\"hidden sm:inline\">\r\n              {entityName}\r\n              {selectedCount > 1 ? \"s\" : \"\"}\r\n            </span>{\" \"}\r\n            đã chọn\r\n          </div>\r\n\r\n          <Separator className=\"h-5! mx-2\" orientation=\"vertical\" />\r\n\r\n          {actions.map((action, index) => {\r\n            const ActionIcon = action.icon;\r\n\r\n            return (\r\n              <Tooltip key={`action-${action.label}-${index}`}>\r\n                <TooltipTrigger asChild>\r\n                  <Button\r\n                    variant={action.variant || \"default\"}\r\n                    size=\"icon\"\r\n                    onClick={action.onAction}\r\n                    aria-label={action.label}\r\n                    title={action.label}\r\n                    className=\"size-8 rounded-xl shadow-md hover:scale-105 transition-transform hover:shadow-lg duration-500\"\r\n                  >\r\n                    {<ActionIcon className=\"size-4\" />}\r\n                    <span className=\"sr-only\">{action.label}</span>\r\n                  </Button>\r\n                </TooltipTrigger>\r\n                <TooltipContent>\r\n                  <p>{action.tooltip}</p>\r\n                </TooltipContent>\r\n              </Tooltip>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DataTableBulkActions;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1441, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/shared/data-table-bulk-actions/index.ts"],"sourcesContent":["export { default } from \"./DataTableBulkActions\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 1448, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/confirm-dialog/ConfirmDialog.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ntype ConfirmDialogProps = {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  title: React.ReactNode;\r\n  disabled?: boolean;\r\n  desc: React.JSX.Element | string;\r\n  cancelBtnText?: string;\r\n  confirmText?: React.ReactNode;\r\n  destructive?: boolean;\r\n  handleConfirm: () => void;\r\n  isLoading?: boolean;\r\n  className?: string;\r\n  children?: React.ReactNode;\r\n};\r\n\r\nconst ConfirmDialog = (props: ConfirmDialogProps) => {\r\n  const {\r\n    title,\r\n    desc,\r\n    children,\r\n    className,\r\n    confirmText,\r\n    cancelBtnText,\r\n    destructive,\r\n    isLoading,\r\n    disabled = false,\r\n    handleConfirm,\r\n    ...actions\r\n  } = props;\r\n  return (\r\n    <AlertDialog {...actions}>\r\n      <AlertDialogContent className={cn(className && className)}>\r\n        <AlertDialogHeader className=\"text-start\">\r\n          <AlertDialogTitle>{title}</AlertDialogTitle>\r\n          <AlertDialogDescription asChild>\r\n            <div>{desc}</div>\r\n          </AlertDialogDescription>\r\n        </AlertDialogHeader>\r\n        {children}\r\n        <AlertDialogFooter>\r\n          <AlertDialogCancel disabled={isLoading}>\r\n            {cancelBtnText ?? \"Cancel\"}\r\n          </AlertDialogCancel>\r\n          <Button\r\n            variant={destructive ? \"destructive\" : \"default\"}\r\n            onClick={handleConfirm}\r\n            disabled={disabled || isLoading}\r\n          >\r\n            {confirmText ?? \"Continue\"}\r\n          </Button>\r\n        </AlertDialogFooter>\r\n      </AlertDialogContent>\r\n    </AlertDialog>\r\n  );\r\n};\r\n\r\nexport default ConfirmDialog;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AASA;;;;;AAiBA,MAAM,gBAAgB,CAAC;IACrB,MAAM,EACJ,KAAK,EACL,IAAI,EACJ,QAAQ,EACR,SAAS,EACT,WAAW,EACX,aAAa,EACb,WAAW,EACX,SAAS,EACT,WAAW,KAAK,EAChB,aAAa,EACb,GAAG,SACJ,GAAG;IACJ,qBACE,6VAAC,0JAAW;QAAE,GAAG,OAAO;kBACtB,cAAA,6VAAC,iKAAkB;YAAC,WAAW,IAAA,yHAAE,EAAC,aAAa;;8BAC7C,6VAAC,gKAAiB;oBAAC,WAAU;;sCAC3B,6VAAC,+JAAgB;sCAAE;;;;;;sCACnB,6VAAC,qKAAsB;4BAAC,OAAO;sCAC7B,cAAA,6VAAC;0CAAK;;;;;;;;;;;;;;;;;gBAGT;8BACD,6VAAC,gKAAiB;;sCAChB,6VAAC,gKAAiB;4BAAC,UAAU;sCAC1B,iBAAiB;;;;;;sCAEpB,6VAAC,4IAAM;4BACL,SAAS,cAAc,gBAAgB;4BACvC,SAAS;4BACT,UAAU,YAAY;sCAErB,eAAe;;;;;;;;;;;;;;;;;;;;;;;AAM5B;uCAEe"}},
    {"offset": {"line": 1541, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/confirm-dialog/index.ts"],"sourcesContent":["export { default } from \"./ConfirmDialog\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 1548, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/shared/data-table-delete-dialog/DataTableDeleteDialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Trash2Icon, TrashIcon } from \"lucide-react\";\r\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport ConfirmDialog from \"@/components/shared/confirm-dialog\";\r\nimport { useDataTableContext } from \"../../lib/hooks\";\r\n\r\ntype UserDeleteDialogProps<TData> = {\r\n  deleting?: boolean;\r\n  currentRow: (TData & { name: string }) | null;\r\n  onDelete: (row: TData) => void;\r\n};\r\n\r\nconst DataTableDeleteDialog = <TData,>({\r\n  onDelete,\r\n  currentRow,\r\n  deleting,\r\n}: UserDeleteDialogProps<TData>) => {\r\n  const { openDeleteDialog, openDeleteDialogAction } =\r\n    useDataTableContext<TData>();\r\n\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const handleDelete = () => {\r\n    if (currentRow && value === currentRow.name) {\r\n      onDelete(currentRow);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ConfirmDialog\r\n      disabled={value !== currentRow?.name}\r\n      isLoading={deleting}\r\n      open={openDeleteDialog && currentRow !== null}\r\n      onOpenChange={openDeleteDialogAction}\r\n      handleConfirm={handleDelete}\r\n      title={\r\n        <span className=\"text-destructive\">\r\n          <Trash2Icon\r\n            className=\"stroke-destructive me-1 inline-block\"\r\n            size={18}\r\n          />{\" \"}\r\n          Xóa dữ liệu\r\n        </span>\r\n      }\r\n      desc={\r\n        <div className=\"space-y-4\">\r\n          <p className=\"mb-2\">\r\n            Bạn chắc chắn xóa{\" \"}\r\n            <span className=\"font-bold ml-1 text-destructive\">\r\n              {currentRow?.name}\r\n            </span>\r\n            <br />\r\n            Hành động này không thể hoàn tác. Vui lòng nhập tên giá trị để xác\r\n            nhận.\r\n          </p>\r\n\r\n          <Label className=\"my-2\">\r\n            <Input\r\n              value={value}\r\n              onChange={(e) => setValue(e.target.value)}\r\n              placeholder=\"Nhập tên giá trị để xác nhận việc xóa.\"\r\n              disabled={deleting}\r\n            />\r\n          </Label>\r\n\r\n          <Alert variant=\"destructive\">\r\n            <AlertTitle>Cảnh báo</AlertTitle>\r\n            <AlertDescription>\r\n              Vui lòng cẩn thận, hành động này không thể hoàn tác.\r\n            </AlertDescription>\r\n          </Alert>\r\n        </div>\r\n      }\r\n      confirmText=\"Delete\"\r\n      destructive\r\n    />\r\n  );\r\n};\r\n\r\nexport default DataTableDeleteDialog;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AARA;;;;;;;;;AAgBA,MAAM,wBAAwB,CAAS,EACrC,QAAQ,EACR,UAAU,EACV,QAAQ,EACqB;IAC7B,MAAM,EAAE,gBAAgB,EAAE,sBAAsB,EAAE,GAChD,IAAA,mLAAmB;IAErB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gUAAQ,EAAC;IAEnC,MAAM,eAAe;QACnB,IAAI,cAAc,UAAU,WAAW,IAAI,EAAE;YAC3C,SAAS;QACX;IACF;IAEA,qBACE,6VAAC,6KAAa;QACZ,UAAU,UAAU,YAAY;QAChC,WAAW;QACX,MAAM,oBAAoB,eAAe;QACzC,cAAc;QACd,eAAe;QACf,qBACE,6VAAC;YAAK,WAAU;;8BACd,6VAAC,gTAAU;oBACT,WAAU;oBACV,MAAM;;;;;;gBACL;gBAAI;;;;;;;QAIX,oBACE,6VAAC;YAAI,WAAU;;8BACb,6VAAC;oBAAE,WAAU;;wBAAO;wBACA;sCAClB,6VAAC;4BAAK,WAAU;sCACb,YAAY;;;;;;sCAEf,6VAAC;;;;;wBAAK;;;;;;;8BAKR,6VAAC,0IAAK;oBAAC,WAAU;8BACf,cAAA,6VAAC,0IAAK;wBACJ,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,aAAY;wBACZ,UAAU;;;;;;;;;;;8BAId,6VAAC,0IAAK;oBAAC,SAAQ;;sCACb,6VAAC,+IAAU;sCAAC;;;;;;sCACZ,6VAAC,qJAAgB;sCAAC;;;;;;;;;;;;;;;;;;QAMxB,aAAY;QACZ,WAAW;;;;;;AAGjB;uCAEe"}},
    {"offset": {"line": 1690, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/shared/data-table-delete-dialog/index.ts"],"sourcesContent":["export { default } from \"./DataTableDeleteDialog\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 1697, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/shared/index.ts"],"sourcesContent":["export { default as DataTableActionCell } from \"./data-table-action-cell\";\r\nexport { default as DataTableBulkAction } from \"./data-table-bulk-actions\";\r\nexport { default as DataTableBulkActions } from \"./data-table-bulk-actions\";\r\nexport { default as DataTableDeleteDialog } from \"./data-table-delete-dialog\";\r\n"],"names":[],"mappings":";AAAA;AACA;AAEA"}},
    {"offset": {"line": 1727, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/lib/constants.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext } from \"react\";\r\nimport { UploaderContextValue } from \"./types\";\r\n\r\nexport const UPLOADER_CONTEXT = createContext<UploaderContextValue | null>(\r\n  null,\r\n);\r\n\r\nexport const DEFAULT_MAX_FILES = 10;\r\nexport const DEFAULT_MAX_SIZE = 10 * 1024 * 1024; // 10MB\r\nexport const DEFAULT_ACCEPT = {\r\n  \"*/*\": [],\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AAEA;AAFA;;AAKO,MAAM,iCAAmB,IAAA,qUAAa,EAC3C;AAGK,MAAM,oBAAoB;AAC1B,MAAM,mBAAmB,KAAK,OAAO,MAAM,OAAO;AAClD,MAAM,iBAAiB;IAC5B,OAAO,EAAE;AACX"}},
    {"offset": {"line": 1750, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/lib/hooks.ts"],"sourcesContent":["import { useContext } from \"react\";\r\nimport { UPLOADER_CONTEXT } from \"./constants\";\r\n\r\nexport const useUploaderContext = () => {\r\n  const context = useContext(UPLOADER_CONTEXT);\r\n\r\n  if (!context) {\r\n    throw new Error(\r\n      \"useUploaderContext must be used within an Uploader component\"\r\n    );\r\n  }\r\n\r\n  return context;\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,qBAAqB;IAChC,MAAM,UAAU,IAAA,kUAAU,EAAC,+KAAgB;IAE3C,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MACR;IAEJ;IAEA,OAAO;AACT"}},
    {"offset": {"line": 1769, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/lib/types.ts"],"sourcesContent":["import { DropzoneState } from \"react-dropzone\";\r\nimport { ReactNode } from \"react\";\r\n\r\nexport enum FileStatus {\r\n  PENDING = \"pending\",\r\n  SUCCESS = \"success\",\r\n  ERROR = \"error\",\r\n}\r\n\r\nexport interface FileWithPreview extends File {\r\n  preview?: string;\r\n  status?: FileStatus;\r\n  uploadProgress?: number;\r\n  errorMessage?: string;\r\n}\r\n\r\nexport interface UploaderContextValue {\r\n  // Props\r\n  multiple: boolean;\r\n  accept?: Record<string, string[]>;\r\n  maxSize: number;\r\n  maxFiles: number;\r\n  fileList: FileWithPreview[];\r\n  dropZoneStates: DropzoneState;\r\n\r\n  // Actions\r\n  handleAddFiles: (newFile: File) => void;\r\n  handleDeleteFile: (fileName: string) => void;\r\n}\r\n\r\nexport interface UploaderProps {\r\n  multiple?: boolean;\r\n  maxFiles?: number;\r\n  maxSize?: number;\r\n  accept?: Record<string, string[]>;\r\n  value: File[];\r\n  onChange?: (updatedFileList: FileWithPreview[]) => void;\r\n  children?: ReactNode;\r\n}\r\n"],"names":[],"mappings":";;;;AAGO,IAAA,AAAK,oCAAA;;;;WAAA"}},
    {"offset": {"line": 1783, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/lib/utils.ts"],"sourcesContent":["import { FileStatus, FileWithPreview } from \"./types\";\r\n\r\nexport const createFileWithPreview = (\r\n  file: File,\r\n  status: FileStatus,\r\n  errorMessage?: string\r\n): FileWithPreview => {\r\n  console.log(\"Creating file with preview:\", file.name, \"Status:\", status);\r\n\r\n  const fileWithPreview = Object.assign(file, {\r\n    status,\r\n    uploadProgress: 0,\r\n    errorMessage,\r\n    preview: file.type.startsWith(\"image/\")\r\n      ? URL.createObjectURL(file)\r\n      : undefined,\r\n  });\r\n\r\n  return fileWithPreview;\r\n};\r\n\r\nexport const formatFileSize = (bytes: number): string => {\r\n  if (bytes === 0) return \"0 Bytes\";\r\n\r\n  const k = 1024;\r\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n  return Math.round(bytes / Math.pow(k, i)) + \" \" + sizes[i];\r\n};\r\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,wBAAwB,CACnC,MACA,QACA;IAEA,QAAQ,GAAG,CAAC,+BAA+B,KAAK,IAAI,EAAE,WAAW;IAEjE,MAAM,kBAAkB,OAAO,MAAM,CAAC,MAAM;QAC1C;QACA,gBAAgB;QAChB;QACA,SAAS,KAAK,IAAI,CAAC,UAAU,CAAC,YAC1B,IAAI,eAAe,CAAC,QACpB;IACN;IAEA,OAAO;AACT;AAEO,MAAM,iBAAiB,CAAC;IAC7B,IAAI,UAAU,GAAG,OAAO;IAExB,MAAM,IAAI;IACV,MAAM,QAAQ;QAAC;QAAS;QAAM;QAAM;KAAK;IACzC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAEhD,OAAO,KAAK,KAAK,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,MAAM,MAAM,KAAK,CAAC,EAAE;AAC5D"}},
    {"offset": {"line": 1815, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/components/uploader-drop-zone/UploaderDropZone.tsx"],"sourcesContent":["import { FC, ReactNode } from \"react\";\r\nimport { cn } from \"@/utils/ui\";\r\nimport { useUploaderContext } from \"../../lib/hooks\";\r\n\r\ninterface UploaderDropZoneProps {\r\n  className?: string;\r\n  children?: ReactNode;\r\n}\r\n\r\nconst UploaderDropZone: FC<UploaderDropZoneProps> = (props) => {\r\n  const { className, children } = props;\r\n\r\n  // Hooks\r\n  const { dropZoneStates, multiple, fileList } = useUploaderContext();\r\n  const { getRootProps, getInputProps, isDragActive } = dropZoneStates;\r\n\r\n  if (!multiple && fileList.length > 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      {...getRootProps()}\r\n      className={cn(\r\n        \"relative flex min-h-[200px] cursor-pointer flex-col items-center justify-center rounded-none border-2 border-dashed border-gray-300 p-6 transition-colors\",\r\n        isDragActive && \"border-primary bg-primary/5\",\r\n        className\r\n      )}\r\n    >\r\n      <input {...getInputProps()} multiple={multiple} />\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploaderDropZone;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAOA,MAAM,mBAA8C,CAAC;IACnD,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG;IAEhC,QAAQ;IACR,MAAM,EAAE,cAAc,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAA,6KAAkB;IACjE,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,YAAY,EAAE,GAAG;IAEtD,IAAI,CAAC,YAAY,SAAS,MAAM,GAAG,GAAG;QACpC,OAAO;IACT;IAEA,qBACE,6VAAC;QACE,GAAG,cAAc;QAClB,WAAW,IAAA,wHAAE,EACX,6JACA,gBAAgB,+BAChB;;0BAGF,6VAAC;gBAAO,GAAG,eAAe;gBAAE,UAAU;;;;;;YACrC;;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 1858, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/components/uploader-drop-zone/index.ts"],"sourcesContent":["export { default } from \"./UploaderDropZone\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 1865, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/components/uploader-media-list/UploaderMediaList.tsx"],"sourcesContent":["import { FC } from \"react\";\r\nimport { cn } from \"@/utils/ui\";\r\nimport baseConfig from \"@/configs/base\";\r\nimport Image from \"@/components/ui/image\";\r\nimport { ExternalLinkIcon, LinkIcon, XIcon } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useUploaderContext } from \"../../lib/hooks\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { formatBytes, getFileIcon } from \"@/utils/file\";\r\n\r\ninterface UploaderMediaListProps {\r\n  className?: string;\r\n  defaultValues?: string[];\r\n}\r\n\r\nconst UploaderMediaList: FC<UploaderMediaListProps> = (props) => {\r\n  const { className, defaultValues = [] } = props;\r\n\r\n  // Hooks\r\n  const { fileList, handleDeleteFile } = useUploaderContext();\r\n\r\n  return (\r\n    <div className={cn(\"flex gap-4 flex-wrap flex-col\", className)}>\r\n      {fileList.map((file, index) => {\r\n        const FileIcon = getFileIcon(file.type);\r\n\r\n        return (\r\n          <div\r\n            key={`${file.name}-${index}`}\r\n            className=\"border border-border bg-card p-4\"\r\n          >\r\n            <div className=\"flex items-start gap-2.5\">\r\n              {/* File Icon */}\r\n              <div className=\"shrink-0\">\r\n                {file.preview && file.type.startsWith(\"image/\") ? (\r\n                  <Image\r\n                    src={file.preview}\r\n                    alt={file.name}\r\n                    className=\"size-12 border object-cover\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"flex size-12 items-center justify-center rounded-lg border border-border text-muted-foreground\">\r\n                    <FileIcon />\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* File Info */}\r\n              <div className=\"min-w-0 flex-1\">\r\n                <div className=\"flex items-center justify-between mt-0.75\">\r\n                  <p className=\"inline-flex flex-col justify-center gap-1 truncate font-medium\">\r\n                    <span className=\"text-sm truncate max-w-[200px]\">\r\n                      {file.name}\r\n                    </span>\r\n                    <span className=\"text-xs text-muted-foreground\">\r\n                      {formatBytes(file.size)}\r\n                    </span>\r\n                  </p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {/* Remove Button */}\r\n                    <Button\r\n                      onClick={() => handleDeleteFile(file.name)}\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      className=\"size-6 text-muted-foreground hover:opacity-100 hover:bg-transparent\"\r\n                    >\r\n                      <XIcon className=\"size-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n\r\n      <Separator />\r\n\r\n      {defaultValues.length > 0 && (\r\n        <div className=\"text-sm text-muted-foreground\">\r\n          Đã tải lên {defaultValues.length} file trước đó.\r\n        </div>\r\n      )}\r\n\r\n      {defaultValues.map((fileUrl, index) => (\r\n        <div key={`${fileUrl}-${index}`} className=\"group\">\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href={\r\n              fileUrl.startsWith(baseConfig.mediaDomain)\r\n                ? fileUrl\r\n                : `${baseConfig.mediaDomain}/${fileUrl}`\r\n            }\r\n            className=\"flex items-center gap-3 p-3  border border-input bg-card hover:bg-muted transition-colors\"\r\n          >\r\n            {/* File Icon Container */}\r\n            <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-md border bg-background\">\r\n              <LinkIcon className=\"h-4 w-4 text-muted-foreground\" />\r\n            </div>\r\n\r\n            {/* File Info */}\r\n            <div className=\"flex min-w-0 flex-1 flex-col gap-0.5\">\r\n              <p className=\"truncate text-sm font-medium leading-none group-hover:text-blue-600\">\r\n                {fileUrl.split(\"/\").pop()}\r\n              </p>\r\n              <p className=\"truncate text-xs text-muted-foreground\">\r\n                {baseConfig.mediaDomain}\r\n              </p>\r\n            </div>\r\n\r\n            {/* External Link Indicator */}\r\n            <ExternalLinkIcon className=\"h-3.5 w-3.5 shrink-0 text-muted-foreground/50 group-hover:text-muted-foreground transition-colors\" />\r\n          </a>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploaderMediaList;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;AAOA,MAAM,oBAAgD,CAAC;IACrD,MAAM,EAAE,SAAS,EAAE,gBAAgB,EAAE,EAAE,GAAG;IAE1C,QAAQ;IACR,MAAM,EAAE,QAAQ,EAAE,gBAAgB,EAAE,GAAG,IAAA,6KAAkB;IAEzD,qBACE,6VAAC;QAAI,WAAW,IAAA,wHAAE,EAAC,iCAAiC;;YACjD,SAAS,GAAG,CAAC,CAAC,MAAM;gBACnB,MAAM,WAAW,IAAA,mIAAW,EAAC,KAAK,IAAI;gBAEtC,qBACE,6VAAC;oBAEC,WAAU;8BAEV,cAAA,6VAAC;wBAAI,WAAU;;0CAEb,6VAAC;gCAAI,WAAU;0CACZ,KAAK,OAAO,IAAI,KAAK,IAAI,CAAC,UAAU,CAAC,0BACpC,6VAAC,4IAAK;oCACJ,KAAK,KAAK,OAAO;oCACjB,KAAK,KAAK,IAAI;oCACd,WAAU;;;;;6FAGZ,6VAAC;oCAAI,WAAU;8CACb,cAAA,6VAAC;;;;;;;;;;;;;;;0CAMP,6VAAC;gCAAI,WAAU;0CACb,cAAA,6VAAC;oCAAI,WAAU;;sDACb,6VAAC;4CAAE,WAAU;;8DACX,6VAAC;oDAAK,WAAU;8DACb,KAAK,IAAI;;;;;;8DAEZ,6VAAC;oDAAK,WAAU;8DACb,IAAA,mIAAW,EAAC,KAAK,IAAI;;;;;;;;;;;;sDAG1B,6VAAC;4CAAI,WAAU;sDAEb,cAAA,6VAAC,4IAAM;gDACL,SAAS,IAAM,iBAAiB,KAAK,IAAI;gDACzC,SAAQ;gDACR,MAAK;gDACL,WAAU;0DAEV,cAAA,6VAAC,6RAAK;oDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBAtCtB,GAAG,KAAK,IAAI,CAAC,CAAC,EAAE,OAAO;;;;;YA8ClC;0BAEA,6VAAC,kJAAS;;;;;YAET,cAAc,MAAM,GAAG,mBACtB,6VAAC;gBAAI,WAAU;;oBAAgC;oBACjC,cAAc,MAAM;oBAAC;;;;;;;YAIpC,cAAc,GAAG,CAAC,CAAC,SAAS,sBAC3B,6VAAC;oBAAgC,WAAU;8BACzC,cAAA,6VAAC;wBACC,QAAO;wBACP,KAAI;wBACJ,MACE,QAAQ,UAAU,CAAC,iIAAU,CAAC,WAAW,IACrC,UACA,GAAG,iIAAU,CAAC,WAAW,CAAC,CAAC,EAAE,SAAS;wBAE5C,WAAU;;0CAGV,6VAAC;gCAAI,WAAU;0CACb,cAAA,6VAAC,sSAAQ;oCAAC,WAAU;;;;;;;;;;;0CAItB,6VAAC;gCAAI,WAAU;;kDACb,6VAAC;wCAAE,WAAU;kDACV,QAAQ,KAAK,CAAC,KAAK,GAAG;;;;;;kDAEzB,6VAAC;wCAAE,WAAU;kDACV,iIAAU,CAAC,WAAW;;;;;;;;;;;;0CAK3B,6VAAC,kUAAgB;gCAAC,WAAU;;;;;;;;;;;;mBA3BtB,GAAG,QAAQ,CAAC,EAAE,OAAO;;;;;;;;;;;AAiCvC;uCAEe"}},
    {"offset": {"line": 2101, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/components/uploader-media-list/index.ts"],"sourcesContent":["export { default } from \"./UploaderMediaList\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 2108, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/components/uploader-placeholder/UploaderPlaceholder.tsx"],"sourcesContent":["import { FC, ReactNode } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Upload } from \"lucide-react\";\r\nimport { useUploaderContext } from \"../../lib/hooks\";\r\nimport { formatFileSize } from \"../../lib/utils\";\r\n\r\ninterface UploaderPlaceholderProps {}\r\n\r\nconst UploaderPlaceholder: FC<UploaderPlaceholderProps> = () => {\r\n  // Hooks\r\n  const { accept, maxFiles, maxSize } = useUploaderContext();\r\n\r\n  const maxSizeMB = Math.round(maxSize / (1024 * 1024));\r\n  const supportedFormats = accept\r\n    ? Object.values(accept).flat().join(\", \")\r\n    : \"All files\";\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center gap-4 text-center\">\r\n      <div className=\"space-y-2\">\r\n        <h3 className=\"text-sm font-medium text-gray-900\">\r\n          Kéo thả file vào đây\r\n        </h3>\r\n        <p className=\"text-xs text-gray-500\">hoặc</p>\r\n      </div>\r\n\r\n      <Button type=\"button\" variant=\"outline\" size=\"sm\">\r\n        Chọn File\r\n      </Button>\r\n\r\n      {(maxSize > 0 || maxFiles > 0) && (\r\n        <div className=\"mt-2 space-y-1 text-xs text-gray-500\">\r\n          <p>Định dạng hỗ trợ: {supportedFormats}</p>\r\n          {maxFiles > 0 && (\r\n            <p>\r\n              Tối đa {maxFiles} {maxFiles > 1 ? \"files\" : \"file\"}\r\n            </p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploaderPlaceholder;\r\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAKA,MAAM,sBAAoD;IACxD,QAAQ;IACR,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,IAAA,6KAAkB;IAExD,MAAM,YAAY,KAAK,KAAK,CAAC,UAAU,CAAC,OAAO,IAAI;IACnD,MAAM,mBAAmB,SACrB,OAAO,MAAM,CAAC,QAAQ,IAAI,GAAG,IAAI,CAAC,QAClC;IAEJ,qBACE,6VAAC;QAAI,WAAU;;0BACb,6VAAC;gBAAI,WAAU;;kCACb,6VAAC;wBAAG,WAAU;kCAAoC;;;;;;kCAGlD,6VAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;0BAGvC,6VAAC,4IAAM;gBAAC,MAAK;gBAAS,SAAQ;gBAAU,MAAK;0BAAK;;;;;;YAIjD,CAAC,UAAU,KAAK,WAAW,CAAC,mBAC3B,6VAAC;gBAAI,WAAU;;kCACb,6VAAC;;4BAAE;4BAAmB;;;;;;;oBACrB,WAAW,mBACV,6VAAC;;4BAAE;4BACO;4BAAS;4BAAE,WAAW,IAAI,UAAU;;;;;;;;;;;;;;;;;;;AAO1D;uCAEe"}},
    {"offset": {"line": 2204, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/components/uploader-placeholder/index.ts"],"sourcesContent":["export { default } from \"./UploaderPlaceholder\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 2211, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/delete-dialog/DeleteDialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { AlertTriangle, Loader2, Trash2 } from \"lucide-react\";\r\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ntype DeleteDialogProps = {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onConfirm: () => void;\r\n  deleting?: boolean;\r\n  title?: string;\r\n  description?: string;\r\n  confirmText?: string;\r\n  requireConfirmation?: boolean;\r\n  confirmationText?: string;\r\n  itemName?: string;\r\n};\r\n\r\nconst DeleteDialog = ({\r\n  open,\r\n  onOpenChange,\r\n  onConfirm,\r\n  deleting = false,\r\n  title = \"Xóa dữ liệu\",\r\n  description,\r\n  confirmText = \"Xóa\",\r\n  requireConfirmation = false,\r\n  confirmationText = \"DELETE\",\r\n  itemName,\r\n}: DeleteDialogProps) => {\r\n  const [confirmValue, setConfirmValue] = useState(\"\");\r\n\r\n  const handleOpenChange = (newOpen: boolean) => {\r\n    if (!deleting) {\r\n      onOpenChange(newOpen);\r\n      if (!newOpen) {\r\n        setConfirmValue(\"\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    if (requireConfirmation && confirmValue !== confirmationText) {\r\n      return;\r\n    }\r\n    onConfirm();\r\n    setConfirmValue(\"\");\r\n  };\r\n\r\n  const isConfirmDisabled = requireConfirmation\r\n    ? confirmValue !== confirmationText\r\n    : false;\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={handleOpenChange}>\r\n      <DialogContent className=\"sm:max-w-[500px]\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2 text-destructive\">\r\n            <AlertTriangle className=\"h-5 w-5\" />\r\n            {title}\r\n          </DialogTitle>\r\n          {description && (\r\n            <DialogDescription className=\"text-base pt-2\">\r\n              {description}\r\n            </DialogDescription>\r\n          )}\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4 py-4\">\r\n          {itemName && (\r\n            <p className=\"text-sm\">\r\n              Bạn chắc chắn muốn xóa{\" \"}\r\n              <span className=\"font-semibold\">{itemName}</span>?\r\n            </p>\r\n          )}\r\n\r\n          {requireConfirmation && (\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"confirmation\">\r\n                Nhập{\" \"}\r\n                <span className=\"font-mono font-semibold\">\r\n                  {confirmationText}\r\n                </span>{\" \"}\r\n                để xác nhận:\r\n              </Label>\r\n              <Input\r\n                id=\"confirmation\"\r\n                value={confirmValue}\r\n                onChange={(e) => setConfirmValue(e.target.value)}\r\n                placeholder={`Nhập \"${confirmationText}\" để xác nhận`}\r\n                disabled={deleting}\r\n                autoComplete=\"off\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <Alert variant=\"destructive\">\r\n            <AlertTriangle className=\"h-4 w-4\" />\r\n            <AlertTitle>Cảnh báo</AlertTitle>\r\n            <AlertDescription>\r\n              Hành động này không thể hoàn tác. Dữ liệu sẽ bị xóa vĩnh viễn.\r\n            </AlertDescription>\r\n          </Alert>\r\n        </div>\r\n\r\n        <DialogFooter>\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"outline\"\r\n            onClick={() => handleOpenChange(false)}\r\n            disabled={deleting}\r\n          >\r\n            Hủy\r\n          </Button>\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"destructive\"\r\n            onClick={handleConfirm}\r\n            disabled={deleting || isConfirmDisabled}\r\n          >\r\n            {deleting ? (\r\n              <>\r\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                Đang xóa...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Trash2 className=\"mr-2 h-4 w-4\" />\r\n                {confirmText}\r\n              </>\r\n            )}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default DeleteDialog;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAQA;AAfA;;;;;;;;;AA8BA,MAAM,eAAe,CAAC,EACpB,IAAI,EACJ,YAAY,EACZ,SAAS,EACT,WAAW,KAAK,EAChB,QAAQ,aAAa,EACrB,WAAW,EACX,cAAc,KAAK,EACnB,sBAAsB,KAAK,EAC3B,mBAAmB,QAAQ,EAC3B,QAAQ,EACU;IAClB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gUAAQ,EAAC;IAEjD,MAAM,mBAAmB,CAAC;QACxB,IAAI,CAAC,UAAU;YACb,aAAa;YACb,IAAI,CAAC,SAAS;gBACZ,gBAAgB;YAClB;QACF;IACF;IAEA,MAAM,gBAAgB;QACpB,IAAI,uBAAuB,iBAAiB,kBAAkB;YAC5D;QACF;QACA;QACA,gBAAgB;IAClB;IAEA,MAAM,oBAAoB,sBACtB,iBAAiB,mBACjB;IAEJ,qBACE,6VAAC,4IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6VAAC,mJAAa;YAAC,WAAU;;8BACvB,6VAAC,kJAAY;;sCACX,6VAAC,iJAAW;4BAAC,WAAU;;8CACrB,6VAAC,6TAAa;oCAAC,WAAU;;;;;;gCACxB;;;;;;;wBAEF,6BACC,6VAAC,uJAAiB;4BAAC,WAAU;sCAC1B;;;;;;;;;;;;8BAKP,6VAAC;oBAAI,WAAU;;wBACZ,0BACC,6VAAC;4BAAE,WAAU;;gCAAU;gCACE;8CACvB,6VAAC;oCAAK,WAAU;8CAAiB;;;;;;gCAAgB;;;;;;;wBAIpD,qCACC,6VAAC;4BAAI,WAAU;;8CACb,6VAAC,0IAAK;oCAAC,SAAQ;;wCAAe;wCACvB;sDACL,6VAAC;4CAAK,WAAU;sDACb;;;;;;wCACK;wCAAI;;;;;;;8CAGd,6VAAC,0IAAK;oCACJ,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;oCAC/C,aAAa,CAAC,MAAM,EAAE,iBAAiB,aAAa,CAAC;oCACrD,UAAU;oCACV,cAAa;;;;;;;;;;;;sCAKnB,6VAAC,0IAAK;4BAAC,SAAQ;;8CACb,6VAAC,6TAAa;oCAAC,WAAU;;;;;;8CACzB,6VAAC,+IAAU;8CAAC;;;;;;8CACZ,6VAAC,qJAAgB;8CAAC;;;;;;;;;;;;;;;;;;8BAMtB,6VAAC,kJAAY;;sCACX,6VAAC,4IAAM;4BACL,MAAK;4BACL,SAAQ;4BACR,SAAS,IAAM,iBAAiB;4BAChC,UAAU;sCACX;;;;;;sCAGD,6VAAC,4IAAM;4BACL,MAAK;4BACL,SAAQ;4BACR,SAAS;4BACT,UAAU,YAAY;sCAErB,yBACC;;kDACE,6VAAC,gTAAO;wCAAC,WAAU;;;;;;oCAA8B;;6DAInD;;kDACE,6VAAC,wSAAM;wCAAC,WAAU;;;;;;oCACjB;;;;;;;;;;;;;;;;;;;;;;;;;AAQjB;uCAEe"}},
    {"offset": {"line": 2461, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/delete-dialog/index.ts"],"sourcesContent":["export { default } from \"./DeleteDialog\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 2468, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/components/uploader-exist-list/UploaderExistList.tsx"],"sourcesContent":["import { FC, useState } from \"react\";\r\nimport { ExternalLink, Download, Copy, Trash2Icon } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\";\r\nimport { formatFileSize, getFileIcon } from \"@/utils/file\";\r\nimport { toast } from \"sonner\";\r\nimport baseConfig from \"@/configs/base\";\r\nimport DeleteDialog from \"@/components/shared/delete-dialog\";\r\nimport { id } from \"date-fns/locale\";\r\nimport { useDeleteApiFileId } from \"@/api/endpoints/files\";\r\n\r\ninterface Props {\r\n  data: {\r\n    id: string;\r\n    name: string;\r\n    path: string;\r\n    type: string;\r\n    size: number;\r\n  }[];\r\n}\r\n\r\nconst UploaderExistList: FC<Props> = (props) => {\r\n  // Props\r\n  const { data } = props;\r\n\r\n  // States\r\n  const [deleteFile, setDeleteFile] = useState<null | {\r\n    id: string;\r\n    name: string;\r\n  }>(null);\r\n\r\n  // Mutations\r\n  const deleteFileMutation = useDeleteApiFileId();\r\n\r\n  // Methods\r\n  const handleOpenDeleteDialog = (file: { id: string; name: string }) => {\r\n    setDeleteFile(file);\r\n  };\r\n\r\n  const handleConfirmDelete = async () => {\r\n    if (!deleteFile) return;\r\n    try {\r\n      await deleteFileMutation.mutateAsync({ id: deleteFile.id });\r\n      toast.success(\"Xóa file thành công\");\r\n      setDeleteFile(null);\r\n    } catch (error) {\r\n      toast.error(\"Xóa file thất bại\");\r\n    }\r\n  };\r\n\r\n  const handleCopyToClipboard = (text: string, fileName: string) => {\r\n    navigator.clipboard.writeText(text);\r\n    toast.success(\"Đã sao chép\", {\r\n      description: `${fileName} đã được sao chép vào clipboard`,\r\n    });\r\n  };\r\n\r\n  const handleDownloadFile = async (url: string, fileName: string) => {\r\n    try {\r\n      const response = await fetch(url);\r\n      const blob = await response.blob();\r\n      const downloadUrl = window.URL.createObjectURL(blob);\r\n      const link = document.createElement(\"a\");\r\n      link.href = downloadUrl;\r\n      link.download = fileName;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(downloadUrl);\r\n    } catch (error) {\r\n      toast.error(\"Tải xuống thất bại\", {\r\n        description: \"Không thể tải xuống tệp\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleGetFileUrl = (path: string) => {\r\n    return path.startsWith(\"http\") ? path : `${baseConfig.mediaDomain}/${path}`;\r\n  };\r\n\r\n  if (data.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {data.map((file, index) => {\r\n        const fileUrl = handleGetFileUrl(file.path);\r\n        const fileName =\r\n          file.name || file.path.split(\"/\").pop() || \"Unnamed file\";\r\n\r\n        const FileIcon = getFileIcon(file.type);\r\n\r\n        return (\r\n          <Card\r\n            key={`${file.path}-${index}`}\r\n            className=\"overflow-hidden border shadow-none p-0\"\r\n          >\r\n            <CardContent className=\"p-4\">\r\n              <div className=\"flex items-start gap-4\">\r\n                {/* File Icon */}\r\n                <div className=\"size-16\">\r\n                  <FileIcon />\r\n                </div>\r\n\r\n                {/* File Info */}\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"flex items-start justify-between gap-2\">\r\n                    <div className=\"min-w-0\">\r\n                      <TooltipProvider>\r\n                        <Tooltip>\r\n                          <TooltipTrigger asChild>\r\n                            <h3 className=\"text-sm font-semibold truncate hover:text-blue-600 transition-colors\">\r\n                              <a\r\n                                href={fileUrl}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"hover:underline\"\r\n                              >\r\n                                {fileName}\r\n                              </a>\r\n                            </h3>\r\n                          </TooltipTrigger>\r\n                          <TooltipContent>\r\n                            <p className=\"max-w-xs break-words\">{fileName}</p>\r\n                          </TooltipContent>\r\n                        </Tooltip>\r\n                      </TooltipProvider>\r\n\r\n                      <div className=\"flex items-center gap-3 mt-1\">\r\n                        <Badge\r\n                          variant=\"outline\"\r\n                          className=\"text-xs font-normal\"\r\n                        >\r\n                          {file.type.split(\"/\")[1]?.toUpperCase() || file.type}\r\n                        </Badge>\r\n                        <span className=\"text-xs text-muted-foreground\">\r\n                          {formatFileSize(file.size)}\r\n                        </span>\r\n                      </div>\r\n\r\n                      <TooltipProvider>\r\n                        <Tooltip>\r\n                          <TooltipTrigger asChild>\r\n                            <p className=\"text-xs text-muted-foreground truncate mt-2\">\r\n                              {fileUrl}\r\n                            </p>\r\n                          </TooltipTrigger>\r\n                          <TooltipContent>\r\n                            <p className=\"max-w-xs break-words\">{fileUrl}</p>\r\n                          </TooltipContent>\r\n                        </Tooltip>\r\n                      </TooltipProvider>\r\n                    </div>\r\n\r\n                    {/* Action Buttons */}\r\n                    <div className=\"flex items-center gap-1 shrink-0\">\r\n                      <TooltipProvider>\r\n                        <Tooltip>\r\n                          <TooltipTrigger asChild>\r\n                            <Button\r\n                              type=\"button\"\r\n                              variant=\"ghost\"\r\n                              size=\"icon\"\r\n                              className=\"h-8 w-8\"\r\n                              onClick={() =>\r\n                                handleCopyToClipboard(fileUrl, fileName)\r\n                              }\r\n                            >\r\n                              <Copy className=\"h-4 w-4\" />\r\n                            </Button>\r\n                          </TooltipTrigger>\r\n                          <TooltipContent>\r\n                            <p>Sao chép URL</p>\r\n                          </TooltipContent>\r\n                        </Tooltip>\r\n                      </TooltipProvider>\r\n\r\n                      <TooltipProvider>\r\n                        <Tooltip>\r\n                          <TooltipTrigger asChild>\r\n                            <Button\r\n                              type=\"button\"\r\n                              variant=\"ghost\"\r\n                              size=\"icon\"\r\n                              className=\"h-8 w-8\"\r\n                              onClick={() =>\r\n                                handleDownloadFile(fileUrl, fileName)\r\n                              }\r\n                            >\r\n                              <Download className=\"h-4 w-4\" />\r\n                            </Button>\r\n                          </TooltipTrigger>\r\n                          <TooltipContent>\r\n                            <p>Tải xuống</p>\r\n                          </TooltipContent>\r\n                        </Tooltip>\r\n                      </TooltipProvider>\r\n\r\n                      <TooltipProvider>\r\n                        <Tooltip>\r\n                          <TooltipTrigger asChild>\r\n                            <Button\r\n                              type=\"button\"\r\n                              variant=\"ghost\"\r\n                              size=\"icon\"\r\n                              className=\"h-8 w-8\"\r\n                              asChild\r\n                            >\r\n                              <a\r\n                                href={fileUrl}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                              >\r\n                                <ExternalLink className=\"h-4 w-4\" />\r\n                              </a>\r\n                            </Button>\r\n                          </TooltipTrigger>\r\n                          <TooltipContent>\r\n                            <p>Mở trong tab mới</p>\r\n                          </TooltipContent>\r\n                        </Tooltip>\r\n                      </TooltipProvider>\r\n\r\n                      {/* Delete button commented out as requested\r\n                      <TooltipProvider>\r\n                        <Tooltip>\r\n                          <TooltipTrigger asChild>\r\n                            <Button\r\n                              type=\"button\"\r\n                              variant=\"ghost\"\r\n                              size=\"icon\"\r\n                              className=\"h-8 w-8\"\r\n                              onClick={() =>\r\n                                handleOpenDeleteDialog({\r\n                                  id: file.id,\r\n                                  name: fileName,\r\n                                })\r\n                              }\r\n                            >\r\n                              <Trash2Icon className=\"h-4 w-4 text-destructive\" />\r\n                            </Button>\r\n                          </TooltipTrigger>\r\n                          <TooltipContent>\r\n                            <p>Xóa file</p>\r\n                          </TooltipContent>\r\n                        </Tooltip>\r\n                      </TooltipProvider>\r\n                      */}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Preview (for images) */}\r\n                  {file.type.startsWith(\"image/\") && (\r\n                    <div className=\"mt-3\">\r\n                      <div className=\"relative h-32 w-full max-w-xs overflow-hidden rounded-md border\">\r\n                        <img\r\n                          src={fileUrl}\r\n                          alt={fileName}\r\n                          className=\"h-full w-full object-contain\"\r\n                          loading=\"lazy\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        );\r\n      })}\r\n\r\n      <DeleteDialog\r\n        deleting={deleteFileMutation.isPending}\r\n        title=\"Xóa file\"\r\n        description=\"Bạn có chắc chắn muốn xóa file này không? Hành động này không thể hoàn tác.\"\r\n        confirmText=\"Xóa file\"\r\n        open={Boolean(deleteFile)}\r\n        onOpenChange={() => setDeleteFile(null)}\r\n        onConfirm={handleConfirmDelete}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploaderExistList;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2967, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/components/uploader-exist-list/index.ts"],"sourcesContent":["export { default } from \"./UploaderExistList\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 2974, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/components/index.ts"],"sourcesContent":["export { default as UploaderDropZone } from \"./uploader-drop-zone\";\r\nexport { default as UploaderMediaList } from \"./uploader-media-list\";\r\nexport { default as UploaderExistList } from \"./uploader-exist-list\";\r\nexport { default as UploaderPlaceholder } from \"./uploader-placeholder\";\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 2996, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/Uploader.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// Core\r\nimport { FC, useCallback, useMemo, ReactNode } from \"react\";\r\nimport { FileRejection, useDropzone } from \"react-dropzone\";\r\nimport { assign } from \"lodash-es\";\r\n\r\n// Internal\r\nimport {\r\n  UPLOADER_CONTEXT,\r\n  DEFAULT_MAX_FILES,\r\n  DEFAULT_MAX_SIZE,\r\n  DEFAULT_ACCEPT,\r\n} from \"./lib/constants\";\r\nimport { FileStatus, UploaderProps } from \"./lib/types\";\r\nimport { createFileWithPreview } from \"./lib/utils\";\r\nimport UploaderDropZone from \"./components/uploader-drop-zone\";\r\nimport UploaderMediaList from \"./components/uploader-media-list\";\r\nimport UploaderPlaceholder from \"./components/uploader-placeholder\";\r\nimport { UploaderExistList } from \"./components\";\r\n\r\ninterface UploaderRootProps extends UploaderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nconst Uploader: FC<UploaderRootProps> = (props) => {\r\n  // Props\r\n  const {\r\n    multiple = false,\r\n    maxFiles = DEFAULT_MAX_FILES,\r\n    maxSize = DEFAULT_MAX_SIZE,\r\n    accept = DEFAULT_ACCEPT,\r\n    value = [],\r\n    onChange,\r\n    children,\r\n  } = props;\r\n\r\n  // Hooks\r\n  const dropZoneStates = useDropzone({\r\n    multiple,\r\n    accept,\r\n    maxSize,\r\n    maxFiles,\r\n    onDrop: useCallback(\r\n      (acceptedFiles: File[], rejectedFiles: FileRejection[]) => {\r\n        const availableSlots = maxFiles - value.length;\r\n        if (availableSlots <= 0) return;\r\n\r\n        const validAcceptedFiles = acceptedFiles.slice(0, availableSlots);\r\n\r\n        const newRejectedFiles = rejectedFiles.map(({ file, errors }) =>\r\n          createFileWithPreview(\r\n            file,\r\n            FileStatus.ERROR,\r\n            errors[0]?.message || \"File rejected\",\r\n          ),\r\n        );\r\n\r\n        const newAcceptedFiles = validAcceptedFiles.map((file) =>\r\n          createFileWithPreview(file, FileStatus.PENDING),\r\n        );\r\n\r\n        onChange?.([...value, ...newAcceptedFiles, ...newRejectedFiles]);\r\n      },\r\n      [value, maxFiles, onChange],\r\n    ),\r\n  });\r\n\r\n  // Methods\r\n  const handleAddFiles = useCallback(\r\n    (newFile: File) => {\r\n      if (value.length >= maxFiles) return;\r\n\r\n      const fileWithPreview = createFileWithPreview(\r\n        newFile,\r\n        FileStatus.PENDING,\r\n      );\r\n      const updatedFileList = multiple\r\n        ? [...value, fileWithPreview]\r\n        : [fileWithPreview];\r\n\r\n      onChange?.(updatedFileList);\r\n    },\r\n    [value, maxFiles, onChange],\r\n  );\r\n\r\n  const handleDeleteFile = useCallback(\r\n    (fileName: string) => {\r\n      const updatedFileList = value.filter((file) => file.name !== fileName);\r\n      onChange?.(updatedFileList);\r\n    },\r\n    [value, onChange],\r\n  );\r\n\r\n  // Context value\r\n  const contextValue = useMemo(\r\n    () => ({\r\n      // Props\r\n      accept,\r\n      maxSize,\r\n      maxFiles,\r\n      multiple,\r\n      fileList: value,\r\n      dropZoneStates,\r\n\r\n      // Actions\r\n      handleAddFiles,\r\n      handleDeleteFile,\r\n    }),\r\n    [\r\n      multiple,\r\n      accept,\r\n      maxSize,\r\n      maxFiles,\r\n      value,\r\n      dropZoneStates,\r\n      handleAddFiles,\r\n      handleDeleteFile,\r\n    ],\r\n  );\r\n\r\n  return (\r\n    <UPLOADER_CONTEXT.Provider value={contextValue}>\r\n      <div className=\"space-y-4\">{children}</div>\r\n    </UPLOADER_CONTEXT.Provider>\r\n  );\r\n};\r\n\r\nexport default assign(Uploader, {\r\n  Exists: UploaderExistList,\r\n  DropZone: UploaderDropZone,\r\n  MediaList: UploaderMediaList,\r\n  Placeholder: UploaderPlaceholder,\r\n});\r\n"],"names":[],"mappings":";;;;;AAEA,OAAO;AACP;AACA;AACA;AAEA,WAAW;AACX;AAMA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAnBA;;;;;;;;;;;;AAyBA,MAAM,WAAkC,CAAC;IACvC,QAAQ;IACR,MAAM,EACJ,WAAW,KAAK,EAChB,WAAW,gLAAiB,EAC5B,UAAU,+KAAgB,EAC1B,SAAS,6KAAc,EACvB,QAAQ,EAAE,EACV,QAAQ,EACR,QAAQ,EACT,GAAG;IAEJ,QAAQ;IACR,MAAM,iBAAiB,IAAA,4QAAW,EAAC;QACjC;QACA;QACA;QACA;QACA,QAAQ,IAAA,mUAAW,EACjB,CAAC,eAAuB;YACtB,MAAM,iBAAiB,WAAW,MAAM,MAAM;YAC9C,IAAI,kBAAkB,GAAG;YAEzB,MAAM,qBAAqB,cAAc,KAAK,CAAC,GAAG;YAElD,MAAM,mBAAmB,cAAc,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,GAC1D,IAAA,gLAAqB,EACnB,MACA,qKAAU,CAAC,KAAK,EAChB,MAAM,CAAC,EAAE,EAAE,WAAW;YAI1B,MAAM,mBAAmB,mBAAmB,GAAG,CAAC,CAAC,OAC/C,IAAA,gLAAqB,EAAC,MAAM,qKAAU,CAAC,OAAO;YAGhD,WAAW;mBAAI;mBAAU;mBAAqB;aAAiB;QACjE,GACA;YAAC;YAAO;YAAU;SAAS;IAE/B;IAEA,UAAU;IACV,MAAM,iBAAiB,IAAA,mUAAW,EAChC,CAAC;QACC,IAAI,MAAM,MAAM,IAAI,UAAU;QAE9B,MAAM,kBAAkB,IAAA,gLAAqB,EAC3C,SACA,qKAAU,CAAC,OAAO;QAEpB,MAAM,kBAAkB,WACpB;eAAI;YAAO;SAAgB,GAC3B;YAAC;SAAgB;QAErB,WAAW;IACb,GACA;QAAC;QAAO;QAAU;KAAS;IAG7B,MAAM,mBAAmB,IAAA,mUAAW,EAClC,CAAC;QACC,MAAM,kBAAkB,MAAM,MAAM,CAAC,CAAC,OAAS,KAAK,IAAI,KAAK;QAC7D,WAAW;IACb,GACA;QAAC;QAAO;KAAS;IAGnB,gBAAgB;IAChB,MAAM,eAAe,IAAA,+TAAO,EAC1B,IAAM,CAAC;YACL,QAAQ;YACR;YACA;YACA;YACA;YACA,UAAU;YACV;YAEA,UAAU;YACV;YACA;QACF,CAAC,GACD;QACE;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAGH,qBACE,6VAAC,+KAAgB,CAAC,QAAQ;QAAC,OAAO;kBAChC,cAAA,6VAAC;YAAI,WAAU;sBAAa;;;;;;;;;;;AAGlC;uCAEe,IAAA,gPAAM,EAAC,UAAU;IAC9B,QAAQ,6QAAiB;IACzB,UAAU,iNAAgB;IAC1B,WAAW,mNAAiB;IAC5B,aAAa,mNAAmB;AAClC"}},
    {"offset": {"line": 3126, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/uploader/index.ts"],"sourcesContent":["export * from \"./lib/hooks\";\r\nexport * from \"./lib/types\";\r\n\r\nexport { default } from \"./Uploader\";\r\n"],"names":[],"mappings":";AAAA;AACA;AAEA"}},
    {"offset": {"line": 3137, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/DataTableSkeleton.tsx"],"sourcesContent":["// Core\r\nimport { Skeleton } from '@/components/ui/skeleton'\r\n\r\n// App\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\r\nimport { FC } from 'react'\r\n\r\ninterface Props {\r\n  columns: number\r\n  rows?: number\r\n  enableRowSelection?: boolean\r\n  enablePagination?: boolean\r\n}\r\n\r\nconst DataTableSkeleton: FC<Props> = (props) => {\r\n  // Props\r\n  const { columns, rows = 5, enableRowSelection = false, enablePagination = true } = props\r\n\r\n  return (\r\n    <div className='space-y-4 overflow-x-auto'>\r\n      {/* Bảng skeleton */}\r\n      <div className='overflow-hidden rounded-xl border border-gray-200 dark:border-gray-800'>\r\n        <Table>\r\n          <TableHeader className='bg-gray-100 dark:bg-gray-800'>\r\n            <TableRow className='border-0 hover:bg-transparent'>\r\n              {enableRowSelection && (\r\n                <TableHead className='w-12 rounded-tl-xl'>\r\n                  <Skeleton className='mx-auto h-4 w-4' />\r\n                </TableHead>\r\n              )}\r\n\r\n              {Array.from({ length: columns }).map((_, index) => (\r\n                <TableHead key={index} className='py-4'>\r\n                  <Skeleton className='h-4 w-3/4' />\r\n                </TableHead>\r\n              ))}\r\n            </TableRow>\r\n          </TableHeader>\r\n\r\n          <TableBody>\r\n            {Array.from({ length: rows }).map((_, rowIndex) => (\r\n              <TableRow key={rowIndex} className='border-b-gray-100 dark:border-b-gray-800'>\r\n                {enableRowSelection && (\r\n                  <TableCell>\r\n                    <Skeleton className='mx-auto h-4 w-4' />\r\n                  </TableCell>\r\n                )}\r\n\r\n                {Array.from({ length: columns }).map((_, colIndex) => (\r\n                  <TableCell key={colIndex} className='py-3'>\r\n                    <Skeleton className='h-4 w-full' />\r\n                  </TableCell>\r\n                ))}\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      {/* Pagination skeleton */}\r\n      {enablePagination && (\r\n        <div className='flex flex-col gap-4 px-2 md:flex-row md:items-center md:justify-between'>\r\n          <div className='flex-1'>\r\n            <Skeleton className='h-4 w-32' />\r\n          </div>\r\n\r\n          <div className='flex flex-col gap-4 md:flex-row md:items-center md:space-x-6 lg:space-x-8'>\r\n            <div className='flex items-center space-x-2'>\r\n              <Skeleton className='h-4 w-24' />\r\n              <Skeleton className='h-4 w-[70px]' />\r\n            </div>\r\n\r\n            <div className='flex items-center space-x-1'>\r\n              {Array.from({ length: 7 }).map((_, index) => (\r\n                <Skeleton key={index} className='h-8 w-8' />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DataTableSkeleton\r\n"],"names":[],"mappings":";;;;;AAAA,OAAO;AACP;AAEA,MAAM;AACN;;;;AAUA,MAAM,oBAA+B,CAAC;IACpC,QAAQ;IACR,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC,EAAE,qBAAqB,KAAK,EAAE,mBAAmB,IAAI,EAAE,GAAG;IAEnF,qBACE,6VAAC;QAAI,WAAU;;0BAEb,6VAAC;gBAAI,WAAU;0BACb,cAAA,6VAAC,0IAAK;;sCACJ,6VAAC,gJAAW;4BAAC,WAAU;sCACrB,cAAA,6VAAC,6IAAQ;gCAAC,WAAU;;oCACjB,oCACC,6VAAC,8IAAS;wCAAC,WAAU;kDACnB,cAAA,6VAAC,gJAAQ;4CAAC,WAAU;;;;;;;;;;;oCAIvB,MAAM,IAAI,CAAC;wCAAE,QAAQ;oCAAQ,GAAG,GAAG,CAAC,CAAC,GAAG,sBACvC,6VAAC,8IAAS;4CAAa,WAAU;sDAC/B,cAAA,6VAAC,gJAAQ;gDAAC,WAAU;;;;;;2CADN;;;;;;;;;;;;;;;;sCAOtB,6VAAC,8IAAS;sCACP,MAAM,IAAI,CAAC;gCAAE,QAAQ;4BAAK,GAAG,GAAG,CAAC,CAAC,GAAG,yBACpC,6VAAC,6IAAQ;oCAAgB,WAAU;;wCAChC,oCACC,6VAAC,8IAAS;sDACR,cAAA,6VAAC,gJAAQ;gDAAC,WAAU;;;;;;;;;;;wCAIvB,MAAM,IAAI,CAAC;4CAAE,QAAQ;wCAAQ,GAAG,GAAG,CAAC,CAAC,GAAG,yBACvC,6VAAC,8IAAS;gDAAgB,WAAU;0DAClC,cAAA,6VAAC,gJAAQ;oDAAC,WAAU;;;;;;+CADN;;;;;;mCARL;;;;;;;;;;;;;;;;;;;;;YAmBtB,kCACC,6VAAC;gBAAI,WAAU;;kCACb,6VAAC;wBAAI,WAAU;kCACb,cAAA,6VAAC,gJAAQ;4BAAC,WAAU;;;;;;;;;;;kCAGtB,6VAAC;wBAAI,WAAU;;0CACb,6VAAC;gCAAI,WAAU;;kDACb,6VAAC,gJAAQ;wCAAC,WAAU;;;;;;kDACpB,6VAAC,gJAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAGtB,6VAAC;gCAAI,WAAU;0CACZ,MAAM,IAAI,CAAC;oCAAE,QAAQ;gCAAE,GAAG,GAAG,CAAC,CAAC,GAAG,sBACjC,6VAAC,gJAAQ;wCAAa,WAAU;uCAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ/B;uCAEe"}},
    {"offset": {"line": 3345, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/data-table/index.ts"],"sourcesContent":["export * from \"./lib/hooks\";\r\n\r\nexport { DataTableSkeleton };\r\nexport { default } from \"./DataTable\";\r\nimport DataTableSkeleton from \"./DataTableSkeleton\";\r\n"],"names":[],"mappings":";AAAA;AAGA;AACA"}},
    {"offset": {"line": 3357, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/query-boundary/QueryBoundary.tsx"],"sourcesContent":["// Core\r\nimport { LoaderCircle } from \"lucide-react\";\r\nimport { Fragment } from \"react/jsx-runtime\";\r\nimport { HttpStatusCode, isAxiosError } from \"axios\";\r\n\r\n// Internal\r\nimport { Props } from \"./lib/types\";\r\n\r\n// Component\r\nconst QueryBoundary = <T,>({\r\n  query,\r\n  children,\r\n  additional = {},\r\n  fetchingView = <DefaultLoader />,\r\n  errorView = <DefaultErrorView />,\r\n  forbiddenView = <DefaultForbiddenView />,\r\n  emptyView = null,\r\n}: Props<T>) => {\r\n  const {\r\n    isFetching = false,\r\n    isError = false,\r\n    isSuccess = true,\r\n    error,\r\n  } = additional;\r\n\r\n  if (query.isPending || query.isFetching || isFetching) {\r\n    return <>{fetchingView}</>;\r\n  }\r\n\r\n  if (query.isError || isError) {\r\n    console.error(\"Query error:\", query.error || error);\r\n    const errors = [query.error, error];\r\n    const axiosError = errors.find((err) => isAxiosError(err));\r\n\r\n    if (axiosError?.response?.status === HttpStatusCode.Forbidden) {\r\n      return <>{forbiddenView}</>;\r\n    }\r\n\r\n    if (query.isError && typeof errorView === \"function\") {\r\n      return <>{errorView(query.error || error)}</>;\r\n    }\r\n\r\n    return <>{errorView}</>;\r\n  }\r\n\r\n  if (query.isSuccess && isSuccess) {\r\n    if (Array.isArray(query.data) && query.data.length === 0 && emptyView) {\r\n      return <Fragment>{emptyView}</Fragment>;\r\n    }\r\n\r\n    return children(query.data);\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nconst DefaultLoader = () => (\r\n  <LoaderCircle className=\"text-primary mx-auto animate-spin\" />\r\n);\r\n\r\nconst DefaultErrorView = () => (\r\n  <div className=\"text-primary text-xl flex items-center justify-center\">\r\n    Đã xảy ra lỗi trong quá trình xử lí dữ liệu\r\n  </div>\r\n);\r\n\r\nconst DefaultForbiddenView = () => (\r\n  <div className=\"text-primary text-xl flex items-center justify-center\">\r\n    Bạn không đủ quyền để truy cập dữ liệu này\r\n  </div>\r\n);\r\n\r\nexport default QueryBoundary;\r\n"],"names":[],"mappings":";;;;;AAAA,OAAO;AACP;AACA;AACA;;;;;AAKA,YAAY;AACZ,MAAM,gBAAgB,CAAK,EACzB,KAAK,EACL,QAAQ,EACR,aAAa,CAAC,CAAC,EACf,6BAAe,6VAAC;;;;4CAAgB,EAChC,0BAAY,6VAAC;;;;4CAAmB,EAChC,8BAAgB,6VAAC;;;;4CAAuB,EACxC,YAAY,IAAI,EACP;IACT,MAAM,EACJ,aAAa,KAAK,EAClB,UAAU,KAAK,EACf,YAAY,IAAI,EAChB,KAAK,EACN,GAAG;IAEJ,IAAI,MAAM,SAAS,IAAI,MAAM,UAAU,IAAI,YAAY;QACrD,qBAAO;sBAAG;;IACZ;IAEA,IAAI,MAAM,OAAO,IAAI,SAAS;QAC5B,QAAQ,KAAK,CAAC,gBAAgB,MAAM,KAAK,IAAI;QAC7C,MAAM,SAAS;YAAC,MAAM,KAAK;YAAE;SAAM;QACnC,MAAM,aAAa,OAAO,IAAI,CAAC,CAAC,MAAQ,IAAA,iNAAY,EAAC;QAErD,IAAI,YAAY,UAAU,WAAW,mNAAc,CAAC,SAAS,EAAE;YAC7D,qBAAO;0BAAG;;QACZ;QAEA,IAAI,MAAM,OAAO,IAAI,OAAO,cAAc,YAAY;YACpD,qBAAO;0BAAG,UAAU,MAAM,KAAK,IAAI;;QACrC;QAEA,qBAAO;sBAAG;;IACZ;IAEA,IAAI,MAAM,SAAS,IAAI,WAAW;QAChC,IAAI,MAAM,OAAO,CAAC,MAAM,IAAI,KAAK,MAAM,IAAI,CAAC,MAAM,KAAK,KAAK,WAAW;YACrE,qBAAO,6VAAC,kVAAQ;0BAAE;;;;;;QACpB;QAEA,OAAO,SAAS,MAAM,IAAI;IAC5B;IAEA,OAAO;AACT;AAEA,MAAM,gBAAgB,kBACpB,6VAAC,0TAAY;QAAC,WAAU;;;;;;AAG1B,MAAM,mBAAmB,kBACvB,6VAAC;QAAI,WAAU;kBAAwD;;;;;;AAKzE,MAAM,uBAAuB,kBAC3B,6VAAC;QAAI,WAAU;kBAAwD;;;;;;uCAK1D"}},
    {"offset": {"line": 3453, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/query-boundary/index.ts"],"sourcesContent":["export { default } from './QueryBoundary'\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 3460, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/dynamic-filter/lib/utils.ts"],"sourcesContent":["import { z } from 'zod'\r\n\r\n// Helper function để lấy ZodObject từ ZodEffects\r\nexport const getSchemaShape = (schema: z.ZodTypeAny): z.ZodRawShape => {\r\n  if (schema instanceof z.ZodObject) {\r\n    return schema.shape\r\n  } else if (schema instanceof z.ZodEffects) {\r\n    return getSchemaShape(schema._def.schema)\r\n  }\r\n  throw new Error('Unsupported schema type')\r\n}\r\n\r\n// Helper function để lấy default values từ bất kỳ Zod schema type nào\r\nexport const getDefaultValuesFromSchema = (schema: z.ZodTypeAny): Record<string, unknown> => {\r\n  const shape = getSchemaShape(schema)\r\n  const defaults: Record<string, unknown> = {}\r\n\r\n  Object.keys(shape).forEach((key) => {\r\n    const field = shape[key]\r\n\r\n    if (field instanceof z.ZodString) {\r\n      defaults[key] = ''\r\n    } else if (field instanceof z.ZodNumber) {\r\n      defaults[key] = 0\r\n    } else if (field instanceof z.ZodBoolean) {\r\n      defaults[key] = false\r\n    } else if (field instanceof z.ZodArray) {\r\n      defaults[key] = []\r\n    } else if (field instanceof z.ZodOptional || field instanceof z.ZodNullable) {\r\n      defaults[key] = undefined\r\n    } else if (field instanceof z.ZodDefault) {\r\n      defaults[key] = field._def.defaultValue()\r\n    } else if (field instanceof z.ZodEffects) {\r\n      defaults[key] = getDefaultValuesFromSchema(field)\r\n    } else {\r\n      defaults[key] = null\r\n    }\r\n  })\r\n\r\n  return defaults\r\n}\r\n\r\n// Helper function để unwrap ZodEffects (refine)\r\nexport const unwrapSchema = (schema: z.ZodTypeAny): z.ZodTypeAny => {\r\n  if (schema instanceof z.ZodEffects) {\r\n    // dùng unknown type param để tránh `any`\r\n    const inner = (schema as z.ZodEffects<z.ZodTypeAny, unknown>)._def.schema\r\n    return unwrapSchema(inner)\r\n  }\r\n  return schema\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAGO,MAAM,iBAAiB,CAAC;IAC7B,IAAI,kBAAkB,yNAAC,CAAC,SAAS,EAAE;QACjC,OAAO,OAAO,KAAK;IACrB,OAAO,IAAI,kBAAkB,yNAAC,CAAC,UAAU,EAAE;QACzC,OAAO,eAAe,OAAO,IAAI,CAAC,MAAM;IAC1C;IACA,MAAM,IAAI,MAAM;AAClB;AAGO,MAAM,6BAA6B,CAAC;IACzC,MAAM,QAAQ,eAAe;IAC7B,MAAM,WAAoC,CAAC;IAE3C,OAAO,IAAI,CAAC,OAAO,OAAO,CAAC,CAAC;QAC1B,MAAM,QAAQ,KAAK,CAAC,IAAI;QAExB,IAAI,iBAAiB,yNAAC,CAAC,SAAS,EAAE;YAChC,QAAQ,CAAC,IAAI,GAAG;QAClB,OAAO,IAAI,iBAAiB,yNAAC,CAAC,SAAS,EAAE;YACvC,QAAQ,CAAC,IAAI,GAAG;QAClB,OAAO,IAAI,iBAAiB,yNAAC,CAAC,UAAU,EAAE;YACxC,QAAQ,CAAC,IAAI,GAAG;QAClB,OAAO,IAAI,iBAAiB,yNAAC,CAAC,QAAQ,EAAE;YACtC,QAAQ,CAAC,IAAI,GAAG,EAAE;QACpB,OAAO,IAAI,iBAAiB,yNAAC,CAAC,WAAW,IAAI,iBAAiB,yNAAC,CAAC,WAAW,EAAE;YAC3E,QAAQ,CAAC,IAAI,GAAG;QAClB,OAAO,IAAI,iBAAiB,yNAAC,CAAC,UAAU,EAAE;YACxC,QAAQ,CAAC,IAAI,GAAG,MAAM,IAAI,CAAC,YAAY;QACzC,OAAO,IAAI,iBAAiB,yNAAC,CAAC,UAAU,EAAE;YACxC,QAAQ,CAAC,IAAI,GAAG,2BAA2B;QAC7C,OAAO;YACL,QAAQ,CAAC,IAAI,GAAG;QAClB;IACF;IAEA,OAAO;AACT;AAGO,MAAM,eAAe,CAAC;IAC3B,IAAI,kBAAkB,yNAAC,CAAC,UAAU,EAAE;QAClC,yCAAyC;QACzC,MAAM,QAAQ,AAAC,OAA+C,IAAI,CAAC,MAAM;QACzE,OAAO,aAAa;IACtB;IACA,OAAO;AACT"}},
    {"offset": {"line": 3515, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/dynamic-filter/DynamicFilter.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// Core\r\nimport { z } from \"zod\";\r\nimport { ReactNode } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\n// import { useTranslation } from 'react-i18next'\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { ControllerRenderProps, FieldValues } from \"react-hook-form\";\r\n\r\n// App\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormDescription,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"@/components/ui/form\";\r\n\r\n// Internal\r\n// import DatePicker from '../date-picker'\r\nimport QueryBoundary from \"../query-boundary\";\r\nimport {\r\n  AutoCompleteFieldConfig,\r\n  FieldConfig,\r\n  Props,\r\n  SelectFieldConfig,\r\n  SelectQueryFieldConfig,\r\n} from \"./lib/types\";\r\n// import DateRangerPicker from '../date-ranger-picker/DateRangerPicker'\r\nimport {\r\n  getDefaultValuesFromSchema,\r\n  getSchemaShape,\r\n  unwrapSchema,\r\n} from \"./lib/utils\";\r\n// import AutoComplete from '../auto-complete'\r\n// import { AutoCompleteContent } from '../auto-complete/shared'\r\n\r\n// Component\r\nconst DynamicFilter = <T extends z.ZodTypeAny>(props: Props<T>) => {\r\n  const {\r\n    schema,\r\n    onSubmit,\r\n    defaultValues,\r\n    fieldConfig = {} as Record<string, FieldConfig>,\r\n  } = props;\r\n\r\n  // Hooks\r\n  // const { t: translateFn } = useTranslation(\"components/shared/dynamic-filter\");\r\n  const form = useForm({\r\n    resolver: zodResolver(schema),\r\n    defaultValues: defaultValues ?? getDefaultValuesFromSchema(schema),\r\n  });\r\n\r\n  // Helper function để xác định field type từ Zod schema\r\n  const getFieldTypeFromSchema = (\r\n    fieldSchema: z.ZodTypeAny,\r\n  ): FieldConfig[\"type\"] => {\r\n    const unwrappedSchema = unwrapSchema(fieldSchema);\r\n\r\n    if (unwrappedSchema instanceof z.ZodString) {\r\n      return \"text\";\r\n    } else if (unwrappedSchema instanceof z.ZodNumber) {\r\n      return \"number\";\r\n    } else if (unwrappedSchema instanceof z.ZodBoolean) {\r\n      return \"checkbox\";\r\n    } else {\r\n      return \"text\";\r\n    }\r\n  };\r\n\r\n  // Hàm render field dựa trên Zod type và fieldType config\r\n  const renderFormField = (\r\n    field: ControllerRenderProps<FieldValues, string>,\r\n    name: string,\r\n    config: FieldConfig,\r\n    fieldSchema: z.ZodTypeAny,\r\n  ): ReactNode => {\r\n    // Ưu tiên custom render function\r\n    if (config.render) {\r\n      return config.render({ field, name });\r\n    }\r\n\r\n    const fieldType = config.type ?? getFieldTypeFromSchema(fieldSchema);\r\n\r\n    switch (fieldType) {\r\n      case \"date\":\r\n        // return <DatePicker />\r\n        return <div>DatePicker component here</div>;\r\n\r\n      case \"date-range\":\r\n        // return <DateRangerPicker value={field.value} placeholder={config.placeholder} onChange={field.onChange} />\r\n        return <div>DateRangerPicker component here</div>;\r\n\r\n      case \"select\": {\r\n        const configSelect = config as SelectFieldConfig;\r\n\r\n        return (\r\n          <Select\r\n            onValueChange={(val) => field.onChange(val)}\r\n            value={field.value ?? \"\"}\r\n          >\r\n            <SelectTrigger className=\"w-full sm:min-w-[180px]\">\r\n              <SelectValue\r\n                placeholder={configSelect.placeholder || `Select ${name}`}\r\n              />\r\n            </SelectTrigger>\r\n            <SelectContent side=\"bottom\" className=\"w-full\">\r\n              {configSelect.options?.map((option) => (\r\n                <SelectItem key={option.value} value={String(option.value)}>\r\n                  {option.label}\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n        );\r\n      }\r\n\r\n      case \"select-query\": {\r\n        const configSelectQuery = config as SelectQueryFieldConfig;\r\n\r\n        return (\r\n          <Select\r\n            onValueChange={(val) => field.onChange(val)}\r\n            value={field.value ?? \"\"}\r\n          >\r\n            <SelectTrigger className=\"w-full sm:min-w-[180px]\">\r\n              <SelectValue\r\n                placeholder={config.placeholder ?? `Select ${name}`}\r\n              />\r\n            </SelectTrigger>\r\n            <SelectContent side=\"bottom\" className=\"w-full\">\r\n              <QueryBoundary query={configSelectQuery.query}>\r\n                {(selectData) =>\r\n                  selectData.map((option) => (\r\n                    <SelectItem\r\n                      key={String(option.value)}\r\n                      value={String(option.value)}\r\n                    >\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))\r\n                }\r\n              </QueryBoundary>\r\n            </SelectContent>\r\n          </Select>\r\n        );\r\n      }\r\n\r\n      case \"checkbox\":\r\n        return (\r\n          <Checkbox\r\n            checked={!!field.value}\r\n            onCheckedChange={(val) => field.onChange(val)}\r\n          />\r\n        );\r\n\r\n      case \"number\":\r\n        return (\r\n          <Input\r\n            type=\"number\"\r\n            placeholder={config.placeholder}\r\n            value={\r\n              field.value === undefined || field.value === null\r\n                ? \"\"\r\n                : String(field.value)\r\n            }\r\n            onChange={(e) => {\r\n              const value = e.target.value;\r\n              field.onChange(value === \"\" ? undefined : parseFloat(value));\r\n            }}\r\n            className=\"w-full\"\r\n          />\r\n        );\r\n\r\n      case \"auto-complete\": {\r\n        const configAutoComplete = config as AutoCompleteFieldConfig;\r\n\r\n        // return (\r\n        //   <AutoComplete\r\n        //     value={field.value}\r\n        //     placeholder={configAutoComplete.placeholder}\r\n        //     onChange={(value) => {\r\n        //       field.onChange(value)\r\n        //       configAutoComplete.onChange?.(value)\r\n        //     }}\r\n        //   >\r\n        //     <QueryBoundary query={configAutoComplete.query}>\r\n        //       {(autoCompleteData) => (\r\n        //         <AutoCompleteContent\r\n        //           items={autoCompleteData}\r\n        //           onSelect={(value) => {\r\n        //             field.onChange(value)\r\n        //             configAutoComplete?.onSelect?.(value)\r\n        //           }}\r\n        //         />\r\n        //       )}\r\n        //     </QueryBoundary>\r\n        //   </AutoComplete>\r\n        // )\r\n        return <div>AutoComplete component here</div>;\r\n      }\r\n\r\n      default:\r\n        return (\r\n          <Input\r\n            type={config.type}\r\n            placeholder={config.placeholder}\r\n            {...field}\r\n            className=\"w-full\"\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"p-2 sm:p-4\">\r\n        {/* Grid responsive:\r\n            - 1 col on mobile\r\n            - 2 cols on small/tablet\r\n            - 4 cols on large screens\r\n        */}\r\n        <div className=\"grid grid-cols-1 gap-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 lg:gap-6\">\r\n          {Object.entries(getSchemaShape(schema)).map(([name, fieldSchema]) => {\r\n            const config = fieldConfig[name] ?? {};\r\n\r\n            return (\r\n              <FormField\r\n                key={name}\r\n                control={form.control}\r\n                name={name}\r\n                render={({ field }) => (\r\n                  // min-w-0 để tránh overflow trong flex/grid\r\n                  <FormItem className=\"min-w-0\">\r\n                    <FormLabel className=\"text-sm\">\r\n                      {config.label ?? name}\r\n                    </FormLabel>\r\n                    <FormControl>\r\n                      {renderFormField(\r\n                        field,\r\n                        name,\r\n                        config,\r\n                        fieldSchema as z.ZodTypeAny,\r\n                      )}\r\n                    </FormControl>\r\n                    {config.description && (\r\n                      <FormDescription>{config.description}</FormDescription>\r\n                    )}\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n            );\r\n          })}\r\n\r\n          {/* Actions: span full width on mobile, align right on md+ */}\r\n          <div className=\"mt-4 flex w-full flex-col justify-center gap-4 md:col-span-2 md:mt-0 md:flex-row md:justify-end lg:col-span-4\">\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"w-full md:w-auto\"\r\n              onClick={() => form.reset()}\r\n            >\r\n              Refresh\r\n            </Button>\r\n            <Button type=\"submit\" className=\"w-full md:w-auto\">\r\n              {/* {translateFn(\"applyFilter\")} */}\r\n              Apply Filter\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default DynamicFilter;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3873, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/dynamic-filter/index.ts"],"sourcesContent":["export { default } from './DynamicFilter'\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 3880, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/report-dialog/ReportDialog.tsx"],"sourcesContent":["import { usePostApiReports } from \"@/api/endpoints/copyright\";\r\nimport { CopyRightEditorForm } from \"@/components/modules/copy-right\";\r\nimport { CopyrightReportFormValues } from \"@/components/modules/copy-right/copy-right-editor-form/CopyRightEditorForm\";\r\nimport { Dialog, DialogContent, DialogHeader } from \"@/components/ui/dialog\";\r\nimport { FC } from \"react\";\r\nimport { toast } from \"sonner\";\r\nimport { Props } from \"./lib/types\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\n\r\nconst ReportDialog: FC<Props> = (props) => {\r\n  // Props\r\n  const { contentId, open, onOpenChange } = props;\r\n\r\n  // Mutations\r\n  const createCopyRightReportMutation = usePostApiReports();\r\n\r\n  // Methods\r\n  const handleCreateReport = async (data: CopyrightReportFormValues) => {\r\n    try {\r\n      await createCopyRightReportMutation.mutateAsync({\r\n        data: {\r\n          ...data,\r\n          contentId: contentId,\r\n        },\r\n      });\r\n\r\n      onOpenChange(false);\r\n      toast.success(\"Báo cáo bản quyền đã được gửi thành công.\");\r\n    } catch (error) {\r\n      toast.error(\"Đã có lỗi xảy ra khi gửi báo cáo bản quyền.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"h-[90vh] sm:max-w-2xl p-0 border-none\">\r\n        <DialogHeader className=\"bg-destructive text-white rounded-t-lg p-4 font-semibold text-xl font-mono\">\r\n          Báo cáo vi phạm\r\n        </DialogHeader>\r\n        <ScrollArea className=\"overflow-y-auto px-5 py-2\">\r\n          <CopyRightEditorForm\r\n            defaultValues={{\r\n              contentId: contentId,\r\n            }}\r\n            loading={createCopyRightReportMutation.isPending}\r\n            onSubmit={handleCreateReport}\r\n          />\r\n        </ScrollArea>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ReportDialog;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAEA;AAEA;AAEA;;;;;;;AAEA,MAAM,eAA0B,CAAC;IAC/B,QAAQ;IACR,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG;IAE1C,YAAY;IACZ,MAAM,gCAAgC,IAAA,yJAAiB;IAEvD,UAAU;IACV,MAAM,qBAAqB,OAAO;QAChC,IAAI;YACF,MAAM,8BAA8B,WAAW,CAAC;gBAC9C,MAAM;oBACJ,GAAG,IAAI;oBACP,WAAW;gBACb;YACF;YAEA,aAAa;YACb,iRAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAO;YACd,iRAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,qBACE,6VAAC,4IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6VAAC,mJAAa;YAAC,WAAU;;8BACvB,6VAAC,kJAAY;oBAAC,WAAU;8BAA6E;;;;;;8BAGrG,6VAAC,wJAAU;oBAAC,WAAU;8BACpB,cAAA,6VAAC,iRAAmB;wBAClB,eAAe;4BACb,WAAW;wBACb;wBACA,SAAS,8BAA8B,SAAS;wBAChD,UAAU;;;;;;;;;;;;;;;;;;;;;;AAMtB;uCAEe"}},
    {"offset": {"line": 3966, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/report-dialog/index.ts"],"sourcesContent":["export { default } from \"./ReportDialog\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 3973, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/tree-view/TreeView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef, useEffect, useCallback, useMemo, JSX } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Collapsible,\r\n  CollapsibleTrigger,\r\n  CollapsibleContent,\r\n} from \"@/components/ui/collapsible\";\r\nimport { Folder, ChevronRight, ChevronDown, Box, Search } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  ContextMenu,\r\n  ContextMenuContent,\r\n  ContextMenuItem,\r\n  ContextMenuTrigger,\r\n} from \"@/components/ui/context-menu\";\r\nimport { X } from \"lucide-react\";\r\nimport {\r\n  HoverCard,\r\n  HoverCardContent,\r\n  HoverCardTrigger,\r\n} from \"@/components/ui/hover-card\";\r\nimport { Info } from \"lucide-react\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\nexport interface TreeViewItem {\r\n  id: string;\r\n  name: string;\r\n  type: string;\r\n  children?: TreeViewItem[];\r\n  checked?: boolean;\r\n}\r\n\r\nexport interface TreeViewIconMap {\r\n  [key: string]: React.ReactNode | undefined;\r\n}\r\n\r\nexport interface TreeViewMenuItem {\r\n  id: string;\r\n  label: string;\r\n  icon?: React.ReactNode;\r\n  action: (items: TreeViewItem[]) => void;\r\n}\r\n\r\nexport interface TreeViewProps {\r\n  className?: string;\r\n  data: TreeViewItem[];\r\n  title?: string;\r\n  showSearch?: boolean;\r\n  showExpandAll?: boolean;\r\n  showCheckboxes?: boolean;\r\n  checkboxPosition?: \"left\" | \"right\";\r\n  searchPlaceholder?: string;\r\n  selectionText?: string;\r\n  checkboxLabels?: {\r\n    check: string;\r\n    uncheck: string;\r\n  };\r\n  getIcon?: (item: TreeViewItem, depth: number) => React.ReactNode;\r\n  onSelectionChange?: (selectedItems: TreeViewItem[]) => void;\r\n  onAction?: (action: string, items: TreeViewItem[]) => void;\r\n  onCheckChange?: (item: TreeViewItem, checked: boolean) => void;\r\n  iconMap?: TreeViewIconMap;\r\n  menuItems?: TreeViewMenuItem[];\r\n}\r\n\r\ninterface TreeItemProps {\r\n  item: TreeViewItem;\r\n  depth?: number;\r\n  selectedIds: Set<string>;\r\n  lastSelectedId: React.MutableRefObject<string | null>;\r\n  onSelect: (ids: Set<string>) => void;\r\n  expandedIds: Set<string>;\r\n  onToggleExpand: (id: string, isOpen: boolean) => void;\r\n  getIcon?: (item: TreeViewItem, depth: number) => React.ReactNode;\r\n  onAction?: (action: string, items: TreeViewItem[]) => void;\r\n  onAccessChange?: (item: TreeViewItem, hasAccess: boolean) => void;\r\n  allItems: TreeViewItem[];\r\n  showAccessRights?: boolean;\r\n  itemMap: Map<string, TreeViewItem>;\r\n  iconMap?: TreeViewIconMap;\r\n  menuItems?: TreeViewMenuItem[];\r\n  getSelectedItems: () => TreeViewItem[];\r\n}\r\n\r\n// Helper function to build a map of all items by ID\r\nconst buildItemMap = (items: TreeViewItem[]): Map<string, TreeViewItem> => {\r\n  const map = new Map<string, TreeViewItem>();\r\n  const processItem = (item: TreeViewItem) => {\r\n    map.set(item.id, item);\r\n    item.children?.forEach(processItem);\r\n  };\r\n  items.forEach(processItem);\r\n  return map;\r\n};\r\n\r\n// Update the getCheckState function to work bottom-up\r\nconst getCheckState = (\r\n  item: TreeViewItem,\r\n  itemMap: Map<string, TreeViewItem>,\r\n): \"checked\" | \"unchecked\" | \"indeterminate\" => {\r\n  // Get the original item from the map\r\n  const originalItem = itemMap.get(item.id);\r\n  if (!originalItem) return \"unchecked\";\r\n\r\n  // If it's a leaf node (no children), return its check state\r\n  if (!originalItem.children || originalItem.children.length === 0) {\r\n    return originalItem.checked ? \"checked\" : \"unchecked\";\r\n  }\r\n\r\n  // Count the check states of immediate children\r\n  let checkedCount = 0;\r\n  let indeterminateCount = 0;\r\n\r\n  originalItem.children.forEach((child) => {\r\n    const childState = getCheckState(child, itemMap);\r\n    if (childState === \"checked\") checkedCount++;\r\n    if (childState === \"indeterminate\") indeterminateCount++;\r\n  });\r\n\r\n  // Calculate parent state based on children states\r\n  const totalChildren = originalItem.children.length;\r\n\r\n  // If all children are checked\r\n  if (checkedCount === totalChildren) {\r\n    return \"checked\";\r\n  }\r\n  // If any child is checked or indeterminate\r\n  if (checkedCount > 0 || indeterminateCount > 0) {\r\n    return \"indeterminate\";\r\n  }\r\n  // If no children are checked or indeterminate\r\n  return \"unchecked\";\r\n};\r\n\r\n// Add this default icon map\r\nconst defaultIconMap: TreeViewIconMap = {\r\n  file: <Box className=\"h-4 w-4 text-red-600\" />,\r\n  folder: <Folder className=\"h-4 w-4 text-primary/80\" />,\r\n};\r\n\r\nfunction TreeItem({\r\n  item,\r\n  depth = 0,\r\n  selectedIds,\r\n  lastSelectedId,\r\n  onSelect,\r\n  expandedIds,\r\n  onToggleExpand,\r\n  getIcon,\r\n  onAction,\r\n  onAccessChange,\r\n  allItems,\r\n  showAccessRights,\r\n  itemMap,\r\n  iconMap = defaultIconMap,\r\n  menuItems,\r\n  getSelectedItems,\r\n}: TreeItemProps): JSX.Element {\r\n  const isOpen = expandedIds.has(item.id);\r\n  const isSelected = selectedIds.has(item.id);\r\n  const itemRef = useRef<HTMLDivElement>(null);\r\n  const [selectionStyle, setSelectionStyle] = useState(\"\");\r\n\r\n  // Get all visible items in order\r\n  const getVisibleItems = useCallback(\r\n    (items: TreeViewItem[]): TreeViewItem[] => {\r\n      let visibleItems: TreeViewItem[] = [];\r\n\r\n      items.forEach((item) => {\r\n        visibleItems.push(item);\r\n        if (item.children && expandedIds.has(item.id)) {\r\n          visibleItems = [...visibleItems, ...getVisibleItems(item.children)];\r\n        }\r\n      });\r\n\r\n      return visibleItems;\r\n    },\r\n    [expandedIds],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!isSelected) {\r\n      setSelectionStyle(\"\");\r\n      return;\r\n    }\r\n\r\n    // Get all visible items from the entire tree\r\n    const visibleItems = getVisibleItems(allItems);\r\n    const currentIndex = visibleItems.findIndex((i) => i.id === item.id);\r\n\r\n    const prevItem = visibleItems[currentIndex - 1];\r\n    const nextItem = visibleItems[currentIndex + 1];\r\n\r\n    const isPrevSelected = prevItem && selectedIds.has(prevItem.id);\r\n    const isNextSelected = nextItem && selectedIds.has(nextItem.id);\r\n\r\n    const roundTop = !isPrevSelected;\r\n    const roundBottom = !isNextSelected;\r\n\r\n    setSelectionStyle(\r\n      `${roundTop ? \"rounded-t-md\" : \"\"} ${roundBottom ? \"rounded-b-md\" : \"\"}`,\r\n    );\r\n  }, [\r\n    isSelected,\r\n    selectedIds,\r\n    expandedIds,\r\n    item.id,\r\n    getVisibleItems,\r\n    allItems,\r\n  ]);\r\n\r\n  const handleClick = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    let newSelection = new Set(selectedIds);\r\n\r\n    if (!itemRef.current) return;\r\n\r\n    if (e.shiftKey && lastSelectedId.current !== null) {\r\n      const items = Array.from(\r\n        document.querySelectorAll(\"[data-tree-item]\"),\r\n      ) as HTMLElement[];\r\n      const lastIndex = items.findIndex(\r\n        (el) => el.getAttribute(\"data-id\") === lastSelectedId.current,\r\n      );\r\n      const currentIndex = items.findIndex((el) => el === itemRef.current);\r\n      const [start, end] = [\r\n        Math.min(lastIndex, currentIndex),\r\n        Math.max(lastIndex, currentIndex),\r\n      ];\r\n\r\n      items.slice(start, end + 1).forEach((el) => {\r\n        const id = el.getAttribute(\"data-id\");\r\n        const parentFolderClosed = el.closest('[data-folder-closed=\"true\"]');\r\n        const isClosedFolder = el.getAttribute(\"data-folder-closed\") === \"true\";\r\n\r\n        if (id && (isClosedFolder || !parentFolderClosed)) {\r\n          newSelection.add(id);\r\n        }\r\n      });\r\n    } else if (e.ctrlKey || e.metaKey) {\r\n      if (newSelection.has(item.id)) {\r\n        newSelection.delete(item.id);\r\n      } else {\r\n        newSelection.add(item.id);\r\n      }\r\n    } else {\r\n      newSelection = new Set([item.id]);\r\n      // Open folder on single click if it's a folder\r\n      if (item.children && isSelected) {\r\n        onToggleExpand(item.id, !isOpen);\r\n      }\r\n    }\r\n\r\n    lastSelectedId.current = item.id;\r\n    onSelect(newSelection);\r\n  };\r\n\r\n  // const handleAction = (action: string) => {\r\n  //   if (onAction) {\r\n  //     // Get all selected items, or just this item if none selected\r\n  //     const selectedItems =\r\n  //       selectedIds.size > 0\r\n  //         ? allItems\r\n  //             .flatMap((item) => getAllDescendants(item))\r\n  //             .filter((item) => selectedIds.has(item.id))\r\n  //         : [item];\r\n  //     onAction(action, selectedItems);\r\n  //   }\r\n  // };\r\n\r\n  // Helper function to get all descendants of an item (including the item itself)\r\n  const getAllDescendants = (item: TreeViewItem): TreeViewItem[] => {\r\n    const descendants = [item];\r\n    if (item.children) {\r\n      item.children.forEach((child) => {\r\n        descendants.push(...getAllDescendants(child));\r\n      });\r\n    }\r\n    return descendants;\r\n  };\r\n\r\n  const handleAccessClick = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    if (onAccessChange) {\r\n      const currentState = getCheckState(item, itemMap);\r\n      // Toggle between checked and unchecked, treating indeterminate as unchecked\r\n      const newChecked = currentState === \"checked\" ? false : true;\r\n      onAccessChange(item, newChecked);\r\n    }\r\n  };\r\n\r\n  // const renderIcon = () => {\r\n  //   if (getIcon) {\r\n  //     return getIcon(item, depth);\r\n  //   }\r\n\r\n  //   // Use the provided iconMap or fall back to default\r\n  //   return iconMap[item.type] || iconMap.folder || defaultIconMap.folder;\r\n  // };\r\n\r\n  const getItemPath = (item: TreeViewItem, items: TreeViewItem[]): string => {\r\n    const path: string[] = [item.name];\r\n\r\n    const findParent = (\r\n      currentItem: TreeViewItem,\r\n      allItems: TreeViewItem[],\r\n    ) => {\r\n      for (const potentialParent of allItems) {\r\n        if (\r\n          potentialParent.children?.some((child) => child.id === currentItem.id)\r\n        ) {\r\n          path.unshift(potentialParent.name);\r\n          findParent(potentialParent, allItems);\r\n          break;\r\n        }\r\n        if (potentialParent.children) {\r\n          findParent(currentItem, potentialParent.children);\r\n        }\r\n      }\r\n    };\r\n\r\n    findParent(item, items);\r\n    return path.join(\" → \");\r\n  };\r\n\r\n  // Add function to count selected items in a folder\r\n  const getSelectedChildrenCount = (item: TreeViewItem): number => {\r\n    let count = 0;\r\n\r\n    if (!item.children) return 0;\r\n\r\n    item.children.forEach((child) => {\r\n      if (selectedIds.has(child.id)) {\r\n        count++;\r\n      }\r\n      if (child.children) {\r\n        count += getSelectedChildrenCount(child);\r\n      }\r\n    });\r\n\r\n    return count;\r\n  };\r\n\r\n  // Get selected count only if item has children and is collapsed\r\n  const selectedCount =\r\n    (item.children && !isOpen && getSelectedChildrenCount(item)) || null;\r\n\r\n  return (\r\n    <ContextMenu>\r\n      <ContextMenuTrigger>\r\n        <div>\r\n          <div\r\n            ref={itemRef}\r\n            data-tree-item\r\n            data-id={item.id}\r\n            data-depth={depth}\r\n            data-folder-closed={item.children && !isOpen}\r\n            className={`select-none cursor-pointer ${\r\n              isSelected\r\n                ? `bg-primary-100 ${selectionStyle}`\r\n                : \"text-foreground\"\r\n            } px-1`}\r\n            style={{ paddingLeft: `${depth * 20}px` }}\r\n            onClick={handleClick}\r\n          >\r\n            <div className=\"flex items-center h-8\">\r\n              {item.children ? (\r\n                <div className=\"flex items-center gap-2 flex-1 group\">\r\n                  <Collapsible\r\n                    open={isOpen}\r\n                    onOpenChange={(open) => onToggleExpand(item.id, open)}\r\n                  >\r\n                    <CollapsibleTrigger\r\n                      asChild\r\n                      onClick={(e) => e.stopPropagation()}\r\n                    >\r\n                      <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\">\r\n                        <motion.div\r\n                          initial={false}\r\n                          animate={{ rotate: isOpen ? 90 : 0 }}\r\n                          transition={{ duration: 0.1 }}\r\n                        >\r\n                          <ChevronRight className=\"h-4 w-4\" />\r\n                        </motion.div>\r\n                      </Button>\r\n                    </CollapsibleTrigger>\r\n                  </Collapsible>\r\n                  {showAccessRights && (\r\n                    <div\r\n                      className=\"relative flex items-center justify-center w-4 h-4 cursor-pointer hover:opacity-80\"\r\n                      onClick={handleAccessClick}\r\n                    >\r\n                      {getCheckState(item, itemMap) === \"checked\" && (\r\n                        <div className=\"w-4 h-4 border rounded bg-primary border-primary flex items-center justify-center\">\r\n                          <svg\r\n                            className=\"h-3 w-3 text-primary-foreground\"\r\n                            fill=\"none\"\r\n                            viewBox=\"0 0 24 24\"\r\n                            stroke=\"currentColor\"\r\n                          >\r\n                            <path\r\n                              strokeLinecap=\"round\"\r\n                              strokeLinejoin=\"round\"\r\n                              strokeWidth={2}\r\n                              d=\"M5 13l4 4L19 7\"\r\n                            />\r\n                          </svg>\r\n                        </div>\r\n                      )}\r\n                      {getCheckState(item, itemMap) === \"unchecked\" && (\r\n                        <div className=\"w-4 h-4 border rounded border-input\" />\r\n                      )}\r\n                      {getCheckState(item, itemMap) === \"indeterminate\" && (\r\n                        <div className=\"w-4 h-4 border rounded bg-primary border-primary flex items-center justify-center\">\r\n                          <div className=\"h-0.5 w-2 bg-primary-foreground\" />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  {/* {renderIcon()} */}\r\n                  <span className=\"flex-1\">{item.name}</span>\r\n                  {selectedCount !== null && selectedCount > 0 && (\r\n                    <Badge\r\n                      variant=\"secondary\"\r\n                      className=\"mr-2 bg-blue-100 hover:bg-blue-100\"\r\n                    >\r\n                      {selectedCount} selected\r\n                    </Badge>\r\n                  )}\r\n                  {/* <HoverCard>\r\n                    <HoverCardTrigger asChild>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        className=\"h-6 w-6 p-0 group-hover:opacity-100 opacity-0 items-center justify-center\"\r\n                        onClick={(e) => e.stopPropagation()}\r\n                      >\r\n                        <Info className=\"h-4 w-4 text-muted-foreground\" />\r\n                      </Button>\r\n                    </HoverCardTrigger>\r\n                    <HoverCardContent className=\"w-80\">\r\n                      <div className=\"space-y-2\">\r\n                        <h4 className=\"text-sm font-semibold\">{item.name}</h4>\r\n                        <div className=\"text-sm text-muted-foreground space-y-1\">\r\n                          <div>\r\n                            <span className=\"font-medium\">Type:</span>{\" \"}\r\n                            {item.type.charAt(0).toUpperCase() +\r\n                              item.type.slice(1).replace(\"_\", \" \")}\r\n                          </div>\r\n                          <div>\r\n                            <span className=\"font-medium\">ID:</span> {item.id}\r\n                          </div>\r\n                          <div>\r\n                            <span className=\"font-medium\">Location:</span>{\" \"}\r\n                            {getItemPath(item, allItems)}\r\n                          </div>\r\n                          <div>\r\n                            <span className=\"font-medium\">Items:</span>{\" \"}\r\n                            {item.children?.length || 0} direct items\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </HoverCardContent>\r\n                  </HoverCard> */}\r\n                </div>\r\n              ) : (\r\n                <div className=\"flex items-center gap-2 flex-1 pl-8 group\">\r\n                  {showAccessRights && (\r\n                    <div\r\n                      className=\"relative flex items-center justify-center w-4 h-4 cursor-pointer hover:opacity-80\"\r\n                      onClick={handleAccessClick}\r\n                    >\r\n                      {item.checked ? (\r\n                        <div className=\"w-4 h-4 border rounded bg-primary border-primary flex items-center justify-center\">\r\n                          <svg\r\n                            className=\"h-3 w-3 text-primary-foreground\"\r\n                            fill=\"none\"\r\n                            viewBox=\"0 0 24 24\"\r\n                            stroke=\"currentColor\"\r\n                          >\r\n                            <path\r\n                              strokeLinecap=\"round\"\r\n                              strokeLinejoin=\"round\"\r\n                              strokeWidth={2}\r\n                              d=\"M5 13l4 4L19 7\"\r\n                            />\r\n                          </svg>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"w-4 h-4 border rounded border-input\" />\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  {/* {renderIcon()} */}\r\n                  <span className=\"flex-1\">{item.name}</span>\r\n                  <HoverCard>\r\n                    <HoverCardTrigger asChild>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        className=\"h-6 w-6 p-0 group-hover:opacity-100 opacity-0 items-center justify-center\"\r\n                        onClick={(e) => e.stopPropagation()}\r\n                      >\r\n                        <Info className=\"h-4 w-4 text-muted-foreground\" />\r\n                      </Button>\r\n                    </HoverCardTrigger>\r\n                    <HoverCardContent className=\"w-80\">\r\n                      <div className=\"space-y-2\">\r\n                        <h4 className=\"text-sm font-semibold\">{item.name}</h4>\r\n                        <div className=\"text-sm text-muted-foreground space-y-1\">\r\n                          <div>\r\n                            <span className=\"font-medium\">Type:</span>{\" \"}\r\n                            {item.type.charAt(0).toUpperCase() +\r\n                              item.type.slice(1).replace(\"_\", \" \")}\r\n                          </div>\r\n                          <div>\r\n                            <span className=\"font-medium\">ID:</span> {item.id}\r\n                          </div>\r\n                          <div>\r\n                            <span className=\"font-medium\">Location:</span>{\" \"}\r\n                            {getItemPath(item, allItems)}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </HoverCardContent>\r\n                  </HoverCard>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {item.children && (\r\n            <Collapsible\r\n              open={isOpen}\r\n              onOpenChange={(open) => onToggleExpand(item.id, open)}\r\n            >\r\n              <AnimatePresence initial={false}>\r\n                {isOpen && (\r\n                  <CollapsibleContent forceMount asChild>\r\n                    <motion.div\r\n                      initial={{ height: 0, opacity: 0 }}\r\n                      animate={{ height: \"auto\", opacity: 1 }}\r\n                      exit={{ height: 0, opacity: 0 }}\r\n                      transition={{ duration: 0.05 }}\r\n                    >\r\n                      {item.children?.map((child) => (\r\n                        <TreeItem\r\n                          key={child.id}\r\n                          item={child}\r\n                          depth={depth + 1}\r\n                          selectedIds={selectedIds}\r\n                          lastSelectedId={lastSelectedId}\r\n                          onSelect={onSelect}\r\n                          expandedIds={expandedIds}\r\n                          onToggleExpand={onToggleExpand}\r\n                          getIcon={getIcon}\r\n                          onAction={onAction}\r\n                          onAccessChange={onAccessChange}\r\n                          allItems={allItems}\r\n                          showAccessRights={showAccessRights}\r\n                          itemMap={itemMap}\r\n                          iconMap={iconMap}\r\n                          menuItems={menuItems}\r\n                          getSelectedItems={getSelectedItems}\r\n                        />\r\n                      ))}\r\n                    </motion.div>\r\n                  </CollapsibleContent>\r\n                )}\r\n              </AnimatePresence>\r\n            </Collapsible>\r\n          )}\r\n        </div>\r\n      </ContextMenuTrigger>\r\n      <ContextMenuContent className=\"w-64\">\r\n        {menuItems?.map((menuItem) => (\r\n          <ContextMenuItem\r\n            key={menuItem.id}\r\n            onClick={() => {\r\n              const items = selectedIds.has(item.id)\r\n                ? getSelectedItems()\r\n                : [item];\r\n              menuItem.action(items);\r\n            }}\r\n          >\r\n            {menuItem.icon && (\r\n              <span className=\"mr-2 h-4 w-4\">{menuItem.icon}</span>\r\n            )}\r\n            {menuItem.label}\r\n          </ContextMenuItem>\r\n        ))}\r\n      </ContextMenuContent>\r\n    </ContextMenu>\r\n  );\r\n}\r\n\r\nexport default function TreeView({\r\n  className,\r\n  checkboxLabels = {\r\n    check: \"Check\",\r\n    uncheck: \"Uncheck\",\r\n  },\r\n  data,\r\n  iconMap,\r\n  showSearch = false,\r\n  searchPlaceholder = \"Search...\",\r\n  selectionText = \"selected\",\r\n  showExpandAll = true,\r\n  showCheckboxes = false,\r\n  getIcon,\r\n  onSelectionChange,\r\n  onAction,\r\n  onCheckChange,\r\n  menuItems,\r\n}: TreeViewProps) {\r\n  const [currentMousePos, setCurrentMousePos] = useState<number>(0);\r\n  const [dragStart, setDragStart] = useState<number | null>(null);\r\n  const [dragStartPosition, setDragStartPosition] = useState<{\r\n    x: number;\r\n    y: number;\r\n  } | null>(null);\r\n  const [expandedIds, setExpandedIds] = useState<Set<string>>(new Set());\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set());\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  const dragRef = useRef<HTMLDivElement>(null);\r\n  const lastSelectedId = useRef<string | null>(null);\r\n  const treeRef = useRef<HTMLDivElement>(null);\r\n\r\n  // const DRAG_THRESHOLD = 10; // pixels\r\n\r\n  // Create a map of all items by ID\r\n  const itemMap = useMemo(() => buildItemMap(data), [data]);\r\n\r\n  // Memoize the search results and expanded IDs\r\n  const { filteredData, searchExpandedIds } = useMemo(() => {\r\n    if (!searchQuery.trim()) {\r\n      return { filteredData: data, searchExpandedIds: new Set<string>() };\r\n    }\r\n\r\n    const searchLower = searchQuery.toLowerCase();\r\n    const newExpandedIds = new Set<string>();\r\n\r\n    // Helper function to check if an item or its descendants match the search\r\n    const itemMatches = (item: TreeViewItem): boolean => {\r\n      const nameMatches = item.name.toLowerCase().includes(searchLower);\r\n      if (nameMatches) return true;\r\n\r\n      if (item.children) {\r\n        return item.children.some((child) => itemMatches(child));\r\n      }\r\n\r\n      return false;\r\n    };\r\n\r\n    // Helper function to filter tree while keeping parent structure\r\n    const filterTree = (items: TreeViewItem[]): TreeViewItem[] => {\r\n      return items\r\n        .map((item) => {\r\n          if (!item.children) {\r\n            return itemMatches(item) ? item : null;\r\n          }\r\n\r\n          const filteredChildren = filterTree(item.children);\r\n          if (filteredChildren.length > 0 || itemMatches(item)) {\r\n            if (item.children) {\r\n              newExpandedIds.add(item.id);\r\n            }\r\n            return {\r\n              ...item,\r\n              children: filteredChildren,\r\n            };\r\n          }\r\n          return null;\r\n        })\r\n        .filter((item): item is TreeViewItem => item !== null);\r\n    };\r\n\r\n    return {\r\n      filteredData: filterTree(data),\r\n      searchExpandedIds: newExpandedIds,\r\n    };\r\n  }, [data, searchQuery]);\r\n\r\n  // Update expanded IDs when search changes\r\n  useEffect(() => {\r\n    if (searchQuery.trim()) {\r\n      setExpandedIds((prev) => new Set([...prev, ...searchExpandedIds]));\r\n    }\r\n  }, [searchExpandedIds, searchQuery]);\r\n\r\n  useEffect(() => {\r\n    const handleClickAway = (e: MouseEvent) => {\r\n      const target = e.target as Element;\r\n\r\n      const clickedInside =\r\n        (treeRef.current && treeRef.current.contains(target)) ||\r\n        (dragRef.current && dragRef.current.contains(target)) ||\r\n        // Ignore clicks on context menus\r\n        target.closest('[role=\"menu\"]') ||\r\n        target.closest(\"[data-radix-popper-content-wrapper]\");\r\n\r\n      if (!clickedInside) {\r\n        setSelectedIds(new Set());\r\n        lastSelectedId.current = null;\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickAway);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickAway);\r\n  }, []);\r\n\r\n  // Function to collect all folder IDs\r\n  const getAllFolderIds = (items: TreeViewItem[]): string[] => {\r\n    let ids: string[] = [];\r\n    items.forEach((item) => {\r\n      if (item.children) {\r\n        ids.push(item.id);\r\n        ids = [...ids, ...getAllFolderIds(item.children)];\r\n      }\r\n    });\r\n    return ids;\r\n  };\r\n\r\n  const handleExpandAll = () => {\r\n    setExpandedIds(new Set(getAllFolderIds(data)));\r\n  };\r\n\r\n  const handleCollapseAll = () => {\r\n    setExpandedIds(new Set());\r\n  };\r\n\r\n  const handleToggleExpand = (id: string, isOpen: boolean) => {\r\n    const newExpandedIds = new Set(expandedIds);\r\n    if (isOpen) {\r\n      newExpandedIds.add(id);\r\n    } else {\r\n      newExpandedIds.delete(id);\r\n    }\r\n    setExpandedIds(newExpandedIds);\r\n  };\r\n\r\n  // Get selected items\r\n  const getSelectedItems = useCallback((): TreeViewItem[] => {\r\n    const items: TreeViewItem[] = [];\r\n    const processItem = (item: TreeViewItem) => {\r\n      if (selectedIds.has(item.id)) {\r\n        items.push(item);\r\n      }\r\n      item.children?.forEach(processItem);\r\n    };\r\n    data.forEach(processItem);\r\n    return items;\r\n  }, [selectedIds, data]);\r\n\r\n  // Get selected items, filtering out parents if their children are selected\r\n  const getEffectiveSelectedItems = useCallback((): TreeViewItem[] => {\r\n    const selectedItems = getSelectedItems();\r\n\r\n    // Build a set of all selected IDs for quick lookup\r\n    const selectedIdsSet = new Set(selectedItems.map((item) => item.id));\r\n\r\n    // Filter out parents whose children are also selected\r\n    return selectedItems.filter((item) => {\r\n      // If this item has no children, always include it\r\n      if (!item.children) return true;\r\n\r\n      // Check if any children of this item are selected\r\n      const hasSelectedChildren = item.children.some((child) =>\r\n        selectedIdsSet.has(child.id),\r\n      );\r\n\r\n      // Only include this item if none of its children are selected\r\n      return !hasSelectedChildren;\r\n    });\r\n  }, [getSelectedItems]);\r\n\r\n  const handleMouseDown = useCallback((e: React.MouseEvent) => {\r\n    // Only track on left click and not on buttons\r\n    if (e.button !== 0 || (e.target as HTMLElement).closest(\"button\")) return;\r\n\r\n    setDragStartPosition({ x: e.clientX, y: e.clientY });\r\n  }, []);\r\n\r\n  // const handleMouseMove = useCallback(\r\n  //   (e: React.MouseEvent) => {\r\n  //     // Check if primary button is still held down\r\n  //     if (!(e.buttons & 1)) {\r\n  //       setIsDragging(false);\r\n  //       setDragStart(null);\r\n  //       setDragStartPosition(null);\r\n  //       return;\r\n  //     }\r\n\r\n  //     // If we haven't registered a potential drag start position, ignore\r\n  //     if (!dragStartPosition) return;\r\n\r\n  //     // Calculate distance moved\r\n  //     const deltaX = e.clientX - dragStartPosition.x;\r\n  //     const deltaY = e.clientY - dragStartPosition.y;\r\n  //     const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\r\n\r\n  //     // If we haven't started dragging yet, check if we should start\r\n  //     if (!isDragging) {\r\n  //       if (distance > DRAG_THRESHOLD) {\r\n  //         setIsDragging(true);\r\n  //         setDragStart(dragStartPosition.y);\r\n\r\n  //         // Clear selection if not holding shift/ctrl\r\n  //         if (!e.shiftKey && !e.ctrlKey) {\r\n  //           setSelectedIds(new Set());\r\n  //           lastSelectedId.current = null;\r\n  //         }\r\n  //       }\r\n  //       return;\r\n  //     }\r\n\r\n  //     // Rest of the existing drag logic\r\n  //     if (!dragRef.current) return;\r\n\r\n  //     const items = Array.from(\r\n  //       dragRef.current.querySelectorAll(\"[data-tree-item]\"),\r\n  //     ) as HTMLElement[];\r\n\r\n  //     const startY = dragStart;\r\n  //     const currentY = e.clientY;\r\n  //     const [selectionStart, selectionEnd] = [\r\n  //       Math.min(startY || 0, currentY),\r\n  //       Math.max(startY || 0, currentY),\r\n  //     ];\r\n\r\n  //     const newSelection = new Set(\r\n  //       e.shiftKey || e.ctrlKey ? Array.from(selectedIds) : [],\r\n  //     );\r\n\r\n  //     items.forEach((item) => {\r\n  //       const rect = item.getBoundingClientRect();\r\n  //       const itemTop = rect.top;\r\n  //       const itemBottom = rect.top + rect.height;\r\n\r\n  //       if (itemBottom >= selectionStart && itemTop <= selectionEnd) {\r\n  //         const id = item.getAttribute(\"data-id\");\r\n  //         const isClosedFolder =\r\n  //           item.getAttribute(\"data-folder-closed\") === \"true\";\r\n  //         const parentFolderClosed = item.closest(\r\n  //           '[data-folder-closed=\"true\"]',\r\n  //         );\r\n\r\n  //         if (id && (isClosedFolder || !parentFolderClosed)) {\r\n  //           newSelection.add(id);\r\n  //         }\r\n  //       }\r\n  //     });\r\n\r\n  //     setSelectedIds(newSelection);\r\n  //     setCurrentMousePos(e.clientY);\r\n  //   },\r\n  //   [isDragging, dragStart, selectedIds, dragStartPosition],\r\n  // );\r\n\r\n  const handleMouseUp = useCallback(() => {\r\n    setIsDragging(false);\r\n    setDragStart(null);\r\n    setDragStartPosition(null);\r\n  }, []);\r\n\r\n  // Add cleanup for mouse events\r\n  useEffect(() => {\r\n    if (isDragging) {\r\n      document.addEventListener(\"mouseup\", handleMouseUp);\r\n      document.addEventListener(\"mouseleave\", handleMouseUp);\r\n    }\r\n    return () => {\r\n      document.removeEventListener(\"mouseup\", handleMouseUp);\r\n      document.removeEventListener(\"mouseleave\", handleMouseUp);\r\n    };\r\n  }, [isDragging, handleMouseUp]);\r\n\r\n  // Call onSelectionChange when selection changes\r\n  useEffect(() => {\r\n    if (onSelectionChange) {\r\n      console.log(\"Selection changed\", selectedIds);\r\n      onSelectionChange(getSelectedItems());\r\n    }\r\n  }, [selectedIds]);\r\n\r\n  console.log(\"TreeView render\", { selectedIds, searchQuery });\r\n\r\n  return (\r\n    <div className=\"flex gap-4\">\r\n      <div ref={treeRef} className=\" max-w-2xl space-y-4 w-[600px] relative\">\r\n        {showSearch && (\r\n          <AnimatePresence mode=\"wait\">\r\n            {selectedIds.size > 0 ? (\r\n              <motion.div\r\n                key=\"selection\"\r\n                initial={{ opacity: 0, y: -20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -20 }}\r\n                className=\"h-10 flex items-center justify-between bg-background rounded-lg border px-4\"\r\n              >\r\n                <div\r\n                  className=\"font-medium cursor-pointer flex items-center\"\r\n                  title=\"Clear selection\"\r\n                  onClick={() => {\r\n                    setSelectedIds(new Set());\r\n                    lastSelectedId.current = null;\r\n                  }}\r\n                >\r\n                  <X className=\"h-4 w-4 mr-2\" />\r\n                  {selectedIds.size} {selectionText}\r\n                </div>\r\n\r\n                {showCheckboxes && (\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      onClick={() => {\r\n                        const effectiveItems = getEffectiveSelectedItems();\r\n                        const processItem = (item: TreeViewItem) => {\r\n                          onCheckChange?.(item, true);\r\n                          item.children?.forEach(processItem);\r\n                        };\r\n                        effectiveItems.forEach(processItem);\r\n                      }}\r\n                      className=\"text-green-600 hover:text-green-700 hover:bg-green-50\"\r\n                    >\r\n                      {checkboxLabels.check}\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      onClick={() => {\r\n                        const effectiveItems = getEffectiveSelectedItems();\r\n                        const processItem = (item: TreeViewItem) => {\r\n                          onCheckChange?.(item, false);\r\n                          item.children?.forEach(processItem);\r\n                        };\r\n                        effectiveItems.forEach(processItem);\r\n                      }}\r\n                      className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\r\n                    >\r\n                      {checkboxLabels.uncheck}\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </motion.div>\r\n            ) : (\r\n              <motion.div\r\n                key=\"search\"\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: 20 }}\r\n                className=\"h-10 flex items-center gap-2\"\r\n              >\r\n                <div className=\"relative flex-1\">\r\n                  <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    placeholder={searchPlaceholder}\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                    className=\"h-10 pl-9\"\r\n                  />\r\n                </div>\r\n                {showExpandAll && (\r\n                  <div className=\"flex gap-2 shrink-0\">\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      className=\"h-10 px-2\"\r\n                      onClick={handleExpandAll}\r\n                    >\r\n                      <ChevronDown className=\"h-4 w-4 mr-1\" />\r\n                      Expand All\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      className=\"h-10 px-2\"\r\n                      onClick={handleCollapseAll}\r\n                    >\r\n                      <ChevronRight className=\"h-4 w-4 mr-1\" />\r\n                      Collapse All\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        )}\r\n\r\n        <div\r\n          ref={dragRef}\r\n          className={cn(\"rounded-lg bg-card relative select-none\", className)}\r\n          // onMouseDown={handleMouseDown}\r\n          // onMouseMove={handleMouseMove}\r\n        >\r\n          {/* {isDragging && (\r\n            <div\r\n              className=\"absolute inset-0 bg-blue-500/0 pointer-events-none\"\r\n              style={{\r\n                top: Math.min(\r\n                  dragStart || 0,\r\n                  dragStart === null ? 0 : currentMousePos,\r\n                ),\r\n                height: Math.abs(\r\n                  (dragStart || 0) - (dragStart === null ? 0 : currentMousePos),\r\n                ),\r\n              }}\r\n            />\r\n          )} */}\r\n          {filteredData.map((item) => (\r\n            <TreeItem\r\n              key={item.id}\r\n              item={item}\r\n              selectedIds={selectedIds}\r\n              lastSelectedId={lastSelectedId}\r\n              onSelect={setSelectedIds}\r\n              expandedIds={expandedIds}\r\n              onToggleExpand={handleToggleExpand}\r\n              getIcon={getIcon}\r\n              onAction={onAction}\r\n              onAccessChange={onCheckChange}\r\n              allItems={data}\r\n              showAccessRights={showCheckboxes}\r\n              itemMap={itemMap}\r\n              iconMap={iconMap}\r\n              menuItems={menuItems}\r\n              getSelectedItems={getSelectedItems}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAMA;AACA;AAKA;AACA;AACA;AACA;AA1BA;;;;;;;;;;;;;;AAwFA,oDAAoD;AACpD,MAAM,eAAe,CAAC;IACpB,MAAM,MAAM,IAAI;IAChB,MAAM,cAAc,CAAC;QACnB,IAAI,GAAG,CAAC,KAAK,EAAE,EAAE;QACjB,KAAK,QAAQ,EAAE,QAAQ;IACzB;IACA,MAAM,OAAO,CAAC;IACd,OAAO;AACT;AAEA,sDAAsD;AACtD,MAAM,gBAAgB,CACpB,MACA;IAEA,qCAAqC;IACrC,MAAM,eAAe,QAAQ,GAAG,CAAC,KAAK,EAAE;IACxC,IAAI,CAAC,cAAc,OAAO;IAE1B,4DAA4D;IAC5D,IAAI,CAAC,aAAa,QAAQ,IAAI,aAAa,QAAQ,CAAC,MAAM,KAAK,GAAG;QAChE,OAAO,aAAa,OAAO,GAAG,YAAY;IAC5C;IAEA,+CAA+C;IAC/C,IAAI,eAAe;IACnB,IAAI,qBAAqB;IAEzB,aAAa,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC7B,MAAM,aAAa,cAAc,OAAO;QACxC,IAAI,eAAe,WAAW;QAC9B,IAAI,eAAe,iBAAiB;IACtC;IAEA,kDAAkD;IAClD,MAAM,gBAAgB,aAAa,QAAQ,CAAC,MAAM;IAElD,8BAA8B;IAC9B,IAAI,iBAAiB,eAAe;QAClC,OAAO;IACT;IACA,2CAA2C;IAC3C,IAAI,eAAe,KAAK,qBAAqB,GAAG;QAC9C,OAAO;IACT;IACA,8CAA8C;IAC9C,OAAO;AACT;AAEA,4BAA4B;AAC5B,MAAM,iBAAkC;IACtC,oBAAM,6VAAC,2RAAG;QAAC,WAAU;;;;;;IACrB,sBAAQ,6VAAC,oSAAM;QAAC,WAAU;;;;;;AAC5B;AAEA,SAAS,SAAS,EAChB,IAAI,EACJ,QAAQ,CAAC,EACT,WAAW,EACX,cAAc,EACd,QAAQ,EACR,WAAW,EACX,cAAc,EACd,OAAO,EACP,QAAQ,EACR,cAAc,EACd,QAAQ,EACR,gBAAgB,EAChB,OAAO,EACP,UAAU,cAAc,EACxB,SAAS,EACT,gBAAgB,EACF;IACd,MAAM,SAAS,YAAY,GAAG,CAAC,KAAK,EAAE;IACtC,MAAM,aAAa,YAAY,GAAG,CAAC,KAAK,EAAE;IAC1C,MAAM,UAAU,IAAA,8TAAM,EAAiB;IACvC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,gUAAQ,EAAC;IAErD,iCAAiC;IACjC,MAAM,kBAAkB,IAAA,mUAAW,EACjC,CAAC;QACC,IAAI,eAA+B,EAAE;QAErC,MAAM,OAAO,CAAC,CAAC;YACb,aAAa,IAAI,CAAC;YAClB,IAAI,KAAK,QAAQ,IAAI,YAAY,GAAG,CAAC,KAAK,EAAE,GAAG;gBAC7C,eAAe;uBAAI;uBAAiB,gBAAgB,KAAK,QAAQ;iBAAE;YACrE;QACF;QAEA,OAAO;IACT,GACA;QAAC;KAAY;IAGf,IAAA,iUAAS,EAAC;QACR,IAAI,CAAC,YAAY;YACf,kBAAkB;YAClB;QACF;QAEA,6CAA6C;QAC7C,MAAM,eAAe,gBAAgB;QACrC,MAAM,eAAe,aAAa,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;QAEnE,MAAM,WAAW,YAAY,CAAC,eAAe,EAAE;QAC/C,MAAM,WAAW,YAAY,CAAC,eAAe,EAAE;QAE/C,MAAM,iBAAiB,YAAY,YAAY,GAAG,CAAC,SAAS,EAAE;QAC9D,MAAM,iBAAiB,YAAY,YAAY,GAAG,CAAC,SAAS,EAAE;QAE9D,MAAM,WAAW,CAAC;QAClB,MAAM,cAAc,CAAC;QAErB,kBACE,GAAG,WAAW,iBAAiB,GAAG,CAAC,EAAE,cAAc,iBAAiB,IAAI;IAE5E,GAAG;QACD;QACA;QACA;QACA,KAAK,EAAE;QACP;QACA;KACD;IAED,MAAM,cAAc,CAAC;QACnB,EAAE,eAAe;QACjB,EAAE,cAAc;QAEhB,IAAI,eAAe,IAAI,IAAI;QAE3B,IAAI,CAAC,QAAQ,OAAO,EAAE;QAEtB,IAAI,EAAE,QAAQ,IAAI,eAAe,OAAO,KAAK,MAAM;YACjD,MAAM,QAAQ,MAAM,IAAI,CACtB,SAAS,gBAAgB,CAAC;YAE5B,MAAM,YAAY,MAAM,SAAS,CAC/B,CAAC,KAAO,GAAG,YAAY,CAAC,eAAe,eAAe,OAAO;YAE/D,MAAM,eAAe,MAAM,SAAS,CAAC,CAAC,KAAO,OAAO,QAAQ,OAAO;YACnE,MAAM,CAAC,OAAO,IAAI,GAAG;gBACnB,KAAK,GAAG,CAAC,WAAW;gBACpB,KAAK,GAAG,CAAC,WAAW;aACrB;YAED,MAAM,KAAK,CAAC,OAAO,MAAM,GAAG,OAAO,CAAC,CAAC;gBACnC,MAAM,KAAK,GAAG,YAAY,CAAC;gBAC3B,MAAM,qBAAqB,GAAG,OAAO,CAAC;gBACtC,MAAM,iBAAiB,GAAG,YAAY,CAAC,0BAA0B;gBAEjE,IAAI,MAAM,CAAC,kBAAkB,CAAC,kBAAkB,GAAG;oBACjD,aAAa,GAAG,CAAC;gBACnB;YACF;QACF,OAAO,IAAI,EAAE,OAAO,IAAI,EAAE,OAAO,EAAE;YACjC,IAAI,aAAa,GAAG,CAAC,KAAK,EAAE,GAAG;gBAC7B,aAAa,MAAM,CAAC,KAAK,EAAE;YAC7B,OAAO;gBACL,aAAa,GAAG,CAAC,KAAK,EAAE;YAC1B;QACF,OAAO;YACL,eAAe,IAAI,IAAI;gBAAC,KAAK,EAAE;aAAC;YAChC,+CAA+C;YAC/C,IAAI,KAAK,QAAQ,IAAI,YAAY;gBAC/B,eAAe,KAAK,EAAE,EAAE,CAAC;YAC3B;QACF;QAEA,eAAe,OAAO,GAAG,KAAK,EAAE;QAChC,SAAS;IACX;IAEA,6CAA6C;IAC7C,oBAAoB;IACpB,oEAAoE;IACpE,4BAA4B;IAC5B,6BAA6B;IAC7B,qBAAqB;IACrB,0DAA0D;IAC1D,0DAA0D;IAC1D,oBAAoB;IACpB,uCAAuC;IACvC,MAAM;IACN,KAAK;IAEL,gFAAgF;IAChF,MAAM,oBAAoB,CAAC;QACzB,MAAM,cAAc;YAAC;SAAK;QAC1B,IAAI,KAAK,QAAQ,EAAE;YACjB,KAAK,QAAQ,CAAC,OAAO,CAAC,CAAC;gBACrB,YAAY,IAAI,IAAI,kBAAkB;YACxC;QACF;QACA,OAAO;IACT;IAEA,MAAM,oBAAoB,CAAC;QACzB,EAAE,eAAe;QACjB,IAAI,gBAAgB;YAClB,MAAM,eAAe,cAAc,MAAM;YACzC,4EAA4E;YAC5E,MAAM,aAAa,iBAAiB,YAAY,QAAQ;YACxD,eAAe,MAAM;QACvB;IACF;IAEA,6BAA6B;IAC7B,mBAAmB;IACnB,mCAAmC;IACnC,MAAM;IAEN,wDAAwD;IACxD,0EAA0E;IAC1E,KAAK;IAEL,MAAM,cAAc,CAAC,MAAoB;QACvC,MAAM,OAAiB;YAAC,KAAK,IAAI;SAAC;QAElC,MAAM,aAAa,CACjB,aACA;YAEA,KAAK,MAAM,mBAAmB,SAAU;gBACtC,IACE,gBAAgB,QAAQ,EAAE,KAAK,CAAC,QAAU,MAAM,EAAE,KAAK,YAAY,EAAE,GACrE;oBACA,KAAK,OAAO,CAAC,gBAAgB,IAAI;oBACjC,WAAW,iBAAiB;oBAC5B;gBACF;gBACA,IAAI,gBAAgB,QAAQ,EAAE;oBAC5B,WAAW,aAAa,gBAAgB,QAAQ;gBAClD;YACF;QACF;QAEA,WAAW,MAAM;QACjB,OAAO,KAAK,IAAI,CAAC;IACnB;IAEA,mDAAmD;IACnD,MAAM,2BAA2B,CAAC;QAChC,IAAI,QAAQ;QAEZ,IAAI,CAAC,KAAK,QAAQ,EAAE,OAAO;QAE3B,KAAK,QAAQ,CAAC,OAAO,CAAC,CAAC;YACrB,IAAI,YAAY,GAAG,CAAC,MAAM,EAAE,GAAG;gBAC7B;YACF;YACA,IAAI,MAAM,QAAQ,EAAE;gBAClB,SAAS,yBAAyB;YACpC;QACF;QAEA,OAAO;IACT;IAEA,gEAAgE;IAChE,MAAM,gBACJ,AAAC,KAAK,QAAQ,IAAI,CAAC,UAAU,yBAAyB,SAAU;IAElE,qBACE,6VAAC,0JAAW;;0BACV,6VAAC,iKAAkB;0BACjB,cAAA,6VAAC;;sCACC,6VAAC;4BACC,KAAK;4BACL,gBAAc;4BACd,WAAS,KAAK,EAAE;4BAChB,cAAY;4BACZ,sBAAoB,KAAK,QAAQ,IAAI,CAAC;4BACtC,WAAW,CAAC,2BAA2B,EACrC,aACI,CAAC,eAAe,EAAE,gBAAgB,GAClC,kBACL,KAAK,CAAC;4BACP,OAAO;gCAAE,aAAa,GAAG,QAAQ,GAAG,EAAE,CAAC;4BAAC;4BACxC,SAAS;sCAET,cAAA,6VAAC;gCAAI,WAAU;0CACZ,KAAK,QAAQ,iBACZ,6VAAC;oCAAI,WAAU;;sDACb,6VAAC,sJAAW;4CACV,MAAM;4CACN,cAAc,CAAC,OAAS,eAAe,KAAK,EAAE,EAAE;sDAEhD,cAAA,6VAAC,6JAAkB;gDACjB,OAAO;gDACP,SAAS,CAAC,IAAM,EAAE,eAAe;0DAEjC,cAAA,6VAAC,4IAAM;oDAAC,SAAQ;oDAAQ,MAAK;oDAAO,WAAU;8DAC5C,cAAA,6VAAC,0SAAM,CAAC,GAAG;wDACT,SAAS;wDACT,SAAS;4DAAE,QAAQ,SAAS,KAAK;wDAAE;wDACnC,YAAY;4DAAE,UAAU;wDAAI;kEAE5B,cAAA,6VAAC,0TAAY;4DAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;wCAK/B,kCACC,6VAAC;4CACC,WAAU;4CACV,SAAS;;gDAER,cAAc,MAAM,aAAa,2BAChC,6VAAC;oDAAI,WAAU;8DACb,cAAA,6VAAC;wDACC,WAAU;wDACV,MAAK;wDACL,SAAQ;wDACR,QAAO;kEAEP,cAAA,6VAAC;4DACC,eAAc;4DACd,gBAAe;4DACf,aAAa;4DACb,GAAE;;;;;;;;;;;;;;;;gDAKT,cAAc,MAAM,aAAa,6BAChC,6VAAC;oDAAI,WAAU;;;;;;gDAEhB,cAAc,MAAM,aAAa,iCAChC,6VAAC;oDAAI,WAAU;8DACb,cAAA,6VAAC;wDAAI,WAAU;;;;;;;;;;;;;;;;;sDAMvB,6VAAC;4CAAK,WAAU;sDAAU,KAAK,IAAI;;;;;;wCAClC,kBAAkB,QAAQ,gBAAgB,mBACzC,6VAAC,0IAAK;4CACJ,SAAQ;4CACR,WAAU;;gDAET;gDAAc;;;;;;;;;;;;yDAwCrB,6VAAC;oCAAI,WAAU;;wCACZ,kCACC,6VAAC;4CACC,WAAU;4CACV,SAAS;sDAER,KAAK,OAAO,iBACX,6VAAC;gDAAI,WAAU;0DACb,cAAA,6VAAC;oDACC,WAAU;oDACV,MAAK;oDACL,SAAQ;oDACR,QAAO;8DAEP,cAAA,6VAAC;wDACC,eAAc;wDACd,gBAAe;wDACf,aAAa;wDACb,GAAE;;;;;;;;;;;;;;;qEAKR,6VAAC;gDAAI,WAAU;;;;;;;;;;;sDAKrB,6VAAC;4CAAK,WAAU;sDAAU,KAAK,IAAI;;;;;;sDACnC,6VAAC,sJAAS;;8DACR,6VAAC,6JAAgB;oDAAC,OAAO;8DACvB,cAAA,6VAAC,4IAAM;wDACL,SAAQ;wDACR,MAAK;wDACL,WAAU;wDACV,SAAS,CAAC,IAAM,EAAE,eAAe;kEAEjC,cAAA,6VAAC,8RAAI;4DAAC,WAAU;;;;;;;;;;;;;;;;8DAGpB,6VAAC,6JAAgB;oDAAC,WAAU;8DAC1B,cAAA,6VAAC;wDAAI,WAAU;;0EACb,6VAAC;gEAAG,WAAU;0EAAyB,KAAK,IAAI;;;;;;0EAChD,6VAAC;gEAAI,WAAU;;kFACb,6VAAC;;0FACC,6VAAC;gFAAK,WAAU;0FAAc;;;;;;4EAAa;4EAC1C,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,WAAW,KAC9B,KAAK,IAAI,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,KAAK;;;;;;;kFAEpC,6VAAC;;0FACC,6VAAC;gFAAK,WAAU;0FAAc;;;;;;4EAAU;4EAAE,KAAK,EAAE;;;;;;;kFAEnD,6VAAC;;0FACC,6VAAC;gFAAK,WAAU;0FAAc;;;;;;4EAAiB;4EAC9C,YAAY,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wBAWpC,KAAK,QAAQ,kBACZ,6VAAC,sJAAW;4BACV,MAAM;4BACN,cAAc,CAAC,OAAS,eAAe,KAAK,EAAE,EAAE;sCAEhD,cAAA,6VAAC,kTAAe;gCAAC,SAAS;0CACvB,wBACC,6VAAC,6JAAkB;oCAAC,UAAU;oCAAC,OAAO;8CACpC,cAAA,6VAAC,0SAAM,CAAC,GAAG;wCACT,SAAS;4CAAE,QAAQ;4CAAG,SAAS;wCAAE;wCACjC,SAAS;4CAAE,QAAQ;4CAAQ,SAAS;wCAAE;wCACtC,MAAM;4CAAE,QAAQ;4CAAG,SAAS;wCAAE;wCAC9B,YAAY;4CAAE,UAAU;wCAAK;kDAE5B,KAAK,QAAQ,EAAE,IAAI,CAAC,sBACnB,6VAAC;gDAEC,MAAM;gDACN,OAAO,QAAQ;gDACf,aAAa;gDACb,gBAAgB;gDAChB,UAAU;gDACV,aAAa;gDACb,gBAAgB;gDAChB,SAAS;gDACT,UAAU;gDACV,gBAAgB;gDAChB,UAAU;gDACV,kBAAkB;gDAClB,SAAS;gDACT,SAAS;gDACT,WAAW;gDACX,kBAAkB;+CAhBb,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BA2BjC,6VAAC,iKAAkB;gBAAC,WAAU;0BAC3B,WAAW,IAAI,CAAC,yBACf,6VAAC,8JAAe;wBAEd,SAAS;4BACP,MAAM,QAAQ,YAAY,GAAG,CAAC,KAAK,EAAE,IACjC,qBACA;gCAAC;6BAAK;4BACV,SAAS,MAAM,CAAC;wBAClB;;4BAEC,SAAS,IAAI,kBACZ,6VAAC;gCAAK,WAAU;0CAAgB,SAAS,IAAI;;;;;;4BAE9C,SAAS,KAAK;;uBAXV,SAAS,EAAE;;;;;;;;;;;;;;;;AAiB5B;AAEe,SAAS,SAAS,EAC/B,SAAS,EACT,iBAAiB;IACf,OAAO;IACP,SAAS;AACX,CAAC,EACD,IAAI,EACJ,OAAO,EACP,aAAa,KAAK,EAClB,oBAAoB,WAAW,EAC/B,gBAAgB,UAAU,EAC1B,gBAAgB,IAAI,EACpB,iBAAiB,KAAK,EACtB,OAAO,EACP,iBAAiB,EACjB,QAAQ,EACR,aAAa,EACb,SAAS,EACK;IACd,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,gUAAQ,EAAS;IAC/D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gUAAQ,EAAgB;IAC1D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,gUAAQ,EAGhD;IACV,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gUAAQ,EAAc,IAAI;IAChE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gUAAQ,EAAC;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gUAAQ,EAAc,IAAI;IAChE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gUAAQ,EAAC;IAE/C,MAAM,UAAU,IAAA,8TAAM,EAAiB;IACvC,MAAM,iBAAiB,IAAA,8TAAM,EAAgB;IAC7C,MAAM,UAAU,IAAA,8TAAM,EAAiB;IAEvC,uCAAuC;IAEvC,kCAAkC;IAClC,MAAM,UAAU,IAAA,+TAAO,EAAC,IAAM,aAAa,OAAO;QAAC;KAAK;IAExD,8CAA8C;IAC9C,MAAM,EAAE,YAAY,EAAE,iBAAiB,EAAE,GAAG,IAAA,+TAAO,EAAC;QAClD,IAAI,CAAC,YAAY,IAAI,IAAI;YACvB,OAAO;gBAAE,cAAc;gBAAM,mBAAmB,IAAI;YAAc;QACpE;QAEA,MAAM,cAAc,YAAY,WAAW;QAC3C,MAAM,iBAAiB,IAAI;QAE3B,0EAA0E;QAC1E,MAAM,cAAc,CAAC;YACnB,MAAM,cAAc,KAAK,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;YACrD,IAAI,aAAa,OAAO;YAExB,IAAI,KAAK,QAAQ,EAAE;gBACjB,OAAO,KAAK,QAAQ,CAAC,IAAI,CAAC,CAAC,QAAU,YAAY;YACnD;YAEA,OAAO;QACT;QAEA,gEAAgE;QAChE,MAAM,aAAa,CAAC;YAClB,OAAO,MACJ,GAAG,CAAC,CAAC;gBACJ,IAAI,CAAC,KAAK,QAAQ,EAAE;oBAClB,OAAO,YAAY,QAAQ,OAAO;gBACpC;gBAEA,MAAM,mBAAmB,WAAW,KAAK,QAAQ;gBACjD,IAAI,iBAAiB,MAAM,GAAG,KAAK,YAAY,OAAO;oBACpD,IAAI,KAAK,QAAQ,EAAE;wBACjB,eAAe,GAAG,CAAC,KAAK,EAAE;oBAC5B;oBACA,OAAO;wBACL,GAAG,IAAI;wBACP,UAAU;oBACZ;gBACF;gBACA,OAAO;YACT,GACC,MAAM,CAAC,CAAC,OAA+B,SAAS;QACrD;QAEA,OAAO;YACL,cAAc,WAAW;YACzB,mBAAmB;QACrB;IACF,GAAG;QAAC;QAAM;KAAY;IAEtB,0CAA0C;IAC1C,IAAA,iUAAS,EAAC;QACR,IAAI,YAAY,IAAI,IAAI;YACtB,eAAe,CAAC,OAAS,IAAI,IAAI;uBAAI;uBAAS;iBAAkB;QAClE;IACF,GAAG;QAAC;QAAmB;KAAY;IAEnC,IAAA,iUAAS,EAAC;QACR,MAAM,kBAAkB,CAAC;YACvB,MAAM,SAAS,EAAE,MAAM;YAEvB,MAAM,gBACJ,AAAC,QAAQ,OAAO,IAAI,QAAQ,OAAO,CAAC,QAAQ,CAAC,WAC5C,QAAQ,OAAO,IAAI,QAAQ,OAAO,CAAC,QAAQ,CAAC,WAC7C,iCAAiC;YACjC,OAAO,OAAO,CAAC,oBACf,OAAO,OAAO,CAAC;YAEjB,IAAI,CAAC,eAAe;gBAClB,eAAe,IAAI;gBACnB,eAAe,OAAO,GAAG;YAC3B;QACF;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;IACzD,GAAG,EAAE;IAEL,qCAAqC;IACrC,MAAM,kBAAkB,CAAC;QACvB,IAAI,MAAgB,EAAE;QACtB,MAAM,OAAO,CAAC,CAAC;YACb,IAAI,KAAK,QAAQ,EAAE;gBACjB,IAAI,IAAI,CAAC,KAAK,EAAE;gBAChB,MAAM;uBAAI;uBAAQ,gBAAgB,KAAK,QAAQ;iBAAE;YACnD;QACF;QACA,OAAO;IACT;IAEA,MAAM,kBAAkB;QACtB,eAAe,IAAI,IAAI,gBAAgB;IACzC;IAEA,MAAM,oBAAoB;QACxB,eAAe,IAAI;IACrB;IAEA,MAAM,qBAAqB,CAAC,IAAY;QACtC,MAAM,iBAAiB,IAAI,IAAI;QAC/B,IAAI,QAAQ;YACV,eAAe,GAAG,CAAC;QACrB,OAAO;YACL,eAAe,MAAM,CAAC;QACxB;QACA,eAAe;IACjB;IAEA,qBAAqB;IACrB,MAAM,mBAAmB,IAAA,mUAAW,EAAC;QACnC,MAAM,QAAwB,EAAE;QAChC,MAAM,cAAc,CAAC;YACnB,IAAI,YAAY,GAAG,CAAC,KAAK,EAAE,GAAG;gBAC5B,MAAM,IAAI,CAAC;YACb;YACA,KAAK,QAAQ,EAAE,QAAQ;QACzB;QACA,KAAK,OAAO,CAAC;QACb,OAAO;IACT,GAAG;QAAC;QAAa;KAAK;IAEtB,2EAA2E;IAC3E,MAAM,4BAA4B,IAAA,mUAAW,EAAC;QAC5C,MAAM,gBAAgB;QAEtB,mDAAmD;QACnD,MAAM,iBAAiB,IAAI,IAAI,cAAc,GAAG,CAAC,CAAC,OAAS,KAAK,EAAE;QAElE,sDAAsD;QACtD,OAAO,cAAc,MAAM,CAAC,CAAC;YAC3B,kDAAkD;YAClD,IAAI,CAAC,KAAK,QAAQ,EAAE,OAAO;YAE3B,kDAAkD;YAClD,MAAM,sBAAsB,KAAK,QAAQ,CAAC,IAAI,CAAC,CAAC,QAC9C,eAAe,GAAG,CAAC,MAAM,EAAE;YAG7B,8DAA8D;YAC9D,OAAO,CAAC;QACV;IACF,GAAG;QAAC;KAAiB;IAErB,MAAM,kBAAkB,IAAA,mUAAW,EAAC,CAAC;QACnC,8CAA8C;QAC9C,IAAI,EAAE,MAAM,KAAK,KAAK,AAAC,EAAE,MAAM,CAAiB,OAAO,CAAC,WAAW;QAEnE,qBAAqB;YAAE,GAAG,EAAE,OAAO;YAAE,GAAG,EAAE,OAAO;QAAC;IACpD,GAAG,EAAE;IAEL,uCAAuC;IACvC,+BAA+B;IAC/B,oDAAoD;IACpD,8BAA8B;IAC9B,8BAA8B;IAC9B,4BAA4B;IAC5B,oCAAoC;IACpC,gBAAgB;IAChB,QAAQ;IAER,0EAA0E;IAC1E,sCAAsC;IAEtC,kCAAkC;IAClC,sDAAsD;IACtD,sDAAsD;IACtD,qEAAqE;IAErE,sEAAsE;IACtE,yBAAyB;IACzB,yCAAyC;IACzC,+BAA+B;IAC/B,6CAA6C;IAE7C,uDAAuD;IACvD,2CAA2C;IAC3C,uCAAuC;IACvC,2CAA2C;IAC3C,YAAY;IACZ,UAAU;IACV,gBAAgB;IAChB,QAAQ;IAER,yCAAyC;IACzC,oCAAoC;IAEpC,gCAAgC;IAChC,8DAA8D;IAC9D,0BAA0B;IAE1B,gCAAgC;IAChC,kCAAkC;IAClC,+CAA+C;IAC/C,yCAAyC;IACzC,yCAAyC;IACzC,SAAS;IAET,oCAAoC;IACpC,gEAAgE;IAChE,SAAS;IAET,gCAAgC;IAChC,mDAAmD;IACnD,kCAAkC;IAClC,mDAAmD;IAEnD,uEAAuE;IACvE,mDAAmD;IACnD,iCAAiC;IACjC,gEAAgE;IAChE,mDAAmD;IACnD,2CAA2C;IAC3C,aAAa;IAEb,+DAA+D;IAC/D,kCAAkC;IAClC,YAAY;IACZ,UAAU;IACV,UAAU;IAEV,oCAAoC;IACpC,qCAAqC;IACrC,OAAO;IACP,6DAA6D;IAC7D,KAAK;IAEL,MAAM,gBAAgB,IAAA,mUAAW,EAAC;QAChC,cAAc;QACd,aAAa;QACb,qBAAqB;IACvB,GAAG,EAAE;IAEL,+BAA+B;IAC/B,IAAA,iUAAS,EAAC;QACR,IAAI,YAAY;YACd,SAAS,gBAAgB,CAAC,WAAW;YACrC,SAAS,gBAAgB,CAAC,cAAc;QAC1C;QACA,OAAO;YACL,SAAS,mBAAmB,CAAC,WAAW;YACxC,SAAS,mBAAmB,CAAC,cAAc;QAC7C;IACF,GAAG;QAAC;QAAY;KAAc;IAE9B,gDAAgD;IAChD,IAAA,iUAAS,EAAC;QACR,IAAI,mBAAmB;YACrB,QAAQ,GAAG,CAAC,qBAAqB;YACjC,kBAAkB;QACpB;IACF,GAAG;QAAC;KAAY;IAEhB,QAAQ,GAAG,CAAC,mBAAmB;QAAE;QAAa;IAAY;IAE1D,qBACE,6VAAC;QAAI,WAAU;kBACb,cAAA,6VAAC;YAAI,KAAK;YAAS,WAAU;;gBAC1B,4BACC,6VAAC,kTAAe;oBAAC,MAAK;8BACnB,YAAY,IAAI,GAAG,kBAClB,6VAAC,0SAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;4BAAG,GAAG,CAAC;wBAAG;wBAC9B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,MAAM;4BAAE,SAAS;4BAAG,GAAG,CAAC;wBAAG;wBAC3B,WAAU;;0CAEV,6VAAC;gCACC,WAAU;gCACV,OAAM;gCACN,SAAS;oCACP,eAAe,IAAI;oCACnB,eAAe,OAAO,GAAG;gCAC3B;;kDAEA,6VAAC,qRAAC;wCAAC,WAAU;;;;;;oCACZ,YAAY,IAAI;oCAAC;oCAAE;;;;;;;4BAGrB,gCACC,6VAAC;gCAAI,WAAU;;kDACb,6VAAC,4IAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,SAAS;4CACP,MAAM,iBAAiB;4CACvB,MAAM,cAAc,CAAC;gDACnB,gBAAgB,MAAM;gDACtB,KAAK,QAAQ,EAAE,QAAQ;4CACzB;4CACA,eAAe,OAAO,CAAC;wCACzB;wCACA,WAAU;kDAET,eAAe,KAAK;;;;;;kDAEvB,6VAAC,4IAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,SAAS;4CACP,MAAM,iBAAiB;4CACvB,MAAM,cAAc,CAAC;gDACnB,gBAAgB,MAAM;gDACtB,KAAK,QAAQ,EAAE,QAAQ;4CACzB;4CACA,eAAe,OAAO,CAAC;wCACzB;wCACA,WAAU;kDAET,eAAe,OAAO;;;;;;;;;;;;;uBAhDzB;;;;6CAsDN,6VAAC,0SAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,MAAM;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC1B,WAAU;;0CAEV,6VAAC;gCAAI,WAAU;;kDACb,6VAAC,oSAAM;wCAAC,WAAU;;;;;;kDAClB,6VAAC,0IAAK;wCACJ,aAAa;wCACb,OAAO;wCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wCAC9C,WAAU;;;;;;;;;;;;4BAGb,+BACC,6VAAC;gCAAI,WAAU;;kDACb,6VAAC,4IAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;wCACV,SAAS;;0DAET,6VAAC,uTAAW;gDAAC,WAAU;;;;;;4CAAiB;;;;;;;kDAG1C,6VAAC,4IAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;wCACV,SAAS;;0DAET,6VAAC,0TAAY;gDAAC,WAAU;;;;;;4CAAiB;;;;;;;;;;;;;;uBAhC3C;;;;;;;;;;8BA0CZ,6VAAC;oBACC,KAAK;oBACL,WAAW,IAAA,yHAAE,EAAC,2CAA2C;8BAkBxD,aAAa,GAAG,CAAC,CAAC,qBACjB,6VAAC;4BAEC,MAAM;4BACN,aAAa;4BACb,gBAAgB;4BAChB,UAAU;4BACV,aAAa;4BACb,gBAAgB;4BAChB,SAAS;4BACT,UAAU;4BACV,gBAAgB;4BAChB,UAAU;4BACV,kBAAkB;4BAClB,SAAS;4BACT,SAAS;4BACT,WAAW;4BACX,kBAAkB;2BAfb,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;AAsB1B"}},
    {"offset": {"line": 5171, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/tree-view/index.ts"],"sourcesContent":["export { default } from \"./TreeView\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 5178, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/upload-avatar-dialog/UploadAvatarDialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from \"@/components/ui/dialog\";\r\nimport Image from \"@/components/ui/image\";\r\nimport { cn } from \"@/utils/ui\";\r\nimport { CameraIcon, ImagePlusIcon, SaveIcon, Trash2Icon } from \"lucide-react\";\r\nimport { FC, useCallback, useState } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\n\r\ninterface Props {\r\n  avatarUrl: string;\r\n  avatarAlt: string;\r\n  onAvatarChange?: (file: File) => void;\r\n  className?: string;\r\n}\r\n\r\nconst UploadAvatarDialog: FC<Props> = ({\r\n  avatarUrl,\r\n  avatarAlt,\r\n  onAvatarChange,\r\n  className,\r\n}) => {\r\n  // State để lưu file đã chọn và preview URL\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\r\n\r\n  // Hàm xử lý khi file được chọn\r\n  const onDrop = useCallback((acceptedFiles: File[]) => {\r\n    if (acceptedFiles && acceptedFiles.length > 0) {\r\n      const file = acceptedFiles[0];\r\n      setSelectedFile(file);\r\n\r\n      // Tạo preview URL\r\n      const objectUrl = URL.createObjectURL(file);\r\n      setPreviewUrl(objectUrl);\r\n    }\r\n  }, []);\r\n\r\n  // Hàm xóa file đã chọn\r\n  const handleRemoveFile = useCallback(() => {\r\n    if (previewUrl) {\r\n      URL.revokeObjectURL(previewUrl);\r\n    }\r\n    setSelectedFile(null);\r\n    setPreviewUrl(null);\r\n  }, [previewUrl]);\r\n\r\n  // Hook Dropzone\r\n  const { getRootProps, getInputProps, isDragActive, open } = useDropzone({\r\n    onDrop,\r\n    multiple: false,\r\n    accept: {\r\n      \"image/*\": [\".jpeg\", \".jpg\", \".png\", \".gif\", \".bmp\", \".webp\"],\r\n    },\r\n    maxSize: 50 * 1024 * 1024, // 50MB\r\n    noClick: true, // Vô hiệu hóa click trực tiếp để tự control\r\n  });\r\n\r\n  // Xử lý lưu avatar\r\n  const handleSaveAvatar = () => {\r\n    if (selectedFile && onAvatarChange) {\r\n      onAvatarChange(selectedFile);\r\n      // Reset sau khi lưu\r\n      handleRemoveFile();\r\n    }\r\n  };\r\n\r\n  // Cleanup preview URL khi component unmount\r\n  useState(() => {\r\n    return () => {\r\n      if (previewUrl) {\r\n        URL.revokeObjectURL(previewUrl);\r\n      }\r\n    };\r\n  });\r\n\r\n  // URL ảnh để hiển thị (preview nếu có, không thì dùng avatarUrl)\r\n  const displayAvatarUrl = previewUrl || avatarUrl;\r\n\r\n  return (\r\n    <Dialog>\r\n      <div className={cn(\"relative w-fit h-fit mx-auto\", className)}>\r\n        <Avatar className={cn(\"relative z-10\", \"size-48 border-3\")}>\r\n          <AvatarImage src={avatarUrl} alt={avatarAlt} className=\"size-48\" />\r\n          <AvatarFallback className=\"text-lg font-semibold bg-primary text-white\">\r\n            {avatarAlt\r\n              ?.split(\" \")\r\n              .map((n) => n[0])\r\n              .join(\"\")}\r\n          </AvatarFallback>\r\n        </Avatar>\r\n        <DialogTrigger\r\n          asChild\r\n          className=\"absolute -bottom-4 left-1/2 z-20 -translate-x-1/2\"\r\n        >\r\n          <Button\r\n            variant=\"outline\"\r\n            className=\"group size-10 rounded-full border-2\"\r\n          >\r\n            <CameraIcon className=\"group-hover:text-white size-6 text-gray-300\" />\r\n          </Button>\r\n        </DialogTrigger>\r\n      </div>\r\n\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle className=\"text-center text-lg font-semibold\">\r\n            Cập nhật ảnh đại diện\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n\r\n        {/* Avatar Container với Dropzone */}\r\n        <div className=\"mb-8 flex justify-center\">\r\n          <div\r\n            {...getRootProps()}\r\n            className={cn(\r\n              \"relative flex h-fit mx-auto w-fit items-center justify-center\",\r\n              \"rounded-full border-2 border-dashed cursor-pointer\",\r\n              isDragActive\r\n                ? \"border-primary bg-primary/10\"\r\n                : \"border-gray-300 hover:border-primary\",\r\n              \"transition-colors duration-200\",\r\n            )}\r\n          >\r\n            <input {...getInputProps()} />\r\n\r\n            <Avatar\r\n              className={cn(\r\n                \"overflow-hidden rounded-full border-4\",\r\n                \"size-64 border-3\",\r\n                isDragActive && \"opacity-80\",\r\n              )}\r\n            >\r\n              <AvatarImage\r\n                src={displayAvatarUrl}\r\n                alt=\"Avatar preview\"\r\n                className=\"size-64 bg-transparent object-cover  \"\r\n              />\r\n              <AvatarFallback className=\"relative overflow-hidden\">\r\n                <Image\r\n                  src={displayAvatarUrl}\r\n                  alt=\"Avatar preview\"\r\n                  className=\"h-full w-full bg-transparent object-cover\"\r\n                />\r\n              </AvatarFallback>\r\n            </Avatar>\r\n\r\n            {/* Overlay khi drag */}\r\n            {isDragActive && (\r\n              <div className=\"absolute inset-0 flex items-center justify-center rounded-full bg-black/50\">\r\n                <p className=\"text-white font-medium\">Thả ảnh vào đây</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Hiển thị khi có file được chọn */}\r\n            {selectedFile && (\r\n              <div className=\"absolute -bottom-4 left-1/2 -translate-x-1/2\">\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"destructive\"\r\n                  size=\"sm\"\r\n                  className=\"rounded-full size-12 p-0\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleRemoveFile();\r\n                  }}\r\n                >\r\n                  <Trash2Icon className=\"size-4\" />\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Hướng dẫn */}\r\n        <div className=\"mb-6 text-center text-sm text-gray-500\">\r\n          <p>Kéo thả ảnh vào khung hoặc nhấn nút bên dưới</p>\r\n          <p className=\"text-xs mt-1\">Hỗ trợ: JPG, PNG, GIF (tối đa 50MB)</p>\r\n        </div>\r\n\r\n        <DialogFooter className=\"flex w-full items-center !justify-between\">\r\n          <DialogClose asChild>\r\n            <Button variant=\"outline\" onClick={handleRemoveFile}>\r\n              Hủy\r\n            </Button>\r\n          </DialogClose>\r\n          <div className=\"space-x-2\">\r\n            <Button variant=\"outline\" onClick={open} type=\"button\">\r\n              <ImagePlusIcon className=\"size-4 mr-2\" />\r\n              Chọn ảnh\r\n            </Button>\r\n            <DialogClose asChild>\r\n              <Button\r\n                type=\"submit\"\r\n                onClick={handleSaveAvatar}\r\n                disabled={!selectedFile}\r\n              >\r\n                <SaveIcon className=\"size-4 mr-2\" />\r\n                Lưu\r\n              </Button>\r\n            </DialogClose>\r\n          </div>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default UploadAvatarDialog;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5561, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/upload-avatar-dialog/index.ts"],"sourcesContent":["export { default } from \"./UploadAvatarDialog\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 5568, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/tree-select/TreeSelect.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useMemo } from \"react\";\r\nimport { ChevronRight, Search, X } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from \"@/components/ui/popover\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n// Type definitions\r\nexport interface TreeNode {\r\n  id: string;\r\n  label: string;\r\n  children?: TreeNode[];\r\n  disabled?: boolean;\r\n}\r\n\r\ninterface TreeSelectProps {\r\n  multiple?: boolean;\r\n  nodes: TreeNode[];\r\n  value: string[];\r\n  onChange: (selected: string[]) => void;\r\n  placeholder?: string;\r\n  searchable?: boolean;\r\n  maxHeight?: string;\r\n  className?: string;\r\n}\r\n\r\ninterface ExpandedState {\r\n  [key: string]: boolean;\r\n}\r\n\r\ninterface FilteredTreeState {\r\n  nodes: TreeNode[];\r\n  expanded: ExpandedState;\r\n}\r\n\r\n// Recursive function to flatten tree for search\r\nconst flattenTree = (nodes: TreeNode[]): TreeNode[] => {\r\n  return nodes.reduce((acc: TreeNode[], node) => {\r\n    acc.push(node);\r\n    if (node.children) {\r\n      acc.push(...flattenTree(node.children));\r\n    }\r\n    return acc;\r\n  }, []);\r\n};\r\n\r\n// Filter tree based on search query\r\nconst filterTree = (nodes: TreeNode[], query: string): FilteredTreeState => {\r\n  const lowerQuery = query.toLowerCase();\r\n  const flatNodes = flattenTree(nodes);\r\n  const matchingIds = new Set<string>();\r\n  const parentIds = new Set<string>();\r\n\r\n  // Find all matching nodes and their parents\r\n  flatNodes.forEach((node) => {\r\n    if (node.label.toLowerCase().includes(lowerQuery)) {\r\n      matchingIds.add(node.id);\r\n      // Mark all ancestors\r\n      const findParents = (nodes: TreeNode[], targetId: string): string[] => {\r\n        for (const n of nodes) {\r\n          if (n.children) {\r\n            if (n.children.some((child) => child.id === targetId)) {\r\n              return [n.id, ...findParents(nodes, n.id)];\r\n            }\r\n            const parents = findParents(n.children, targetId);\r\n            if (parents.length > 0) {\r\n              return [n.id, ...parents];\r\n            }\r\n          }\r\n        }\r\n        return [];\r\n      };\r\n      findParents(nodes, node.id).forEach((id) => parentIds.add(id));\r\n    }\r\n  });\r\n\r\n  // Build expanded state for search results\r\n  const expanded: ExpandedState = {};\r\n  Array.from(parentIds).forEach((id) => {\r\n    expanded[id] = true;\r\n  });\r\n\r\n  // Filter tree recursively\r\n  const filterNodes = (nodes: TreeNode[]): TreeNode[] => {\r\n    return nodes\r\n      .filter((node) => matchingIds.has(node.id) || parentIds.has(node.id))\r\n      .map((node) => ({\r\n        ...node,\r\n        children: node.children ? filterNodes(node.children) : undefined,\r\n      }));\r\n  };\r\n\r\n  return {\r\n    nodes: query ? filterNodes(nodes) : nodes,\r\n    expanded,\r\n  };\r\n};\r\n\r\n// Tree node component\r\ninterface TreeNodeComponentProps {\r\n  multiple?: boolean;\r\n  node: TreeNode;\r\n  selected: Set<string>;\r\n  onToggle: (ids: string[]) => void;\r\n  onToggleExpand: (id: string) => void;\r\n  expanded: ExpandedState;\r\n  searchQuery: string;\r\n}\r\n\r\nconst TreeNodeComponent: React.FC<TreeNodeComponentProps> = ({\r\n  multiple = true,\r\n  node,\r\n  selected,\r\n  onToggle,\r\n  onToggleExpand,\r\n  expanded,\r\n  searchQuery,\r\n}) => {\r\n  const isExpanded = expanded[node.id] ?? false;\r\n  const isSelected = selected.has(node.id);\r\n  const hasChildren = node.children && node.children.length > 0;\r\n  const isDisabled = node.disabled ?? false;\r\n\r\n  const handleCheckboxChange = (checked: boolean) => {\r\n    if (!isDisabled) {\r\n      if (multiple) {\r\n        const childIds = node.children\r\n          ? node.children.map((child) => child.id)\r\n          : [];\r\n        const withChildrenIds = node.children\r\n          ? (node.children\r\n              .map((child) =>\r\n                child?.children?.map((grandchild) => grandchild.id),\r\n              )\r\n              .filter(Boolean)\r\n              .flat() as string[])\r\n          : [];\r\n\r\n        node.children && node.children.length > 0\r\n          ? onToggle([node.id, ...childIds, ...withChildrenIds])\r\n          : onToggle([node.id]);\r\n      } else {\r\n        onToggle([node.id]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleExpandClick = () => {\r\n    if (hasChildren) {\r\n      onToggleExpand(node.id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col\">\r\n      <div className=\"flex items-center gap-2 px-2 py-1.5 hover:bg-primary/10 rounded-md transition-colors\">\r\n        <button\r\n          onClick={handleExpandClick}\r\n          className={cn(\r\n            \"flex-shrink-0 p-0 h-5 w-5 flex items-center justify-center transition-transform\",\r\n            !hasChildren && \"invisible\",\r\n            hasChildren && isExpanded && \"rotate-90\",\r\n          )}\r\n          tabIndex={-1}\r\n        >\r\n          {hasChildren && (\r\n            <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\r\n          )}\r\n        </button>\r\n        <Checkbox\r\n          checked={isSelected}\r\n          onCheckedChange={handleCheckboxChange}\r\n          disabled={isDisabled}\r\n          className=\"cursor-pointer\"\r\n        />\r\n        <label\r\n          className={cn(\r\n            \"flex-1 text-sm cursor-pointer user-select-none\",\r\n            isSelected && \"font-semibold text-primary\",\r\n            isDisabled && \"opacity-50 cursor-not-allowed\",\r\n          )}\r\n          onClick={() => handleCheckboxChange(!isSelected)}\r\n        >\r\n          {node.label}\r\n        </label>\r\n      </div>\r\n\r\n      {/* Render children if expanded */}\r\n      {hasChildren && isExpanded && (\r\n        <div className=\"ml-4 flex flex-col gap-0\">\r\n          {node.children!.map((child) => (\r\n            <TreeNodeComponent\r\n              key={child.id}\r\n              node={child}\r\n              selected={selected}\r\n              onToggle={onToggle}\r\n              onToggleExpand={onToggleExpand}\r\n              expanded={expanded}\r\n              searchQuery={searchQuery}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Main Tree Select component\r\nconst TreeSelect: React.FC<TreeSelectProps> = ({\r\n  multiple = true,\r\n  nodes,\r\n  value,\r\n  onChange,\r\n  placeholder = \"Select items...\",\r\n  searchable = true,\r\n  maxHeight = \"400px\",\r\n  className,\r\n}) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [expanded, setExpanded] = useState<ExpandedState>({});\r\n\r\n  const selected = useMemo(() => new Set(value), [value]);\r\n\r\n  // Apply filtering if search query exists\r\n  const { nodes: filteredNodes, expanded: searchExpanded } = useMemo(() => {\r\n    return filterTree(nodes, searchQuery);\r\n  }, [nodes, searchQuery]);\r\n\r\n  // Use search-expanded state when searching, otherwise use user-controlled state\r\n  const displayExpanded = useMemo(\r\n    () => (searchQuery ? searchExpanded : expanded),\r\n    [searchQuery, expanded, searchExpanded],\r\n  );\r\n\r\n  const handleToggle = (ids: string[]) => {\r\n    if (multiple) {\r\n      const next = new Set(value);\r\n\r\n      ids.forEach((id) => {\r\n        if (next.has(id)) {\r\n          next.delete(id);\r\n        } else {\r\n          next.add(id);\r\n        }\r\n      });\r\n\r\n      onChange(Array.from(next));\r\n    } else {\r\n      const id = ids[0];\r\n      if (selected.has(id)) {\r\n        onChange([]);\r\n      } else {\r\n        onChange([id]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleToggleExpand = (id: string) => {\r\n    setExpanded((prev) => ({\r\n      ...prev,\r\n      [id]: !prev[id],\r\n    }));\r\n  };\r\n\r\n  const handleClear = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    onChange([]);\r\n    setSearchQuery(\"\");\r\n  };\r\n\r\n  const selectedLabel =\r\n    value.length === 0\r\n      ? placeholder\r\n      : value.length === 1\r\n        ? `1 danh mục đã chọn`\r\n        : `${value.length} danh mục đã chọn`;\r\n\r\n  return (\r\n    <Popover open={open} onOpenChange={setOpen}>\r\n      <PopoverTrigger asChild>\r\n        <Button\r\n          variant=\"outline\"\r\n          role=\"combobox\"\r\n          aria-expanded={open}\r\n          className={cn(\r\n            \"w-full justify-between bg-transparent hover:bg-gray-100 hover:text-primary border-foreground/20\",\r\n            className,\r\n          )}\r\n        >\r\n          <span className=\"truncate text-left\">{selectedLabel}</span>\r\n          <div className=\"flex items-center gap-1\">\r\n            {value.length > 0 && (\r\n              <X className=\"h-4 w-4 opacity-50 hover:opacity-100\" />\r\n            )}\r\n          </div>\r\n        </Button>\r\n      </PopoverTrigger>\r\n      <PopoverContent\r\n        className=\"w-[var(--radix-popover-trigger-width)] p-0\"\r\n        align=\"start\"\r\n      >\r\n        <div className=\"flex flex-col\">\r\n          {/* Search input */}\r\n          {searchable && (\r\n            <div className=\"border-b p-3\">\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\r\n                <Input\r\n                  placeholder=\"Tìm kiếm . . .\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  className=\"pl-9 h-9\"\r\n                  onClick={(e) => e.stopPropagation()}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Tree nodes */}\r\n          <ScrollArea style={{ maxHeight }} className=\"w-full overflow-y-auto\">\r\n            <div className=\"p-2 flex flex-col gap-1\">\r\n              {filteredNodes.length === 0 ? (\r\n                <div className=\"px-2 py-4 text-center text-sm text-muted-foreground\">\r\n                  No items found\r\n                </div>\r\n              ) : (\r\n                filteredNodes.map((node) => (\r\n                  <TreeNodeComponent\r\n                    multiple={multiple}\r\n                    key={node.id}\r\n                    node={node}\r\n                    selected={selected}\r\n                    onToggle={handleToggle}\r\n                    onToggleExpand={handleToggleExpand}\r\n                    expanded={displayExpanded}\r\n                    searchQuery={searchQuery}\r\n                  />\r\n                ))\r\n              )}\r\n            </div>\r\n          </ScrollArea>\r\n\r\n          {/* Footer with clear button */}\r\n          {value.length > 0 && (\r\n            <div className=\"border-t p-2 flex justify-end\">\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={handleClear}\r\n                className=\"text-xs\"\r\n              >\r\n                Xóa chọn\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </PopoverContent>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default TreeSelect;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5974, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/tree-select/index.ts"],"sourcesContent":["export { default } from \"./TreeSelect\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 5981, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/shared/index.ts"],"sourcesContent":["export { default as Uploader } from \"./uploader\";\r\nexport { default as DataTable } from \"./data-table\";\r\nexport { default as DynamicFilter } from \"./dynamic-filter\";\r\nexport { default as QueryBoundary } from \"./query-boundary\";\r\nexport { default as ConfirmDialog } from \"./confirm-dialog\";\r\nexport { default as DeleteDialog } from \"./delete-dialog\";\r\nexport { default as ReportDialog } from \"./report-dialog\";\r\nexport { default as TreeView } from \"./tree-view\";\r\nexport { default as UploadAvatarDialog } from \"./upload-avatar-dialog\";\r\nexport { default as TreeSelect } from \"./tree-select\";\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}}]
}