{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/content/content-table/lib/hooks.tsx"],"sourcesContent":["// Core\r\nimport { FileText } from \"lucide-react\";\r\nimport { useMemo } from \"react\";\r\nimport { ColumnDef } from \"@tanstack/react-table\";\r\n\r\n// App\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport { DataTableActionCell } from \"@/components/shared/data-table/shared\";\r\n\r\n// Internal\r\nimport { ContentTableRow, useContentTableColumnsDefsProps } from \"./types\";\r\n\r\nconst getStatusConfig = (status?: string) => {\r\n  switch (status?.toLowerCase()) {\r\n    case \"approved\":\r\n      return {\r\n        label: \"Đã duyệt\",\r\n        variant: \"default\" as const,\r\n        className:\r\n          \"bg-green-100 text-green-800 border-green-200 hover:bg-green-200 \",\r\n      };\r\n    case \"rejected\":\r\n      return {\r\n        label: \"Từ chối\",\r\n        variant: \"destructive\" as const,\r\n        className: \"bg-red-100 text-red-800 border-red-200 hover:bg-red-200 \",\r\n      };\r\n    case \"pending\":\r\n    default:\r\n      return {\r\n        label: \"Chờ duyệt\",\r\n        variant: \"secondary\" as const,\r\n        className:\r\n          \"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200 \",\r\n      };\r\n  }\r\n};\r\n\r\nconst getFileTypeConfig = (type?: string) => {\r\n  const fileType = type?.toLowerCase() || \"\";\r\n\r\n  if (fileType.includes(\"dwg\") || fileType.includes(\"autocad\")) {\r\n    return { label: \"DWG\", color: \"bg-blue-100 text-blue-800 border-blue-200\" };\r\n  }\r\n  if (fileType.includes(\"pdf\")) {\r\n    return { label: \"PDF\", color: \"bg-red-100 text-red-800 border-red-200\" };\r\n  }\r\n  if (\r\n    fileType.includes(\"image\") ||\r\n    fileType.includes(\"png\") ||\r\n    fileType.includes(\"jpg\")\r\n  ) {\r\n    return {\r\n      label: \"IMG\",\r\n      color: \"bg-purple-100 text-purple-800 border-purple-200\",\r\n    };\r\n  }\r\n  return {\r\n    label: type?.toUpperCase().substring(0, 4) || \"FILE\",\r\n    color: \"bg-gray-100 text-gray-800 border-gray-200\",\r\n  };\r\n};\r\n\r\nconst formatFileSize = (bytes?: number): string => {\r\n  if (!bytes) return \"0 B\";\r\n  const k = 1024;\r\n  const sizes = [\"B\", \"KB\", \"MB\", \"GB\"];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(1))} ${sizes[i]}`;\r\n};\r\n\r\nconst formatCurrency = (price?: number): string => {\r\n  if (!price) return \"0 ₫\";\r\n  return new Intl.NumberFormat(\"vi-VN\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n  }).format(price);\r\n};\r\n\r\nexport const useContentTableColumnsDefs = (\r\n  props: useContentTableColumnsDefsProps\r\n) => {\r\n  const { onEdit, onDelete, onApprove, onReject } = props;\r\n\r\n  return useMemo<ColumnDef<ContentTableRow>[]>(\r\n    () => [\r\n      {\r\n        accessorKey: \"title\",\r\n        header: \"Nội dung\",\r\n        cell: ({ row }) => {\r\n          const content = row.original;\r\n          const initials =\r\n            content.title\r\n              ?.split(\" \")\r\n              .slice(0, 2)\r\n              .map((word) => word[0])\r\n              .join(\"\")\r\n              .toUpperCase() || \"??\";\r\n\r\n          return (\r\n            <div className=\"flex items-start gap-3 min-w-[250px]\">\r\n              <div className=\"flex flex-col gap-1 flex-1 min-w-0\">\r\n                <div className=\"font-semibold text-gray-900 line-clamp-2 wrap-break-word\">\r\n                  {content.title || \"Không có tiêu đề\"}\r\n                </div>\r\n                {content.description && (\r\n                  <div className=\"text-xs text-gray-500 line-clamp-2 wrap-break-word\">\r\n                    {content.description}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        accessorKey: \"category\",\r\n        header: \"Danh mục\",\r\n        cell: ({ row }) => {\r\n          const category = row.original.category;\r\n\r\n          return (\r\n            <div className=\"flex flex-col gap-1 min-w-[120px]\">\r\n              <Badge variant=\"outline\" className=\"w-fit font-medium\">\r\n                {category?.name || \"Chưa phân loại\"}\r\n              </Badge>\r\n\r\n              {category?.slug && (\r\n                <div className=\"text-xs text-gray-400 font-mono\">\r\n                  /{category.slug}\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n\r\n      {\r\n        accessorKey: \"file\",\r\n        header: \"File\",\r\n        cell: ({ row }) => {\r\n          const file = row.original.file;\r\n          const fileConfig = getFileTypeConfig(file?.type);\r\n\r\n          return (\r\n            <div className=\"flex items-center gap-2 min-w-[150px]\">\r\n              <div className=\"flex items-center justify-center w-8 h-8 rounded bg-gray-100\">\r\n                <FileText className=\"w-4 h-4 text-gray-600\" />\r\n              </div>\r\n              <div className=\"flex flex-col gap-0.5 flex-1 min-w-0\">\r\n                <div className=\"text-sm font-medium text-gray-900 truncate\">\r\n                  {file?.name || \"Không rõ\"}\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Badge\r\n                    variant=\"outline\"\r\n                    className={`text-xs ${fileConfig.color}`}\r\n                  >\r\n                    {fileConfig.label}\r\n                  </Badge>\r\n                  <span className=\"text-xs text-gray-500\">\r\n                    {formatFileSize(file?.size)}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        accessorKey: \"price\",\r\n        header: \"Giá\",\r\n        cell: ({ row }) => {\r\n          const price = row.getValue(\"price\") as number | undefined;\r\n          return (\r\n            <div className=\"flex items-center gap-1.5 text-sm font-semibold text-gray-900 min-w-[100px]\">\r\n              {formatCurrency(price)}\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        accessorKey: \"status\",\r\n        header: \"Trạng thái\",\r\n        cell: ({ row }) => {\r\n          const status = row.getValue(\"status\") as string | undefined;\r\n          const config = getStatusConfig(status);\r\n          return (\r\n            <Badge variant={config.variant} className={config.className}>\r\n              {config.label}\r\n            </Badge>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        accessorKey: \"createdBy\",\r\n        header: \"Người tạo\",\r\n        cell: ({ row }) => {\r\n          const createdBy = row.original.createdBy;\r\n          const initials = createdBy?.fullname?.[0]?.toUpperCase() || \"?\";\r\n\r\n          return (\r\n            <div className=\"flex items-center gap-2 min-w-[140px]\">\r\n              <Avatar className=\"w-7 h-7\">\r\n                <AvatarFallback className=\"text-white text-xs\">\r\n                  {initials}\r\n                </AvatarFallback>\r\n              </Avatar>\r\n              <div className=\"flex flex-col gap-0.5 flex-1 min-w-0\">\r\n                <div className=\"text-sm font-medium text-gray-900 truncate\">\r\n                  {createdBy?.fullname || \"Không rõ\"}\r\n                </div>\r\n                {createdBy?.email && (\r\n                  <div className=\"text-xs text-gray-500 truncate\">\r\n                    {createdBy.email}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        accessorKey: \"createdAt\",\r\n        header: \"Ngày tạo\",\r\n        cell: ({ row }) => {\r\n          const createdAt = row.getValue(\"createdAt\") as string | undefined;\r\n          const updatedAt = row.original.updatedAt;\r\n\r\n          return (\r\n            <div className=\"flex flex-col gap-0.5 min-w-[110px]\">\r\n              <div className=\"text-sm text-gray-900\">\r\n                {createdAt\r\n                  ? new Date(createdAt).toLocaleDateString(\"vi-VN\", {\r\n                      year: \"numeric\",\r\n                      month: \"2-digit\",\r\n                      day: \"2-digit\",\r\n                    })\r\n                  : \"N/A\"}\r\n              </div>\r\n              <div className=\"text-xs text-gray-500\">\r\n                {createdAt\r\n                  ? new Date(createdAt).toLocaleTimeString(\"vi-VN\", {\r\n                      hour: \"2-digit\",\r\n                      minute: \"2-digit\",\r\n                    })\r\n                  : \"\"}\r\n              </div>\r\n              {updatedAt && createdAt !== updatedAt && (\r\n                <Badge\r\n                  variant=\"secondary\"\r\n                  className=\"w-fit text-[10px] px-1 py-0\"\r\n                >\r\n                  Đã cập nhật\r\n                </Badge>\r\n              )}\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        id: \"actions\",\r\n        header: () => <div className=\"min-w-[100px]\">Thao tác</div>,\r\n        cell: ({ row }) => {\r\n          const content = row.original;\r\n\r\n          return (\r\n            <DataTableActionCell\r\n              rowName={content.title || \"Nội dung\"}\r\n              onDelete={() => onDelete?.(content)}\r\n              onEdit={() => onEdit?.(content)}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [onEdit, onDelete, onApprove, onReject]\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/content/content-table/ContentTable.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// App\r\nimport DataTable from \"@/components/shared/data-table/DataTable\";\r\n\r\n// Internal\r\nimport { useContentTableColumnsDefs } from \"./lib/hooks\";\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n  useDeleteApiContentId,\r\n  useGetApiContent,\r\n} from \"@/api/endpoints/content\";\r\nimport { ContentResponse } from \"@/api/types/content\";\r\nimport { UseQueryResult } from \"@tanstack/react-query\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { BASE_PATHS } from \"@/constants/paths\";\r\nimport { toast } from \"sonner\";\r\nimport { DataTableDeleteDialog } from \"@/components/shared/data-table/shared\";\r\nimport { PaginationState, Updater } from \"@tanstack/react-table\";\r\n\r\ninterface Props {\r\n  queryData: UseQueryResult<{\r\n    data: ContentResponse[];\r\n    pagination: {\r\n      total: number;\r\n      totalPages: number;\r\n      currentPage: number;\r\n      itemsPerPage: number;\r\n    };\r\n  }>;\r\n  pagination?: PaginationState;\r\n  onPaginationChange?: (updater: Updater<PaginationState>) => void;\r\n  filter?: (content: ContentResponse) => boolean;\r\n}\r\n\r\nconst ContentTable = (props: Props) => {\r\n  // Props\r\n  const { filter, queryData, pagination, onPaginationChange } = props;\r\n\r\n  // States\r\n  const [deleteSelectRow, setDeleteSelectRow] =\r\n    useState<ContentResponse | null>(null);\r\n\r\n  // Reset to first page when pageSize changes\r\n  useEffect(() => {\r\n    onPaginationChange?.((prev) => ({\r\n      pageIndex: 0,\r\n      pageSize: prev.pageSize,\r\n    }));\r\n  }, [pagination?.pageSize]);\r\n  const router = useRouter();\r\n\r\n  const deleteContentMutation = useDeleteApiContentId({\r\n    mutation: {\r\n      onSuccess: () => {\r\n        toast.success(\"Xóa nội dung thành công\");\r\n        setDeleteSelectRow(null);\r\n        queryData.refetch();\r\n      },\r\n      onError: (error: any) => {\r\n        toast.error(\r\n          `Lỗi khi xóa nội dung: ${error?.message || \"Vui lòng thử lại\"}`,\r\n        );\r\n      },\r\n    },\r\n  });\r\n\r\n  const handlePaginationChange = (updater: Updater<PaginationState>) => {\r\n    onPaginationChange?.((prev) => {\r\n      const newPagination =\r\n        typeof updater === \"function\" ? updater(prev) : updater;\r\n      // Ensure pageIndex is valid (0 or greater)\r\n      const pageIndex = Math.max(0, newPagination.pageIndex);\r\n      // Ensure we don't go beyond the last page\r\n      const totalPages = queryData.data?.pagination?.totalPages || 1;\r\n      const safePageIndex = Math.min(pageIndex, totalPages - 1);\r\n\r\n      return {\r\n        ...newPagination,\r\n        pageIndex: safePageIndex,\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleEdit = (content: ContentResponse) => {\r\n    router.push(\r\n      `${BASE_PATHS.app.profile.collaborator.path}/content-edit/${content._id}`,\r\n    );\r\n  };\r\n\r\n  const handleDelete = (content: ContentResponse) => {\r\n    setDeleteSelectRow(content);\r\n  };\r\n\r\n  const handleConfirmDelete = async () => {\r\n    if (!deleteSelectRow) return;\r\n    await deleteContentMutation.mutateAsync({\r\n      id: deleteSelectRow._id,\r\n    });\r\n  };\r\n\r\n  const columns = useContentTableColumnsDefs({\r\n    onEdit: handleEdit,\r\n    onDelete: handleDelete,\r\n    onApprove: () => {},\r\n    onReject: () => {},\r\n    onView: () => {},\r\n  });\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <DataTable\r\n        columns={columns}\r\n        data={(queryData.data?.data || []).filter(filter || (() => true))}\r\n        rowCount={queryData.data?.pagination?.total || 0}\r\n        manualPagination\r\n        state={{ pagination }}\r\n        onPaginationChange={handlePaginationChange}\r\n      >\r\n        <DataTable.Content>\r\n          <DataTable.Header />\r\n          <DataTable.Body />\r\n        </DataTable.Content>\r\n\r\n        <DataTable.Pagination />\r\n\r\n        <DataTableDeleteDialog\r\n          currentRow={\r\n            deleteSelectRow\r\n              ? { ...deleteSelectRow, name: deleteSelectRow.title }\r\n              : null\r\n          }\r\n          onDelete={handleConfirmDelete}\r\n        />\r\n      </DataTable>\r\n\r\n      {queryData.isError && (\r\n        <div className=\"text-sm text-destructive\">\r\n          Có lỗi xảy ra khi tải dữ liệu\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContentTable;\r\n"],"names":[],"mappings":";;;;;AAEA,MAAM;AACN;AAEA,WAAW;AACX;AACA;AACA;AAMA;AACA;AACA;AACA;AAAA;;;AAjBA;;;;;;;;;AAmCA,MAAM,eAAe,CAAC;;IACpB,QAAQ;IACR,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,kBAAkB,EAAE,GAAG;IAE9D,SAAS;IACT,MAAM,CAAC,iBAAiB,mBAAmB,GACzC,IAAA,wRAAQ,EAAyB;IAEnC,4CAA4C;IAC5C,IAAA,yRAAS;kCAAC;YACR;0CAAqB,CAAC,OAAS,CAAC;wBAC9B,WAAW;wBACX,UAAU,KAAK,QAAQ;oBACzB,CAAC;;QACH;iCAAG;QAAC,YAAY;KAAS;IACzB,MAAM,SAAS,IAAA,iQAAS;IAExB,MAAM,wBAAwB,IAAA,8JAAqB,EAAC;QAClD,UAAU;YACR,SAAS;6EAAE;oBACT,oRAAK,CAAC,OAAO,CAAC;oBACd,mBAAmB;oBACnB,UAAU,OAAO;gBACnB;;YACA,OAAO;6EAAE,CAAC;oBACR,oRAAK,CAAC,KAAK,CACT,CAAC,sBAAsB,EAAE,OAAO,WAAW,oBAAoB;gBAEnE;;QACF;IACF;IAEA,MAAM,yBAAyB,CAAC;QAC9B,qBAAqB,CAAC;YACpB,MAAM,gBACJ,OAAO,YAAY,aAAa,QAAQ,QAAQ;YAClD,2CAA2C;YAC3C,MAAM,YAAY,KAAK,GAAG,CAAC,GAAG,cAAc,SAAS;YACrD,0CAA0C;YAC1C,MAAM,aAAa,UAAU,IAAI,EAAE,YAAY,cAAc;YAC7D,MAAM,gBAAgB,KAAK,GAAG,CAAC,WAAW,aAAa;YAEvD,OAAO;gBACL,GAAG,aAAa;gBAChB,WAAW;YACb;QACF;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,OAAO,IAAI,CACT,GAAG,0IAAU,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,EAAE,QAAQ,GAAG,EAAE;IAE7E;IAEA,MAAM,eAAe,CAAC;QACpB,mBAAmB;IACrB;IAEA,MAAM,sBAAsB;QAC1B,IAAI,CAAC,iBAAiB;QACtB,MAAM,sBAAsB,WAAW,CAAC;YACtC,IAAI,gBAAgB,GAAG;QACzB;IACF;IAEA,MAAM,UAAU,IAAA,6MAA0B,EAAC;QACzC,QAAQ;QACR,UAAU;QACV,SAAS;gEAAE,KAAO;;QAClB,QAAQ;gEAAE,KAAO;;QACjB,MAAM;gEAAE,KAAO;;IACjB;IAEA,qBACE,4SAAC;QAAI,WAAU;;0BACb,4SAAC,wKAAS;gBACR,SAAS;gBACT,MAAM,CAAC,UAAU,IAAI,EAAE,QAAQ,EAAE,EAAE,MAAM,CAAC,UAAU,CAAC,IAAM,IAAI;gBAC/D,UAAU,UAAU,IAAI,EAAE,YAAY,SAAS;gBAC/C,gBAAgB;gBAChB,OAAO;oBAAE;gBAAW;gBACpB,oBAAoB;;kCAEpB,4SAAC,wKAAS,CAAC,OAAO;;0CAChB,4SAAC,wKAAS,CAAC,MAAM;;;;;0CACjB,4SAAC,wKAAS,CAAC,IAAI;;;;;;;;;;;kCAGjB,4SAAC,wKAAS,CAAC,UAAU;;;;;kCAErB,4SAAC,qSAAqB;wBACpB,YACE,kBACI;4BAAE,GAAG,eAAe;4BAAE,MAAM,gBAAgB,KAAK;wBAAC,IAClD;wBAEN,UAAU;;;;;;;;;;;;YAIb,UAAU,OAAO,kBAChB,4SAAC;gBAAI,WAAU;0BAA2B;;;;;;;;;;;;AAMlD;GA5GM;;QAeW,iQAAS;QAEM,8JAAqB;QAiDnC,6MAA0B;;;KAlEtC;uCA8GS"}},
    {"offset": {"line": 636, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/content/content-table/index.ts"],"sourcesContent":["export { default } from \"./ContentTable\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 646, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/content/blueprint-card/BlueprintCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Card, CardContent, CardFooter } from \"@/components/ui/card\";\r\nimport {\r\n  DownloadCloudIcon,\r\n  ShoppingCartIcon,\r\n  User,\r\n  Loader2,\r\n} from \"lucide-react\";\r\nimport Image from \"@/components/ui/image\";\r\nimport { ContentProduct } from \"@/api/types/content\";\r\nimport { FC, useMemo, useState } from \"react\";\r\nimport { formatVND } from \"@/utils/currency\";\r\nimport { generateImageRandom } from \"@/utils/image\";\r\nimport { ContentStatus } from \"@/enums/content\";\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\";\r\nimport { useCart } from \"@/hooks/use-cart\";\r\nimport baseConfig from \"@/configs/base\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nconst containerVariants = {\r\n  hidden: { opacity: 0 },\r\n  visible: {\r\n    opacity: 1,\r\n    transition: {\r\n      staggerChildren: 0.2,\r\n      delayChildren: 0.1,\r\n    },\r\n  },\r\n};\r\n\r\nconst itemVariants = {\r\n  hidden: { opacity: 0, y: 0 },\r\n  visible: {\r\n    opacity: 1,\r\n    y: -20,\r\n    transition: {\r\n      opacity: { duration: 0.4 },\r\n      y: { duration: 0.3, delay: 0.2 }, // Delay slide lên sau fade\r\n    },\r\n  },\r\n};\r\n\r\ninterface Props {\r\n  product: ContentProduct;\r\n  className?: string;\r\n  onViewDetail?: (product: ContentProduct) => void;\r\n  onAddToCart?: (product: ContentProduct) => void;\r\n}\r\n\r\nconst BlueprintCard: FC<Props> = (props) => {\r\n  // Props\r\n  const { product, className, onViewDetail, onAddToCart } = props;\r\n\r\n  // Cart hook\r\n  const cart = useCart({ sync: false });\r\n  const isProductInCart = cart.isInCart(product._id);\r\n  const [isAddingToCart, setIsAddingToCart] = useState(false);\r\n\r\n  // Methods\r\n  const handleViewDetail = () => {\r\n    onViewDetail?.(product);\r\n  };\r\n\r\n  const handleAddToCart = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    if (isProductInCart || isAddingToCart) return;\r\n    setIsAddingToCart(true);\r\n    cart.addItem(product as any, 1);\r\n    onAddToCart?.(product);\r\n    setIsAddingToCart(false);\r\n  };\r\n\r\n  // Memos\r\n  const title = product.title || \"Untitled Product\";\r\n  const formattedPrice = formatVND(product.price || 0);\r\n  const username = product.createdBy?.email || \"Anonymous\";\r\n  const categoryName = product?.category?.name || \"General\";\r\n  const productImage = useMemo(() => {\r\n    if (product.images && product.images.length > 0) {\r\n      return `${baseConfig.mediaDomain}/${product.images[0]}`;\r\n    }\r\n    return undefined;\r\n  }, [product.images]);\r\n  const statusName =\r\n    product.status === ContentStatus.APPROVED\r\n      ? {\r\n          name: \"Đã duyệt\",\r\n          variant: \"success\",\r\n        }\r\n      : {\r\n          name: \"Chưa duyệt\",\r\n          variant: \"error\",\r\n        };\r\n\r\n  const index = 0;\r\n\r\n  return (\r\n    <motion.div\r\n      whileHover={{\r\n        y: -8,\r\n        scale: 1.05,\r\n        rotateY: 5,\r\n        rotateX: 2,\r\n        transition: {\r\n          type: \"spring\",\r\n          stiffness: 300,\r\n          damping: 15,\r\n        },\r\n      }}\r\n      // Hiệu ứng xuất hiện đặc biệt\r\n      initial={{\r\n        opacity: 0,\r\n        y: 60,\r\n        scale: 0.8,\r\n        rotateX: -15,\r\n        rotateY: 10,\r\n      }}\r\n      animate={{\r\n        opacity: 1,\r\n        y: 0,\r\n        scale: 1,\r\n        rotateX: 0,\r\n        rotateY: 0,\r\n        transition: {\r\n          opacity: { duration: 0.6, ease: [0.16, 1, 0.3, 1] },\r\n          y: {\r\n            type: \"spring\",\r\n            stiffness: 100,\r\n            damping: 15,\r\n            delay: index * 0.1 + 0.2, // Stagger theo index\r\n          },\r\n          scale: {\r\n            type: \"spring\",\r\n            stiffness: 200,\r\n            damping: 20,\r\n            delay: index * 0.1 + 0.1,\r\n          },\r\n          rotateX: {\r\n            duration: 0.8,\r\n            ease: \"backOut\",\r\n            delay: index * 0.1,\r\n          },\r\n          rotateY: {\r\n            duration: 0.8,\r\n            ease: \"backOut\",\r\n            delay: index * 0.1 + 0.05,\r\n          },\r\n        },\r\n      }}\r\n      // Hiệu ứng khi click\r\n      whileTap={{\r\n        scale: 0.98,\r\n        rotateY: -2,\r\n        transition: { duration: 0.1 },\r\n      }}\r\n      exit={{\r\n        opacity: 0,\r\n        scale: 0.9,\r\n        y: -20,\r\n        transition: { duration: 0.3 },\r\n      }}\r\n      onClick={handleViewDetail}\r\n      className={cn(\r\n        \"group cursor-pointer overflow-hidden border-none shadow-none bg-transparent\",\r\n        \"transform-gpu\", // Để tối ưu hiệu ứng 3D\r\n        className,\r\n      )}\r\n      style={{\r\n        transformStyle: \"preserve-3d\",\r\n        perspective: \"1000px\",\r\n      }}\r\n    >\r\n      <div className=\"relative aspect-[1/1] overflow-hidden bg-[#F5F5F3]\">\r\n        <motion.div\r\n          whileHover={{ scale: 1.05 }}\r\n          transition={{ duration: 0.6, ease: \"easeOut\" }}\r\n          className=\"h-full\"\r\n        >\r\n          <Image\r\n            src={productImage ?? generateImageRandom()}\r\n            alt={title}\r\n            wrapperClassName=\"h-full\"\r\n            className=\"object-cover h-full w-full\"\r\n          />\r\n        </motion.div>\r\n        <div className=\"absolute top-4 left-4 flex flex-wrap gap-2\">\r\n          <Badge\r\n            variant=\"outline\"\r\n            className=\"bg-white/90 backdrop-blur-sm border-none text-[10px] uppercase tracking-widest py-1 \"\r\n          >\r\n            {categoryName}\r\n          </Badge>\r\n        </div>\r\n\r\n        <div className=\"absolute top-4 right-4 flex flex-wrap gap-2\">\r\n          {product.purchaseCount && (\r\n            <Tooltip>\r\n              <TooltipTrigger asChild>\r\n                <Badge variant=\"destructive\" className=\"shadow-none!\">\r\n                  <ShoppingCartIcon className=\"inline-block size-4 mr-2\" />\r\n                  {product.purchaseCount}\r\n                </Badge>\r\n              </TooltipTrigger>\r\n              <TooltipContent className=\"bg-black/90 text-white text-xs\">\r\n                Lượt mua\r\n              </TooltipContent>\r\n            </Tooltip>\r\n          )}\r\n          {product.downloadCount && (\r\n            <Tooltip>\r\n              <TooltipTrigger asChild>\r\n                <Badge variant=\"destructive\" className=\"shadow-none!\">\r\n                  <DownloadCloudIcon className=\"inline-block size-4 mr-2\" />\r\n                  {product.downloadCount}\r\n                </Badge>\r\n              </TooltipTrigger>\r\n              <TooltipContent className=\"bg-black/90 text-white text-xs\">\r\n                Lượt tải\r\n              </TooltipContent>\r\n            </Tooltip>\r\n          )}\r\n        </div>\r\n        <motion.div\r\n          className=\"absolute inset-0 bg-black/0 group-hover:bg-black/5\"\r\n          initial={{ backgroundColor: \"rgba(0,0,0,0)\" }}\r\n          whileHover={{ backgroundColor: \"rgba(0,0,0,0.05)\" }}\r\n          transition={{ duration: 0.4 }}\r\n        />\r\n        <AnimatePresence>\r\n          {product.status && (\r\n            <motion.div\r\n              className=\"absolute bottom-4 left-4 right-4\"\r\n              initial={{ opacity: 0, y: 16 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: 16 }}\r\n              transition={{ duration: 0.4 }}\r\n            >\r\n              <Badge\r\n                variant={statusName.variant as \"success\" | \"error\"}\r\n                className={cn(\r\n                  \"text-[10px] font-bold uppercase tracking-[0.1em] border-none py-1 px-2.5\",\r\n                )}\r\n              >\r\n                {statusName.name}\r\n              </Badge>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n\r\n      <CardContent className=\"pt-6 px-0 pb-2\">\r\n        <div className=\"flex items-center gap-2 mb-3\">\r\n          <div className=\"flex items-center gap-1.5 text-[10px] font-bold text-muted-foreground uppercase tracking-[0.2em]\">\r\n            <User className=\"w-3 h-3\" strokeWidth={3} />\r\n            <span>{username}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <h3 className=\"text-xl font-medium text-foreground leading-tight line-clamp-1 mb-2 group-hover:underline underline-offset-4 decoration-1 transition-all\">\r\n          {title}\r\n        </h3>\r\n\r\n        <div className=\"text-[15px] font-bold text-foreground/80 tracking-tighter mt-4\">\r\n          {formattedPrice}\r\n        </div>\r\n      </CardContent>\r\n\r\n      <CardFooter className=\"px-0 pt-0 pb-4 flex items-center justify-between border-t border-border mt-auto pt-4\">\r\n        <Button\r\n          size=\"sm\"\r\n          variant=\"outline\"\r\n          disabled={isAddingToCart}\r\n          className={cn(\r\n            \"h-12 rounded-none w-full px-5 font-semibold text-[12px] uppercase tracking-wider border-primary/20 hover:bg-primary hover:text-primary-foreground hover:border-primary transition-all duration-300 bg-transparent\",\r\n            isProductInCart &&\r\n              \"bg-primary text-primary-foreground border-primary\",\r\n            isAddingToCart && \"cursor-not-allowed opacity-70\",\r\n          )}\r\n          onClick={handleAddToCart}\r\n        >\r\n          {isAddingToCart ? (\r\n            <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n          ) : (\r\n            <ShoppingCartIcon className=\"w-4 h-4 mr-2\" />\r\n          )}\r\n          {isProductInCart ? \"Đã có trong giỏ\" : \"Thêm vào giỏ hàng\"}\r\n        </Button>\r\n      </CardFooter>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default BlueprintCard;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1151, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/content/blueprint-card/BlueprintCardSkeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\nimport { Card, CardContent, CardFooter } from \"@/components/ui/card\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n  variant?: \"default\" | \"compact\";\r\n}\r\n\r\nconst BlueprintCardSkeleton: React.FC<Props> = ({\r\n  className,\r\n  variant = \"default\",\r\n}) => {\r\n  return (\r\n    <Card\r\n      className={cn(\r\n        \"group relative cursor-pointer overflow-hidden border-none shadow-none bg-transparent animate-pulse\",\r\n        className\r\n      )}\r\n    >\r\n      {/* Image skeleton with shimmer effect */}\r\n      <div className=\"relative aspect-[1/1] overflow-hidden bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200\">\r\n        <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/50 to-transparent -skew-x-12 animate-shimmer\" />\r\n      </div>\r\n\r\n      {variant === \"default\" ? (\r\n        <>\r\n          <CardContent className=\"pt-6 px-0 pb-2\">\r\n            {/* User info skeleton */}\r\n            <div className=\"flex items-center gap-2 mb-3\">\r\n              <div className=\"h-3 w-3 bg-gray-200 rounded-full\" />\r\n              <div className=\"h-3 w-20 bg-gray-200 rounded-full\" />\r\n            </div>\r\n\r\n            {/* Title skeleton */}\r\n            <div className=\"space-y-2 mb-2\">\r\n              <div className=\"h-6 bg-gray-200 rounded w-full\" />\r\n              <div className=\"h-6 bg-gray-200 rounded w-3/4\" />\r\n            </div>\r\n\r\n            {/* Price skeleton */}\r\n            <div className=\"mt-4\">\r\n              <div className=\"h-5 w-24 bg-gray-200 rounded\" />\r\n            </div>\r\n          </CardContent>\r\n\r\n          <CardFooter className=\"px-0 pt-0 pb-4 border-t border-gray-100 pt-4\">\r\n            {/* Button skeleton */}\r\n            <div className=\"h-12 w-full bg-gray-200 rounded\" />\r\n          </CardFooter>\r\n        </>\r\n      ) : (\r\n        // Compact variant for lists/grids\r\n        <>\r\n          <CardContent className=\"pt-4 px-0 pb-2\">\r\n            <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\" />\r\n            <div className=\"h-3 bg-gray-200 rounded w-1/2\" />\r\n          </CardContent>\r\n\r\n          <CardFooter className=\"px-0 pt-0 pb-2\">\r\n            <div className=\"h-8 w-full bg-gray-200 rounded\" />\r\n          </CardFooter>\r\n        </>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default BlueprintCardSkeleton;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,wBAAyC,CAAC,EAC9C,SAAS,EACT,UAAU,SAAS,EACpB;IACC,qBACE,4SAAC,2IAAI;QACH,WAAW,IAAA,4HAAE,EACX,sGACA;;0BAIF,4SAAC;gBAAI,WAAU;0BACb,cAAA,4SAAC;oBAAI,WAAU;;;;;;;;;;;YAGhB,YAAY,0BACX;;kCACE,4SAAC,kJAAW;wBAAC,WAAU;;0CAErB,4SAAC;gCAAI,WAAU;;kDACb,4SAAC;wCAAI,WAAU;;;;;;kDACf,4SAAC;wCAAI,WAAU;;;;;;;;;;;;0CAIjB,4SAAC;gCAAI,WAAU;;kDACb,4SAAC;wCAAI,WAAU;;;;;;kDACf,4SAAC;wCAAI,WAAU;;;;;;;;;;;;0CAIjB,4SAAC;gCAAI,WAAU;0CACb,cAAA,4SAAC;oCAAI,WAAU;;;;;;;;;;;;;;;;;kCAInB,4SAAC,iJAAU;wBAAC,WAAU;kCAEpB,cAAA,4SAAC;4BAAI,WAAU;;;;;;;;;;;;+BAInB,kCAAkC;0BAClC;;kCACE,4SAAC,kJAAW;wBAAC,WAAU;;0CACrB,4SAAC;gCAAI,WAAU;;;;;;0CACf,4SAAC;gCAAI,WAAU;;;;;;;;;;;;kCAGjB,4SAAC,iJAAU;wBAAC,WAAU;kCACpB,cAAA,4SAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;;;;AAM3B;KAzDM;uCA2DS"}},
    {"offset": {"line": 1325, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/content/blueprint-card/index.ts"],"sourcesContent":["export { default } from \"./BlueprintCard\";\r\nexport { default as BlueprintCardSkeleton } from \"./BlueprintCardSkeleton\";\r\n"],"names":[],"mappings":";AAAA;AACA"}},
    {"offset": {"line": 1337, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/copy-right/copy-right-editor-form/CopyRightEditorForm.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// Core\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\n\r\n// App\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormDescription,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"@/components/ui/form\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport {\r\n  Loader2,\r\n  AlertCircle,\r\n  Shield,\r\n  AlertTriangle,\r\n  User as UserIcon,\r\n  FileText,\r\n  Upload,\r\n  X,\r\n  Link2 as LinkIcon,\r\n  Plus,\r\n  ExternalLink,\r\n  Copy,\r\n  Info,\r\n  MailIcon,\r\n} from \"lucide-react\";\r\nimport { CopyrightReportViolationType } from \"@/api/models/copyrightReportViolationType\";\r\nimport { EnvelopeIcon } from \"@phosphor-icons/react\";\r\n\r\n// Schema validation\r\nconst copyrightReportFormSchema = z.object({\r\n  email: z.string().email(\"Email không hợp lệ\"),\r\n  violationType: z.nativeEnum(CopyrightReportViolationType, {\r\n    required_error: \"Vui lòng chọn loại vi phạm\",\r\n    invalid_type_error: \"Loại vi phạm không hợp lệ\",\r\n  }),\r\n  description: z\r\n    .string()\r\n    .min(20, \"Mô tả phải có ít nhất 20 ký tự\")\r\n    .max(2000, \"Mô tả không được vượt quá 2000 ký tự\"),\r\n  evidence: z\r\n    .array(z.string().url(\"URL bằng chứng không hợp lệ\"))\r\n    .min(1, \"Vui lòng cung cấp ít nhất 1 bằng chứng\")\r\n    .max(10, \"Không được vượt quá 10 bằng chứng\"),\r\n});\r\n\r\nexport type CopyrightReportFormValues = z.infer<\r\n  typeof copyrightReportFormSchema\r\n>;\r\n\r\ninterface CopyrightReportEditorFormProps {\r\n  mode?: \"create\" | \"view\";\r\n  defaultValues?: Partial<CopyrightReportFormValues>;\r\n  onSubmit: (values: CopyrightReportFormValues) => void | Promise<void>;\r\n  loading?: boolean;\r\n  error?: string | null;\r\n  onCancel?: () => void;\r\n}\r\n\r\nconst violationTypeOptions = [\r\n  {\r\n    value: CopyrightReportViolationType.copyright,\r\n    label: \"Bản quyền\",\r\n    description: \"Sao chép, sử dụng trái phép nội dung có bản quyền\",\r\n    icon: Shield,\r\n    gradient: \"from-red-50 to-red-100\",\r\n    iconColor: \"text-red-600\",\r\n  },\r\n  {\r\n    value: CopyrightReportViolationType.trademark,\r\n    label: \"Thương hiệu\",\r\n    description: \"Sử dụng trái phép nhãn hiệu, logo thương hiệu\",\r\n    icon: AlertTriangle,\r\n    gradient: \"from-orange-50 to-orange-100\",\r\n    iconColor: \"text-orange-600\",\r\n  },\r\n  {\r\n    value: CopyrightReportViolationType.privacy,\r\n    label: \"Quyền riêng tư\",\r\n    description: \"Tiết lộ thông tin cá nhân, dữ liệu nhạy cảm\",\r\n    icon: UserIcon,\r\n    gradient: \"from-purple-50 to-purple-100\",\r\n    iconColor: \"text-purple-600\",\r\n  },\r\n  {\r\n    value: CopyrightReportViolationType.other,\r\n    label: \"Khác\",\r\n    description: \"Các vi phạm khác không thuộc danh mục trên\",\r\n    icon: FileText,\r\n    gradient: \"from-gray-50 to-gray-100\",\r\n    iconColor: \"text-gray-600\",\r\n  },\r\n];\r\n\r\nconst CopyRightEditorForm = ({\r\n  mode = \"create\",\r\n  defaultValues,\r\n  onSubmit,\r\n  loading = false,\r\n  error = null,\r\n  onCancel,\r\n}: CopyrightReportEditorFormProps) => {\r\n  const [evidenceInput, setEvidenceInput] = useState(\"\");\r\n\r\n  // Initialize form\r\n  const form = useForm<CopyrightReportFormValues>({\r\n    resolver: zodResolver(copyrightReportFormSchema),\r\n    defaultValues: {\r\n      contentId: defaultValues?.contentId || \"\",\r\n      reportedContentId: defaultValues?.reportedContentId || \"\",\r\n      violationType:\r\n        defaultValues?.violationType || CopyrightReportViolationType.copyright,\r\n      description: defaultValues?.description || \"\",\r\n      evidence: defaultValues?.evidence || [],\r\n    },\r\n  });\r\n\r\n  // Watch values\r\n  const selectedViolationType = form.watch(\"violationType\");\r\n  const evidenceList = form.watch(\"evidence\");\r\n\r\n  // Reset form when mode changes\r\n  useEffect(() => {\r\n    if (defaultValues) {\r\n      form.reset({\r\n        violationType:\r\n          defaultValues.violationType || CopyrightReportViolationType.copyright,\r\n        description: defaultValues.description || \"\",\r\n        evidence: defaultValues.evidence || [],\r\n      });\r\n    }\r\n  }, [defaultValues, form, mode]);\r\n\r\n  // Get selected violation type config\r\n  const selectedViolationConfig = useMemo(\r\n    () =>\r\n      violationTypeOptions.find((opt) => opt.value === selectedViolationType) ||\r\n      violationTypeOptions[0],\r\n    [selectedViolationType],\r\n  );\r\n\r\n  // Add evidence URL\r\n  const handleAddEvidence = () => {\r\n    if (!evidenceInput.trim()) return;\r\n\r\n    try {\r\n      new URL(evidenceInput); // Validate URL\r\n      const currentEvidence = form.getValues(\"evidence\");\r\n      if (!currentEvidence.includes(evidenceInput)) {\r\n        form.setValue(\"evidence\", [...currentEvidence, evidenceInput], {\r\n          shouldValidate: true,\r\n        });\r\n        setEvidenceInput(\"\");\r\n      }\r\n    } catch {\r\n      form.setError(\"evidence\", {\r\n        type: \"manual\",\r\n        message: \"URL không hợp lệ\",\r\n      });\r\n    }\r\n  };\r\n\r\n  // Remove evidence URL\r\n  const handleRemoveEvidence = (index: number) => {\r\n    const currentEvidence = form.getValues(\"evidence\");\r\n    form.setValue(\r\n      \"evidence\",\r\n      currentEvidence.filter((_, i) => i !== index),\r\n      { shouldValidate: true },\r\n    );\r\n  };\r\n\r\n  const handleSubmit = async (values: CopyrightReportFormValues) => {\r\n    try {\r\n      await onSubmit(values);\r\n    } catch (error) {\r\n      console.error(\"Form submission error:\", error);\r\n    }\r\n  };\r\n\r\n  const isViewMode = mode === \"view\";\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <Card className=\"border-0 shadow-sm p-0\">\r\n        <CardHeader className=\"p-0\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div>\r\n              <CardTitle className=\"text-lg font-semibold text-destructive\">\r\n                {isViewMode\r\n                  ? \"Chi tiết báo cáo vi phạm\"\r\n                  : \"Báo cáo vi phạm bản quyền\"}\r\n              </CardTitle>\r\n              <p className=\"text-sm text-gray-600 mt-1\">\r\n                {isViewMode\r\n                  ? \"Thông tin chi tiết về báo cáo vi phạm\"\r\n                  : \"Điền thông tin để báo cáo nội dung vi phạm bản quyền\"}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"space-y-8 px-2\">\r\n          <Form {...form}>\r\n            <form\r\n              onSubmit={form.handleSubmit(handleSubmit)}\r\n              className=\"space-y-8\"\r\n            >\r\n              {/* Error Alert */}\r\n              {error && (\r\n                <Alert\r\n                  variant=\"destructive\"\r\n                  className=\"border-red-200 bg-red-50\"\r\n                >\r\n                  <AlertCircle className=\"h-4 w-4\" />\r\n                  <AlertDescription className=\"text-red-800\">\r\n                    {error}\r\n                  </AlertDescription>\r\n                </Alert>\r\n              )}\r\n\r\n              {/* Content Information Section */}\r\n              <div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-1 h-6 bg-red-500 \"></div>\r\n                  <h3 className=\"text-base font-medium text-gray-900\">\r\n                    Thông tin nội dung\r\n                  </h3>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  {/* Content ID */}\r\n                  {/* <FormField\r\n                    control={form.control}\r\n                    name=\"contentId\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel className=\"text-sm font-medium text-gray-700\">\r\n                          ID nội dung vi phạm\r\n                          <span className=\"text-red-500 ml-1\">*</span>\r\n                        </FormLabel>\r\n                        <FormControl>\r\n                          <div className=\"relative\">\r\n                            <FileText className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                              placeholder=\"Nhập ID nội dung (24 ký tự)\"\r\n                              className=\"pl-10 h-11 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 font-mono text-sm\"\r\n                              {...field}\r\n                              disabled={loading || isViewMode}\r\n                              maxLength={24}\r\n                            />\r\n                            {field.value && (\r\n                              <Button\r\n                                type=\"button\"\r\n                                variant=\"ghost\"\r\n                                size=\"sm\"\r\n                                className=\"absolute right-2 top-1/2 -translate-y-1/2 h-7 px-2\"\r\n                                onClick={() =>\r\n                                  navigator.clipboard.writeText(field.value)\r\n                                }\r\n                              >\r\n                                <Copy className=\"h-3 w-3\" />\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n                        </FormControl>\r\n                        <FormDescription className=\"text-xs text-gray-500\">\r\n                          ID của nội dung bị báo cáo vi phạm\r\n                        </FormDescription>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  /> */}\r\n\r\n                  {/* Reported Content ID (Optional) */}\r\n                  {/* <FormField\r\n                    control={form.control}\r\n                    name=\"reportedContentId\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel className=\"text-sm font-medium text-gray-700\">\r\n                          ID nội dung gốc\r\n                          <span className=\"text-gray-400 ml-1\">(Tùy chọn)</span>\r\n                        </FormLabel>\r\n                        <FormControl>\r\n                          <div className=\"relative\">\r\n                            <LinkIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                            <Input\r\n                              placeholder=\"Nhập ID nội dung gốc\"\r\n                              className=\"pl-10 h-11 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 font-mono text-sm\"\r\n                              {...field}\r\n                              disabled={loading || isViewMode}\r\n                              maxLength={24}\r\n                            />\r\n                            {field.value && (\r\n                              <Button\r\n                                type=\"button\"\r\n                                variant=\"ghost\"\r\n                                size=\"sm\"\r\n                                className=\"absolute right-2 top-1/2 -translate-y-1/2 h-7 px-2\"\r\n                                onClick={() =>\r\n                                  navigator.clipboard.writeText(field.value)\r\n                                }\r\n                              >\r\n                                <Copy className=\"h-3 w-3\" />\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n                        </FormControl>\r\n                        <FormDescription className=\"text-xs text-gray-500\">\r\n                          ID của nội dung gốc bị sao chép (nếu có)\r\n                        </FormDescription>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  /> */}\r\n                </div>\r\n\r\n                {/* Contact Email */}\r\n                <FormField\r\n                  control={form.control}\r\n                  name=\"email\"\r\n                  render={({ field }) => (\r\n                    <FormItem className=\"mt-2\">\r\n                      <FormLabel className=\"text-sm font-medium text-gray-700\">\r\n                        Email liên hệ\r\n                      </FormLabel>\r\n                      <FormControl>\r\n                        <div className=\"relative\">\r\n                          <MailIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                          <Input\r\n                            placeholder=\"Nhập email liên hệ\"\r\n                            className=\"pl-10 h-11 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 font-mono text-sm\"\r\n                            {...field}\r\n                            disabled={loading || isViewMode}\r\n                            maxLength={24}\r\n                          />\r\n                        </div>\r\n                      </FormControl>\r\n                      <FormMessage />\r\n                    </FormItem>\r\n                  )}\r\n                />\r\n              </div>\r\n\r\n              <Separator className=\"my-8\" />\r\n\r\n              {/* Violation Type Section */}\r\n              <div className=\"space-y-6\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-1 h-6 bg-red-500 \"></div>\r\n                  <h3 className=\"text-base font-medium text-gray-900\">\r\n                    Loại vi phạm\r\n                  </h3>\r\n                </div>\r\n\r\n                <FormField\r\n                  control={form.control}\r\n                  name=\"violationType\"\r\n                  render={({ field }) => (\r\n                    <FormItem>\r\n                      <FormLabel className=\"text-sm font-medium text-gray-700\">\r\n                        Chọn loại vi phạm\r\n                        <span className=\"text-red-500 ml-1\">*</span>\r\n                      </FormLabel>\r\n                      <Select\r\n                        onValueChange={field.onChange}\r\n                        defaultValue={field.value}\r\n                        disabled={loading || isViewMode}\r\n                      >\r\n                        <FormControl>\r\n                          <SelectTrigger className=\"h-14! border-gray-200 focus:border-red-500 focus:ring-red-500/20 w-full\">\r\n                            <SelectValue placeholder=\"Chọn loại vi phạm phù hợp\" />\r\n                          </SelectTrigger>\r\n                        </FormControl>\r\n                        <SelectContent className=\"p-2\">\r\n                          {violationTypeOptions.map((option) => {\r\n                            const Icon = option.icon;\r\n                            return (\r\n                              <SelectItem\r\n                                key={option.value}\r\n                                value={option.value}\r\n                                className=\"p-3 cursor-pointer hover:bg-gray-50 rounded-lg mb-1 last:mb-0\"\r\n                              >\r\n                                <div className=\"flex items-start gap-3\">\r\n                                  <div\r\n                                    className={`p-2 rounded-lg bg-gradient-to-r ${option.gradient} flex items-center justify-center mt-1`}\r\n                                  >\r\n                                    <Icon\r\n                                      className={`w-4 h-4 ${option.iconColor}`}\r\n                                    />\r\n                                  </div>\r\n                                  <div className=\"flex-1\">\r\n                                    <div className=\"font-medium text-sm text-gray-900 text-left\">\r\n                                      {option.label}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-gray-500 mt-0.5 leading-relaxed\">\r\n                                      {option.description}\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </SelectItem>\r\n                            );\r\n                          })}\r\n                        </SelectContent>\r\n                      </Select>\r\n\r\n                      {/* Selected Violation Type Preview */}\r\n                      {selectedViolationConfig && (\r\n                        <Card className=\"mt-4 border-gray-200 shadow-none\">\r\n                          <CardContent className=\"px-2\">\r\n                            <div className=\"flex items-start gap-3\">\r\n                              <div\r\n                                className={`p-2 rounded-lg bg-gradient-to-r ${selectedViolationConfig.gradient}`}\r\n                              >\r\n                                <selectedViolationConfig.icon\r\n                                  className={`w-5 h-5 ${selectedViolationConfig.iconColor}`}\r\n                                />\r\n                              </div>\r\n                              <div className=\"flex-1\">\r\n                                <div className=\"font-medium text-sm text-gray-900 mb-1\">\r\n                                  Vi phạm {selectedViolationConfig.label}\r\n                                </div>\r\n                                <div className=\"text-xs text-gray-600 leading-relaxed\">\r\n                                  {selectedViolationConfig.description}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </CardContent>\r\n                        </Card>\r\n                      )}\r\n\r\n                      <FormDescription className=\"text-xs text-gray-500 flex items-center gap-1\">\r\n                        <Info className=\"w-3 h-3\" />\r\n                        Chọn loại vi phạm phù hợp nhất với tình huống\r\n                      </FormDescription>\r\n                      <FormMessage />\r\n                    </FormItem>\r\n                  )}\r\n                />\r\n              </div>\r\n\r\n              <Separator className=\"my-8\" />\r\n\r\n              {/* Description Section */}\r\n              <div className=\"space-y-6\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-1 h-6 bg-red-500 \"></div>\r\n                  <h3 className=\"text-base font-medium text-gray-900\">\r\n                    Mô tả chi tiết\r\n                  </h3>\r\n                </div>\r\n\r\n                <FormField\r\n                  control={form.control}\r\n                  name=\"description\"\r\n                  render={({ field }) => (\r\n                    <FormItem>\r\n                      <FormLabel className=\"text-sm font-medium text-gray-700\">\r\n                        Mô tả về vi phạm\r\n                        <span className=\"text-red-500 ml-1\">*</span>\r\n                      </FormLabel>\r\n                      <FormControl>\r\n                        <div className=\"relative\">\r\n                          <Textarea\r\n                            placeholder=\"Mô tả chi tiết về vi phạm bao gồm:\r\n• Cách thức vi phạm cụ thể\r\n• Thời điểm phát hiện vi phạm  \r\n• Ảnh hưởng của vi phạm\r\n• Các chi tiết khác giúp làm rõ vấn đề\"\r\n                            className=\"min-h-[140px] resize-none border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 text-sm leading-relaxed\"\r\n                            {...field}\r\n                            disabled={loading || isViewMode}\r\n                          />\r\n                          <div className=\"absolute bottom-3 right-3 flex items-center gap-2\">\r\n                            <Badge\r\n                              variant={\r\n                                field.value.length < 20\r\n                                  ? \"destructive\"\r\n                                  : field.value.length > 2000\r\n                                    ? \"destructive\"\r\n                                    : field.value.length > 1500\r\n                                      ? \"secondary\"\r\n                                      : \"outline\"\r\n                              }\r\n                              className=\"text-xs\"\r\n                            >\r\n                              {field.value.length}/2000\r\n                            </Badge>\r\n                          </div>\r\n                        </div>\r\n                      </FormControl>\r\n                      <FormDescription className=\"text-xs text-gray-500 flex items-center gap-1\">\r\n                        <Info className=\"w-3 h-3\" />\r\n                        Mô tả càng chi tiết càng giúp quá trình xử lý diễn ra\r\n                        nhanh chóng và chính xác\r\n                      </FormDescription>\r\n                      <FormMessage />\r\n                    </FormItem>\r\n                  )}\r\n                />\r\n              </div>\r\n\r\n              <Separator className=\"my-8\" />\r\n\r\n              {/* Evidence Section */}\r\n              <div className=\"space-y-6\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-1 h-6 bg-red-500 \"></div>\r\n                  <h3 className=\"text-base font-medium text-gray-900\">\r\n                    Bằng chứng\r\n                  </h3>\r\n                </div>\r\n\r\n                <FormField\r\n                  control={form.control}\r\n                  name=\"evidence\"\r\n                  render={({ field }) => (\r\n                    <FormItem>\r\n                      <FormLabel className=\"text-sm font-medium text-gray-700\">\r\n                        URL bằng chứng\r\n                        <span className=\"text-red-500 ml-1\">*</span>\r\n                      </FormLabel>\r\n                      <FormControl>\r\n                        <div className=\"space-y-4\">\r\n                          {/* Add Evidence Input */}\r\n                          {!isViewMode && (\r\n                            <div className=\"flex gap-3\">\r\n                              <div className=\"relative flex-1\">\r\n                                <Upload className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                                <Input\r\n                                  placeholder=\"Nhập URL hình ảnh, video, tài liệu làm bằng chứng\"\r\n                                  className=\"pl-10 h-11 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20\"\r\n                                  value={evidenceInput}\r\n                                  onChange={(e) =>\r\n                                    setEvidenceInput(e.target.value)\r\n                                  }\r\n                                  onKeyDown={(e) => {\r\n                                    if (e.key === \"Enter\") {\r\n                                      e.preventDefault();\r\n                                      handleAddEvidence();\r\n                                    }\r\n                                  }}\r\n                                  disabled={loading}\r\n                                />\r\n                              </div>\r\n                              <Button\r\n                                type=\"button\"\r\n                                variant=\"outline\"\r\n                                className=\"h-11 px-4 border-gray-200 hover:bg-purple-50 hover:border-purple-300\"\r\n                                onClick={handleAddEvidence}\r\n                                disabled={loading || !evidenceInput.trim()}\r\n                              >\r\n                                <Plus className=\"w-4 h-4 mr-2\" />\r\n                                Thêm\r\n                              </Button>\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Evidence List */}\r\n                          {evidenceList.length > 0 ? (\r\n                            <div className=\"space-y-3\">\r\n                              {evidenceList.map((url, index) => (\r\n                                <Card\r\n                                  key={index}\r\n                                  className=\"border-gray-200 shadow-none hover:shadow-sm transition-shadow\"\r\n                                >\r\n                                  <CardContent className=\"p-4\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                      <div className=\"flex items-center justify-center w-10 h-10 rounded-xl bg-blue-50 shrink-0\">\r\n                                        <LinkIcon className=\"w-4 h-4 text-blue-600\" />\r\n                                      </div>\r\n                                      <div className=\"flex-1 min-w-0 space-y-2\">\r\n                                        <div className=\"flex items-center justify-between\">\r\n                                          <Badge\r\n                                            variant=\"secondary\"\r\n                                            className=\"text-xs px-2 py-1\"\r\n                                          >\r\n                                            Bằng chứng #{index + 1}\r\n                                          </Badge>\r\n                                          {!isViewMode && (\r\n                                            <Button\r\n                                              type=\"button\"\r\n                                              variant=\"ghost\"\r\n                                              size=\"sm\"\r\n                                              className=\"h-8 w-8 p-0 text-gray-400 hover:text-red-500 hover:bg-red-50\"\r\n                                              onClick={() =>\r\n                                                handleRemoveEvidence(index)\r\n                                              }\r\n                                              disabled={loading}\r\n                                            >\r\n                                              <X className=\"w-4 h-4\" />\r\n                                            </Button>\r\n                                          )}\r\n                                        </div>\r\n                                        <a\r\n                                          href={url}\r\n                                          target=\"_blank\"\r\n                                          rel=\"noopener noreferrer\"\r\n                                          className=\"text-sm text-blue-600 hover:text-blue-700 hover:underline truncate block transition-colors\"\r\n                                        >\r\n                                          {url}\r\n                                        </a>\r\n                                        <div className=\"flex items-center gap-3\">\r\n                                          <a\r\n                                            href={url}\r\n                                            target=\"_blank\"\r\n                                            rel=\"noopener noreferrer\"\r\n                                            className=\"inline-flex items-center gap-1 text-xs text-gray-500 hover:text-gray-700 transition-colors\"\r\n                                          >\r\n                                            <ExternalLink className=\"w-3 h-3\" />\r\n                                            Xem bằng chứng\r\n                                          </a>\r\n                                          <Button\r\n                                            type=\"button\"\r\n                                            variant=\"ghost\"\r\n                                            size=\"sm\"\r\n                                            className=\"h-6 px-2 text-xs text-gray-500 hover:text-gray-700\"\r\n                                            onClick={() =>\r\n                                              navigator.clipboard.writeText(url)\r\n                                            }\r\n                                          >\r\n                                            <Copy className=\"w-3 h-3 mr-1\" />\r\n                                            Sao chép\r\n                                          </Button>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </CardContent>\r\n                                </Card>\r\n                              ))}\r\n                            </div>\r\n                          ) : (\r\n                            <Card className=\"border-gray-200 border-dashed\">\r\n                              <CardContent className=\"p-8\">\r\n                                <div className=\"text-center\">\r\n                                  <div className=\"w-12 h-12 mx-auto mb-4 rounded-xl bg-gray-100 flex items-center justify-center\">\r\n                                    <Upload className=\"w-6 h-6 text-gray-400\" />\r\n                                  </div>\r\n                                  <p className=\"text-sm font-medium text-gray-900 mb-1\">\r\n                                    Chưa có bằng chứng\r\n                                  </p>\r\n                                  <p className=\"text-xs text-gray-500\">\r\n                                    Thêm URL hình ảnh, video hoặc tài liệu chứng\r\n                                    minh vi phạm\r\n                                  </p>\r\n                                </div>\r\n                              </CardContent>\r\n                            </Card>\r\n                          )}\r\n                        </div>\r\n                      </FormControl>\r\n                      <FormDescription className=\"text-xs text-gray-500 flex items-center justify-between\">\r\n                        <span className=\"flex items-center gap-1\">\r\n                          <Info className=\"w-3 h-3\" />\r\n                          Cần ít nhất 1 bằng chứng để hoàn tất báo cáo\r\n                        </span>\r\n                        <Badge\r\n                          variant={\r\n                            evidenceList.length === 0\r\n                              ? \"destructive\"\r\n                              : evidenceList.length > 10\r\n                                ? \"destructive\"\r\n                                : \"outline\"\r\n                          }\r\n                          className=\"text-xs\"\r\n                        >\r\n                          {evidenceList.length}/10\r\n                        </Badge>\r\n                      </FormDescription>\r\n                      <FormMessage />\r\n                    </FormItem>\r\n                  )}\r\n                />\r\n              </div>\r\n\r\n              {/* Actions */}\r\n              {!isViewMode && (\r\n                <div className=\"flex items-center justify-between pt-8 border-t border-gray-200\">\r\n                  <div className=\"flex items-center gap-2 text-xs text-gray-500 max-w-[50%]\">\r\n                    <Info className=\"w-3 h-3\" />\r\n                    <span>\r\n                      Tất cả thông tin sẽ được bảo mật và chỉ dùng để xử lý báo\r\n                      cáo\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-3\">\r\n                    {onCancel && (\r\n                      <Button\r\n                        type=\"button\"\r\n                        variant=\"ghost\"\r\n                        className=\"px-6\"\r\n                        onClick={onCancel}\r\n                        disabled={loading}\r\n                      >\r\n                        Hủy bỏ\r\n                      </Button>\r\n                    )}\r\n                    <Button\r\n                      type=\"submit\"\r\n                      variant=\"destructive\"\r\n                      className=\"px-8 h-11 font-medium\"\r\n                      disabled={loading}\r\n                    >\r\n                      {loading ? (\r\n                        <>\r\n                          <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                          Đang gửi báo cáo...\r\n                        </>\r\n                      ) : (\r\n                        <>Gửi báo cáo vi phạm</>\r\n                      )}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </form>\r\n          </Form>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CopyRightEditorForm;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2610, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/copy-right/copy-right-editor-form/index.ts"],"sourcesContent":["export { default } from \"./CopyRightEditorForm\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 2620, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/copy-right/copy-right-reject-dialog/CopyRightRejectDialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { XCircleIcon } from \"lucide-react\";\r\nimport { FC, useState } from \"react\";\r\nimport { CopyrightReportStatus } from \"@/api/models/copyrightReportStatus\";\r\nimport { usePutApiReportsReportIdStatus } from \"@/api/endpoints/copyright\";\r\nimport { toast } from \"sonner\";\r\n\r\ninterface Props {\r\n  reportId: string | null;\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nconst CopyRightRejectDialog: FC<Props> = (props) => {\r\n  // Props\r\n  const {\r\n    reportId,\r\n    open: isRejectDialogOpen,\r\n    onOpenChange: setIsRejectDialogOpen,\r\n  } = props;\r\n\r\n  // States\r\n  const [adminNotes, setAdminNotes] = useState(\"\");\r\n\r\n  // Mutations\r\n  const updateStatusMutation = usePutApiReportsReportIdStatus();\r\n\r\n  // Methods\r\n  const handleUpdateStatus = async (\r\n    status: CopyrightReportStatus,\r\n    notes?: string,\r\n  ) => {\r\n    try {\r\n      if (!reportId) {\r\n        toast.warning(\"Report ID không tồn tại.\");\r\n        return;\r\n      }\r\n\r\n      await updateStatusMutation.mutateAsync({\r\n        reportId,\r\n        data: {\r\n          status,\r\n          adminNotes: notes,\r\n        },\r\n      });\r\n\r\n      toast.success(\r\n        status === CopyrightReportStatus.resolved\r\n          ? \"Báo cáo đã được giải quyết thành công\"\r\n          : \"Báo cáo đã được từ chối\",\r\n      );\r\n\r\n      // Close dialogs\r\n      setIsRejectDialogOpen(false);\r\n\r\n      setAdminNotes(\"\");\r\n    } catch (error) {\r\n      console.error(\"Failed to update report status:\", error);\r\n      toast.error(\"Đã có lỗi xảy ra khi cập nhật trạng thái báo cáo\");\r\n    }\r\n  };\r\n\r\n  const handleReject = () => {\r\n    handleUpdateStatus(CopyrightReportStatus.rejected, adminNotes);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isRejectDialogOpen} onOpenChange={setIsRejectDialogOpen}>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <XCircleIcon className=\"w-5 h-5 text-red-600\" />\r\n            Từ chối báo cáo\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            Xác nhận từ chối báo cáo vi phạm này. Vui lòng cung cấp lý do từ\r\n            chối.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n        <div className=\"space-y-4 py-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"reject-notes\">\r\n              Lý do từ chối <span className=\"text-red-500\">*</span>\r\n            </Label>\r\n            <Textarea\r\n              id=\"reject-notes\"\r\n              placeholder=\"Nhập lý do từ chối báo cáo này...\"\r\n              value={adminNotes}\r\n              onChange={(e) => setAdminNotes(e.target.value)}\r\n              className=\"min-h-[100px]\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <DialogFooter>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => {\r\n              setIsRejectDialogOpen(false);\r\n              setAdminNotes(\"\");\r\n            }}\r\n          >\r\n            Hủy\r\n          </Button>\r\n          <Button\r\n            variant=\"destructive\"\r\n            onClick={handleReject}\r\n            disabled={updateStatusMutation.isPending || !adminNotes.trim()}\r\n            loading={updateStatusMutation.isPending}\r\n          >\r\n            <XCircleIcon className=\"w-4 h-4 mr-2\" />\r\n            Xác nhận từ chối\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default CopyRightRejectDialog;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAjBA;;;;;;;;;;AAyBA,MAAM,wBAAmC,CAAC;;IACxC,QAAQ;IACR,MAAM,EACJ,QAAQ,EACR,MAAM,kBAAkB,EACxB,cAAc,qBAAqB,EACpC,GAAG;IAEJ,SAAS;IACT,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wRAAQ,EAAC;IAE7C,YAAY;IACZ,MAAM,uBAAuB,IAAA,yKAA8B;IAE3D,UAAU;IACV,MAAM,qBAAqB,OACzB,QACA;QAEA,IAAI;YACF,IAAI,CAAC,UAAU;gBACb,oRAAK,CAAC,OAAO,CAAC;gBACd;YACF;YAEA,MAAM,qBAAqB,WAAW,CAAC;gBACrC;gBACA,MAAM;oBACJ;oBACA,YAAY;gBACd;YACF;YAEA,oRAAK,CAAC,OAAO,CACX,WAAW,yKAAqB,CAAC,QAAQ,GACrC,0CACA;YAGN,gBAAgB;YAChB,sBAAsB;YAEtB,cAAc;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mCAAmC;YACjD,oRAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,MAAM,eAAe;QACnB,mBAAmB,yKAAqB,CAAC,QAAQ,EAAE;IACrD;IAEA,qBACE,4SAAC,+IAAM;QAAC,MAAM;QAAoB,cAAc;kBAC9C,cAAA,4SAAC,sJAAa;;8BACZ,4SAAC,qJAAY;;sCACX,4SAAC,oJAAW;4BAAC,WAAU;;8CACrB,4SAAC,sTAAW;oCAAC,WAAU;;;;;;gCAAyB;;;;;;;sCAGlD,4SAAC,0JAAiB;sCAAC;;;;;;;;;;;;8BAKrB,4SAAC;oBAAI,WAAU;8BACb,cAAA,4SAAC;wBAAI,WAAU;;0CACb,4SAAC,6IAAK;gCAAC,SAAQ;;oCAAe;kDACd,4SAAC;wCAAK,WAAU;kDAAe;;;;;;;;;;;;0CAE/C,4SAAC,mJAAQ;gCACP,IAAG;gCACH,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gCAC7C,WAAU;;;;;;;;;;;;;;;;;8BAIhB,4SAAC,qJAAY;;sCACX,4SAAC,+IAAM;4BACL,SAAQ;4BACR,SAAS;gCACP,sBAAsB;gCACtB,cAAc;4BAChB;sCACD;;;;;;sCAGD,4SAAC,+IAAM;4BACL,SAAQ;4BACR,SAAS;4BACT,UAAU,qBAAqB,SAAS,IAAI,CAAC,WAAW,IAAI;4BAC5D,SAAS,qBAAqB,SAAS;;8CAEvC,4SAAC,sTAAW;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAOpD;GAvGM;;QAYyB,yKAA8B;;;KAZvD;uCAyGS"}},
    {"offset": {"line": 2830, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/copy-right/copy-right-reject-dialog/index.ts"],"sourcesContent":["export { default } from \"./CopyRightRejectDialog\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 2840, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/copy-right/copy-right-resolve-dialog/CopyRightResolveDialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { CheckCircle2Icon } from \"lucide-react\";\r\nimport { FC, useState } from \"react\";\r\nimport { CopyrightReportStatus } from \"@/api/models/copyrightReportStatus\";\r\nimport { usePutApiReportsReportIdStatus } from \"@/api/endpoints/copyright\";\r\nimport { toast } from \"sonner\";\r\n\r\ninterface Props {\r\n  reportId: string | null;\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nconst CopyRightResolveDialog: FC<Props> = (props) => {\r\n  // Props\r\n  const {\r\n    reportId,\r\n    open: isResolveDialogOpen,\r\n    onOpenChange: setIsResolveDialogOpen,\r\n  } = props;\r\n\r\n  // States\r\n  const [adminNotes, setAdminNotes] = useState(\"\");\r\n\r\n  // Mutations\r\n  const updateStatusMutation = usePutApiReportsReportIdStatus();\r\n\r\n  // Methods\r\n  const handleUpdateStatus = async (\r\n    status: CopyrightReportStatus,\r\n    notes?: string,\r\n  ) => {\r\n    if (!reportId) {\r\n      toast.warning(\"Report ID không tồn tại.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await updateStatusMutation.mutateAsync({\r\n        reportId,\r\n        data: {\r\n          status,\r\n          adminNotes: notes,\r\n        },\r\n      });\r\n\r\n      toast.success(\r\n        status === CopyrightReportStatus.resolved\r\n          ? \"Báo cáo đã được giải quyết thành công\"\r\n          : \"Báo cáo đã được từ chối\",\r\n      );\r\n\r\n      // Close dialogs\r\n      setIsResolveDialogOpen(false);\r\n\r\n      setAdminNotes(\"\");\r\n    } catch (error) {\r\n      console.error(\"Failed to update report status:\", error);\r\n      toast.error(\"Đã có lỗi xảy ra khi cập nhật trạng thái báo cáo\");\r\n    }\r\n  };\r\n\r\n  const handleResolve = () => {\r\n    handleUpdateStatus(CopyrightReportStatus.resolved, adminNotes);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isResolveDialogOpen} onOpenChange={setIsResolveDialogOpen}>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <CheckCircle2Icon className=\"w-5 h-5 text-green-600\" />\r\n            Giải quyết báo cáo\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            Xác nhận giải quyết báo cáo vi phạm này. Bạn có thể thêm ghi chú về\r\n            cách xử lý.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n        <div className=\"space-y-4 py-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"resolve-notes\">Ghi chú xử lý (tùy chọn)</Label>\r\n            <Textarea\r\n              id=\"resolve-notes\"\r\n              placeholder=\"Nhập ghi chú về cách giải quyết vi phạm...\"\r\n              value={adminNotes}\r\n              onChange={(e) => setAdminNotes(e.target.value)}\r\n              className=\"min-h-[100px]\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <DialogFooter>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => {\r\n              setIsResolveDialogOpen(false);\r\n              setAdminNotes(\"\");\r\n            }}\r\n          >\r\n            Hủy\r\n          </Button>\r\n          <Button\r\n            onClick={handleResolve}\r\n            disabled={updateStatusMutation.isPending}\r\n            loading={updateStatusMutation.isPending}\r\n          >\r\n            <CheckCircle2Icon className=\"w-4 h-4 mr-2\" />\r\n            Xác nhận giải quyết\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default CopyRightResolveDialog;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAjBA;;;;;;;;;;AAyBA,MAAM,yBAAoC,CAAC;;IACzC,QAAQ;IACR,MAAM,EACJ,QAAQ,EACR,MAAM,mBAAmB,EACzB,cAAc,sBAAsB,EACrC,GAAG;IAEJ,SAAS;IACT,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wRAAQ,EAAC;IAE7C,YAAY;IACZ,MAAM,uBAAuB,IAAA,yKAA8B;IAE3D,UAAU;IACV,MAAM,qBAAqB,OACzB,QACA;QAEA,IAAI,CAAC,UAAU;YACb,oRAAK,CAAC,OAAO,CAAC;YACd;QACF;QAEA,IAAI;YACF,MAAM,qBAAqB,WAAW,CAAC;gBACrC;gBACA,MAAM;oBACJ;oBACA,YAAY;gBACd;YACF;YAEA,oRAAK,CAAC,OAAO,CACX,WAAW,yKAAqB,CAAC,QAAQ,GACrC,0CACA;YAGN,gBAAgB;YAChB,uBAAuB;YAEvB,cAAc;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mCAAmC;YACjD,oRAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,MAAM,gBAAgB;QACpB,mBAAmB,yKAAqB,CAAC,QAAQ,EAAE;IACrD;IAEA,qBACE,4SAAC,+IAAM;QAAC,MAAM;QAAqB,cAAc;kBAC/C,cAAA,4SAAC,sJAAa;;8BACZ,4SAAC,qJAAY;;sCACX,4SAAC,oJAAW;4BAAC,WAAU;;8CACrB,4SAAC,oUAAgB;oCAAC,WAAU;;;;;;gCAA2B;;;;;;;sCAGzD,4SAAC,0JAAiB;sCAAC;;;;;;;;;;;;8BAKrB,4SAAC;oBAAI,WAAU;8BACb,cAAA,4SAAC;wBAAI,WAAU;;0CACb,4SAAC,6IAAK;gCAAC,SAAQ;0CAAgB;;;;;;0CAC/B,4SAAC,mJAAQ;gCACP,IAAG;gCACH,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gCAC7C,WAAU;;;;;;;;;;;;;;;;;8BAIhB,4SAAC,qJAAY;;sCACX,4SAAC,+IAAM;4BACL,SAAQ;4BACR,SAAS;gCACP,uBAAuB;gCACvB,cAAc;4BAChB;sCACD;;;;;;sCAGD,4SAAC,+IAAM;4BACL,SAAS;4BACT,UAAU,qBAAqB,SAAS;4BACxC,SAAS,qBAAqB,SAAS;;8CAEvC,4SAAC,oUAAgB;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAOzD;GApGM;;QAYyB,yKAA8B;;;KAZvD;uCAsGS"}},
    {"offset": {"line": 3039, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/copy-right/copy-right-resolve-dialog/index.ts"],"sourcesContent":["export { default } from \"./CopyRightResolveDialog\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 3049, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/copy-right/index.ts"],"sourcesContent":["export { default as CopyRightEditorForm } from \"./copy-right-editor-form\";\r\nexport { default as CopyRightRejectDialog } from \"./copy-right-reject-dialog\";\r\nexport { default as CopyRightResolveDialog } from \"./copy-right-resolve-dialog\";\r\n"],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 3072, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/content/content-editor-form/ContentEditorForm.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// Core\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\n\r\n// App\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormDescription,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"@/components/ui/form\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport {\r\n  useGetApiCategories,\r\n  useGetApiCategoriesAllTree,\r\n} from \"@/api/endpoints/categories\";\r\nimport {\r\n  Loader2,\r\n  DollarSign,\r\n  AlertCircle,\r\n  X,\r\n  Check,\r\n  FileText,\r\n} from \"lucide-react\";\r\nimport { ResponseData } from \"@/api/types/base\";\r\nimport { Category } from \"@/api/models\";\r\nimport { TreeSelect, Uploader } from \"@/components/shared\";\r\nimport { useUploadMedia } from \"@/hooks\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { TreeViewItem } from \"@/components/shared/tree-view/TreeView\";\r\nimport { TreeNode } from \"@/components/shared/tree-select/TreeSelect\";\r\nimport { isEmpty } from \"lodash-es\";\r\n\r\n// Schema validation\r\nconst contentFormSchemaStatic = z\r\n  .object({\r\n    title: z\r\n      .string()\r\n      .min(3, \"Tiêu đề phải có ít nhất 3 ký tự\")\r\n      .max(200, \"Tiêu đề không được vượt quá 200 ký tự\"),\r\n    description: z\r\n      .string()\r\n      .min(10, \"Mô tả phải có ít nhất 10 ký tự\")\r\n      .max(1000, \"Mô tả không được vượt quá 1000 ký tự\"),\r\n    category_id: z.string().min(1, \"Vui lòng chọn danh mục\"),\r\n    price: z\r\n      .number({\r\n        required_error: \"Vui lòng nhập giá\",\r\n        invalid_type_error: \"Giá phải là số\",\r\n      })\r\n      .min(0, \"Giá không được âm\")\r\n      .max(1000000000, \"Giá không được vượt quá 1 tỷ VNĐ\"),\r\n    images: z\r\n      .array(z.instanceof(File))\r\n      .min(1, \"Vui lòng chọn ít nhất 1 file\")\r\n      .max(5, \"Tối đa chỉ được chọn 5 file\")\r\n      .refine(\r\n        (files) => files.every((file) => file.size <= 50 * 1024 * 1024),\r\n        \"Kích thước file không được vượt quá 50MB\",\r\n      )\r\n      .optional(),\r\n    files: z\r\n      .array(z.instanceof(File))\r\n      .min(1, \"Vui lòng chọn ít nhất 1 file\")\r\n      .max(5, \"Tối đa chỉ được chọn 5 file\")\r\n      .refine(\r\n        (files) => files.every((file) => file.size <= 50 * 1024 * 1024),\r\n        \"Kích thước file không được vượt quá 50MB\",\r\n      )\r\n      .optional(),\r\n    content_file: z\r\n      .object({\r\n        _id: z.string(),\r\n        name: z.string(),\r\n        type: z.string(),\r\n        size: z.number(),\r\n      })\r\n      .optional(),\r\n  })\r\n  .refine(\r\n    (data) =>\r\n      (data.files && data.files.length > 0) || data.content_file !== undefined,\r\n    {\r\n      message: \"Vui lòng chọn file hoặc giữ file hiện tại\",\r\n      path: [\"files\"],\r\n    },\r\n  );\r\n\r\nexport type ContentFormValues = z.infer<typeof contentFormSchemaStatic>;\r\n\r\ninterface ContentEditorFormProps {\r\n  mode?: \"create\" | \"edit\";\r\n  defaultFile?: {\r\n    name: string;\r\n    size: number;\r\n    path: string;\r\n    type: string;\r\n    id: string;\r\n  };\r\n  defaultImages?: string[];\r\n  defaultValues?: Partial<ContentFormValues>;\r\n  onSubmit: (values: ContentFormValues) => void | Promise<void>;\r\n  isLoading?: boolean;\r\n  error?: string | null;\r\n  onCancel?: () => void;\r\n}\r\n\r\nconst ContentEditorForm = ({\r\n  mode = \"create\",\r\n  defaultValues,\r\n  defaultFile,\r\n  defaultImages = [],\r\n  onSubmit,\r\n  isLoading = false,\r\n  error = null,\r\n  onCancel,\r\n}: ContentEditorFormProps) => {\r\n  const contentFormSchema = useMemo(() => {\r\n    const baseSchema = z.object({\r\n      title: z\r\n        .string()\r\n        .min(3, \"Tiêu đề phải có ít nhất 3 ký tự\")\r\n        .max(200, \"Tiêu đề không được vượt quá 200 ký tự\"),\r\n      description: z\r\n        .string()\r\n        .min(10, \"Mô tả phải có ít nhất 10 ký tự\")\r\n        .max(1000, \"Mô tả không được vượt quá 1000 ký tự\"),\r\n      category_id: z.string().min(1, \"Vui lòng chọn danh mục\"),\r\n      price: z\r\n        .number({\r\n          required_error: \"Vui lòng nhập giá\",\r\n          invalid_type_error: \"Giá phải là số\",\r\n        })\r\n        .min(0, \"Giá không được âm\")\r\n        .max(1000000000, \"Giá không được vượt quá 1 tỷ VNĐ\"),\r\n      images: z\r\n        .array(z.instanceof(File))\r\n        .min(1, \"Vui lòng chọn ít nhất 1 file\")\r\n        .max(5, \"Tối đa chỉ được chọn 5 file\")\r\n        .refine(\r\n          (files) => files.every((file) => file.size <= 50 * 1024 * 1024),\r\n          \"Kích thước file không được vượt quá 50MB\",\r\n        )\r\n        .optional(),\r\n      content_file: z\r\n        .object({\r\n          _id: z.string(),\r\n          name: z.string(),\r\n          type: z.string(),\r\n          size: z.number(),\r\n        })\r\n        .optional(),\r\n    });\r\n\r\n    // Tạo schema cho files dựa trên mode và defaultFile\r\n    const filesSchema = defaultFile\r\n      ? z\r\n          .array(z.instanceof(File))\r\n          .max(5, \"Tối đa chỉ được chọn 5 file\")\r\n          .refine((files) => {\r\n            if (!files || files.length === 0) return true;\r\n            return files.every((file) => file.size <= 50 * 1024 * 1024);\r\n          }, \"Kích thước file không được vượt quá 50MB\")\r\n          .optional()\r\n      : z\r\n          .array(z.instanceof(File))\r\n          .min(1, \"Vui lòng chọn ít nhất 1 file\")\r\n          .max(5, \"Tối đa chỉ được chọn 5 file\")\r\n          .refine(\r\n            (files) => files.every((file) => file.size <= 50 * 1024 * 1024),\r\n            \"Kích thước file không được vượt quá 50MB\",\r\n          )\r\n          .optional();\r\n\r\n    return baseSchema.extend({ files: filesSchema }).refine(\r\n      (data) => {\r\n        const hasExistingFile = defaultFile || data.content_file;\r\n        const hasNewFiles = data.files && data.files.length > 0;\r\n        return hasExistingFile || hasNewFiles;\r\n      },\r\n      {\r\n        message: \"Vui lòng chọn file hoặc giữ file hiện tại\",\r\n        path: [\"files\"],\r\n      },\r\n    );\r\n  }, [defaultFile]);\r\n\r\n  // Upload media hook\r\n  const { uploadSingle, isUploading: isUploadingFile } = useUploadMedia();\r\n  const [uploadError, setUploadError] = useState<string | null>(null);\r\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n  const [formValues, setFormValues] = useState<ContentFormValues | null>(null);\r\n\r\n  // Initialize form\r\n  const form = useForm<ContentFormValues>({\r\n    resolver: zodResolver(contentFormSchema),\r\n    defaultValues: {\r\n      title: defaultValues?.title || \"\",\r\n      description: defaultValues?.description || \"\",\r\n      category_id: defaultValues?.category_id || \"\",\r\n      price: defaultValues?.price || 0,\r\n      files: defaultValues?.files || [],\r\n      content_file: defaultValues?.content_file,\r\n    },\r\n  });\r\n\r\n  // Reset form when mode changes\r\n  useEffect(() => {\r\n    if (defaultValues) {\r\n      form.reset({\r\n        title: defaultValues.title || \"\",\r\n        description: defaultValues.description || \"\",\r\n        category_id: defaultValues.category_id || \"\",\r\n        price: defaultValues.price || 0,\r\n        files: defaultValues.files || [],\r\n        content_file: defaultValues.content_file,\r\n      });\r\n    }\r\n  }, [defaultValues, form, mode]);\r\n\r\n  // Format currency\r\n  const formatCurrency = (value: number): string => {\r\n    return new Intl.NumberFormat(\"vi-VN\", {\r\n      style: \"currency\",\r\n      currency: \"VND\",\r\n    }).format(value);\r\n  };\r\n\r\n  const selectedCategory = form.getValues(\"category_id\");\r\n\r\n  const transformCategoryToTreeItem = (category: any): TreeViewItem => {\r\n    return {\r\n      id: category._id || category.id,\r\n      name: category.name,\r\n      type:\r\n        category.children && category.children.length > 0 ? \"folder\" : \"file\",\r\n      children: category.children?.map(transformCategoryToTreeItem),\r\n      checked: selectedCategory === (category._id || category.id),\r\n    };\r\n  };\r\n\r\n  // Queries\r\n  const getCategoryTreeQuery = useGetApiCategoriesAllTree();\r\n\r\n  const treeData = useMemo(() => {\r\n    if (!getCategoryTreeQuery.data) return [];\r\n\r\n    // API response structure: {status, results, pagination, data: {tree: [...]}}\r\n    const apiResponse = getCategoryTreeQuery.data as any;\r\n    const treeArray = apiResponse?.data?.tree;\r\n\r\n    if (!Array.isArray(treeArray)) return [];\r\n    return treeArray.map(transformCategoryToTreeItem);\r\n  }, [getCategoryTreeQuery.data]);\r\n\r\n  // Methods\r\n  const handleSubmit = async (values: ContentFormValues) => {\r\n    // Store form values and show confirmation dialog\r\n    setFormValues(values);\r\n    setShowConfirmDialog(true);\r\n  };\r\n\r\n  const handleConfirmSubmit = async () => {\r\n    if (formValues) {\r\n      await submitForm(formValues);\r\n      setShowConfirmDialog(false);\r\n    }\r\n  };\r\n\r\n  const submitForm = async (values: ContentFormValues) => {\r\n    try {\r\n      setUploadError(null);\r\n      \r\n      // Debug log\r\n      console.log(\"Submitting form with values:\", values);\r\n      console.log(\"Price value:\", values.price);\r\n\r\n      // If new file is selected, upload it first\r\n      if (values.files && values.files.length > 0) {\r\n        const file = values.files[0];\r\n\r\n        // Upload file with compression\r\n        const uploadedFile = await uploadSingle(file, {\r\n          compress: true,\r\n          requirePayment: values.price > 0,\r\n        });\r\n\r\n        if (!uploadedFile) {\r\n          setUploadError(\"Upload file thất bại. Vui lòng thử lại.\");\r\n          return;\r\n        }\r\n\r\n        // Update content_file with uploaded file info\r\n        values.content_file = {\r\n          _id: uploadedFile._id || \"\",\r\n          name: uploadedFile.name,\r\n          type: uploadedFile.type?.toString() || \"\",\r\n          size: uploadedFile.size || 0,\r\n        };\r\n      }\r\n\r\n      // Debug log before submit\r\n      console.log(\"Final values before onSubmit:\", values);\r\n\r\n      // Submit form with uploaded file info\r\n      await onSubmit(values);\r\n    } catch (error) {\r\n      console.error(\"Form submission error:\", error);\r\n      setUploadError(error instanceof Error ? error.message : \"Có lỗi xảy ra\");\r\n    }\r\n  };\r\n\r\n  const mapApiNodeToTreeNode = (node: any[]): TreeNode[] => {\r\n    return node.map((item: any) => ({\r\n      id: item.id,\r\n      label: item.name,\r\n      disabled: false,\r\n      children: item.children?.length\r\n        ? mapApiNodeToTreeNode(item.children)\r\n        : undefined,\r\n    })) as TreeNode[];\r\n  };\r\n\r\n  const mappedTreeData: TreeNode[] = mapApiNodeToTreeNode(\r\n    treeData as any,\r\n  ) as TreeNode[];\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-6\">\r\n        {/* Confirmation Dialog */}\r\n        <Dialog open={showConfirmDialog} onOpenChange={setShowConfirmDialog}>\r\n          <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\r\n            <DialogHeader>\r\n              <DialogTitle className=\"text-xl flex items-center gap-2\">\r\n                <FileText className=\"w-5 h-5 text-blue-600\" />\r\n                Điều Khoản Miễn Trừ Trách Nhiệm và Xác Nhận Đăng Bài\r\n              </DialogTitle>\r\n              <div className=\"text-left pt-4 space-y-4 text-muted-foreground text-sm\">\r\n                <div className=\"space-y-4 text-gray-700\">\r\n                  <div className=\"p-4 bg-amber-50 border border-amber-100 rounded-lg\">\r\n                    <h3 className=\"font-semibold text-amber-800 mb-2\">\r\n                      THÔNG BÁO QUAN TRỌNG\r\n                    </h3>\r\n                    <p className=\"text-sm\">\r\n                      Trước khi đăng tải nội dung, vui lòng đọc kỹ các điều\r\n                      khoản sau:\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"p-4 bg-gray-50 rounded-lg\">\r\n                  <h4 className=\"font-semibold mb-2\">\r\n                    1. Miễn Trừ Trách Nhiệm\r\n                  </h4>\r\n                  <ul className=\"list-disc pl-5 space-y-2 text-sm\">\r\n                    <li>\r\n                      Nền tảng không chịu trách nhiệm về nội dung do người dùng\r\n                      đăng tải.\r\n                    </li>\r\n                    <li>\r\n                      Bạn hoàn toàn chịu trách nhiệm về bản quyền và tính hợp\r\n                      pháp của nội dung.\r\n                    </li>\r\n                    <li>\r\n                      Chúng tôi có quyền gỡ bỏ bất kỳ nội dung nào vi phạm điều\r\n                      khoản dịch vụ.\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n\r\n                <div className=\"p-4 bg-gray-50 rounded-lg\">\r\n                  <h4 className=\"font-semibold mb-2\">2. Thông Tin Bài Đăng</h4>\r\n                  <div className=\"space-y-2 text-sm\">\r\n                    <p>\r\n                      <span className=\"font-medium\">Tiêu đề:</span>{\" \"}\r\n                      {formValues?.title || \"Chưa có tiêu đề\"}\r\n                    </p>\r\n                    {/* <p>\r\n                      <span className=\"font-medium\">Danh mục:</span>{\" \"}\r\n                      {categories.find((c) => c._id === formValues?.category_id)\r\n                        ?.name || \"Chưa chọn\"}\r\n                    </p> */}\r\n                    <p>\r\n                      <span className=\"font-medium\">Giá:</span>{\" \"}\r\n                      {formValues?.price\r\n                        ? new Intl.NumberFormat(\"vi-VN\", {\r\n                            style: \"currency\",\r\n                            currency: \"VND\",\r\n                          }).format(formValues.price)\r\n                        : \"Miễn phí\"}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"p-4 bg-red-50 border border-red-100 rounded-lg\">\r\n                  <h4 className=\"font-semibold text-red-700 mb-2\">\r\n                    3. Cam Kết Của Người Đăng\r\n                  </h4>\r\n                  <p className=\"text-sm text-red-700\">\r\n                    Bằng việc nhấn \"Xác nhận đăng bài\", bạn cam kết:\r\n                  </p>\r\n                  <ul className=\"list-disc pl-5 mt-2 space-y-1 text-sm text-red-700\">\r\n                    <li>\r\n                      Tôi là chủ sở hữu hoặc có đầy đủ quyền đối với nội dung\r\n                      đăng tải\r\n                    </li>\r\n                    <li>\r\n                      Nội dung không vi phạm bản quyền hoặc quyền sở hữu trí tuệ\r\n                    </li>\r\n                    <li>Tôi đã đọc và đồng ý với tất cả điều khoản sử dụng</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </DialogHeader>\r\n            <DialogFooter className=\"sm:justify-between pt-4 border-t\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => setShowConfirmDialog(false)}\r\n                className=\"min-w-[100px]\"\r\n              >\r\n                Hủy bỏ\r\n              </Button>\r\n              <Button\r\n                type=\"button\"\r\n                onClick={handleConfirmSubmit}\r\n                disabled={isLoading || isUploadingFile}\r\n                className=\"bg-blue-600 hover:bg-blue-700 min-w-[150px]\"\r\n              >\r\n                {isLoading || isUploadingFile ? (\r\n                  <>\r\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                    Đang xử lý...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Check className=\"w-4 h-4 mr-2\" />\r\n                    Xác nhận đăng bài\r\n                  </>\r\n                )}\r\n              </Button>\r\n            </DialogFooter>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        {/* Error Alert */}\r\n        {error && (\r\n          <Alert variant=\"destructive\">\r\n            <AlertCircle className=\"h-4 w-4\" />\r\n            <AlertDescription>{error}</AlertDescription>\r\n          </Alert>\r\n        )}\r\n\r\n        {/* Title */}\r\n        <FormField\r\n          control={form.control}\r\n          name=\"title\"\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className=\"text-primary font-semibold tracking-wider\">\r\n                Tiêu đề <span className=\"text-red-500\">*</span>\r\n              </FormLabel>\r\n              <FormControl>\r\n                <Input\r\n                  placeholder=\"Nhập tiêu đề bản vẽ...\"\r\n                  {...field}\r\n                  disabled={isLoading}\r\n                />\r\n              </FormControl>\r\n              <FormDescription>\r\n                Tiêu đề ngắn gọn, mô tả chính xác nội dung bản vẽ (3-200 ký tự)\r\n              </FormDescription>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Description */}\r\n        <FormField\r\n          control={form.control}\r\n          name=\"description\"\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className=\"text-primary font-semibold tracking-wider\">\r\n                Mô tả chi tiết <span className=\"text-red-500\">*</span>\r\n              </FormLabel>\r\n              <FormControl>\r\n                <Textarea\r\n                  placeholder=\"Mô tả chi tiết về bản vẽ, công năng, kích thước, yêu cầu kỹ thuật...\"\r\n                  className=\"min-h-[120px] resize-none\"\r\n                  {...field}\r\n                  disabled={isLoading}\r\n                />\r\n              </FormControl>\r\n              <FormDescription>\r\n                Mô tả chi tiết giúp người dùng hiểu rõ hơn về nội dung (10-1000\r\n                ký tự)\r\n              </FormDescription>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Category */}\r\n        <FormField\r\n          control={form.control}\r\n          name=\"category_id\"\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className=\"text-primary font-semibold tracking-wider\">\r\n                Danh mục <span className=\"text-red-500\">*</span>\r\n              </FormLabel>\r\n\r\n              <TreeSelect\r\n                multiple={false}\r\n                nodes={mappedTreeData}\r\n                value={isEmpty(field.value) ? [] : [field.value]}\r\n                onChange={(selected) => {\r\n                  field.onChange(selected[0] || \"\");\r\n                }}\r\n                placeholder=\"Chọn danh mục\"\r\n                searchable={true}\r\n                maxHeight=\"350px\"\r\n                className=\"max-w-[300px]\"\r\n              />\r\n\r\n              <FormDescription>\r\n                Chọn danh mục phù hợp để người dùng dễ dàng tìm kiếm\r\n              </FormDescription>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Price */}\r\n        <FormField\r\n          control={form.control}\r\n          name=\"price\"\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className=\"text-primary font-semibold tracking-wider\">\r\n                Giá bán <span className=\"text-red-500\">*</span>\r\n              </FormLabel>\r\n              <FormControl>\r\n                <div className=\"relative\">\r\n                  <DollarSign className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500\" />\r\n                  <Input\r\n                    type=\"number\"\r\n                    placeholder=\"0\"\r\n                    className=\"pl-10\"\r\n                    {...field}\r\n                    onChange={(e) =>\r\n                      field.onChange(Math.round(parseFloat(e.target.value) * 100) / 100 || 0)\r\n                    }\r\n                    disabled={isLoading}\r\n                  />\r\n                </div>\r\n              </FormControl>\r\n              <FormDescription>\r\n                {field.value > 0 && (\r\n                  <span className=\"text-green-600 font-semibold\">\r\n                    {formatCurrency(field.value)}\r\n                  </span>\r\n                )}\r\n                {field.value === 0 && (\r\n                  <span className=\"text-gray-500\">Nhập giá bán (VNĐ)</span>\r\n                )}\r\n              </FormDescription>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Image Upload */}\r\n        <FormField\r\n          control={form.control}\r\n          name=\"images\"\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className=\"text-primary font-semibold tracking-wider\">\r\n                Ảnh sản phẩm <span className=\"text-red-500\">*</span>\r\n              </FormLabel>\r\n              <FormControl>\r\n                <div className=\"space-y-3\">\r\n                  <Uploader\r\n                    multiple\r\n                    maxFiles={5}\r\n                    value={field.value || []}\r\n                    onChange={field.onChange}\r\n                    maxSize={50 * 1024 * 1024}\r\n                    accept={{ \"image/*\": [\".png\", \".jpg\", \".jpeg\", \".webp\"] }}\r\n                  >\r\n                    <Uploader.DropZone>\r\n                      <Uploader.Placeholder />\r\n                    </Uploader.DropZone>\r\n                    <Uploader.MediaList\r\n                      defaultValues={defaultImages?.map((image) => image)}\r\n                    />\r\n                  </Uploader>\r\n                </div>\r\n              </FormControl>\r\n              <FormDescription>\r\n                Chọn ảnh sản phẩm (PNG, JPG, JPEG, WEBP, tối đa 50MB)\r\n              </FormDescription>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* File Upload */}\r\n        <FormField\r\n          control={form.control}\r\n          name=\"files\"\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <FormLabel className=\"text-primary font-semibold tracking-wider\">\r\n                File bản vẽ <span className=\"text-red-500\">*</span>\r\n              </FormLabel>\r\n              <FormControl>\r\n                <div className=\"space-y-3\">\r\n                  <Uploader\r\n                    value={field.value || []}\r\n                    onChange={field.onChange}\r\n                    maxFiles={1}\r\n                    maxSize={50 * 1024 * 1024}\r\n                  >\r\n                    <Uploader.DropZone>\r\n                      <Uploader.Placeholder />\r\n                    </Uploader.DropZone>\r\n                    <Uploader.MediaList />\r\n                    <Uploader.Exists\r\n                      data={\r\n                        defaultValues?.content_file\r\n                          ? [\r\n                              {\r\n                                id: defaultValues.content_file._id,\r\n                                name: defaultValues.content_file.name,\r\n                                size: defaultValues.content_file.size,\r\n                                path: defaultValues.content_file._id,\r\n                                type: defaultValues.content_file.type,\r\n                              },\r\n                            ]\r\n                          : []\r\n                      }\r\n                    />\r\n                  </Uploader>\r\n                </div>\r\n              </FormControl>\r\n              <FormDescription>\r\n                Chọn file bản vẽ (PDF hoặc DWG, tối đa 50MB)\r\n              </FormDescription>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n\r\n        {/* Upload Error Alert */}\r\n        {uploadError && (\r\n          <Alert variant=\"destructive\">\r\n            <AlertCircle className=\"h-4 w-4\" />\r\n            <AlertDescription>{uploadError}</AlertDescription>\r\n          </Alert>\r\n        )}\r\n\r\n        {/* Form actions */}\r\n        <div className=\"flex items-center justify-end gap-4 pt-4 border-t\">\r\n          {onCancel && (\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={onCancel}\r\n              disabled={isLoading || isUploadingFile}\r\n            >\r\n              Hủy\r\n            </Button>\r\n          )}\r\n          <Button\r\n            type=\"submit\"\r\n            disabled={isLoading || isUploadingFile}\r\n            className=\"bg-blue-600 hover:bg-blue-700\"\r\n          >\r\n            {isLoading || isUploadingFile ? (\r\n              <>\r\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                Đang xử lý...\r\n              </>\r\n            ) : mode === \"create\" ? (\r\n              \"Đăng bài\"\r\n            ) : (\r\n              \"Cập nhật\"\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ContentEditorForm;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4230, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/content/content-editor-form/index.ts"],"sourcesContent":["export { default } from \"./ContentEditorForm\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 4240, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/content/content-payment-dialog/ContentPaymentDialog.tsx"],"sourcesContent":["import { Dialog, DialogContent, DialogHeader } from \"@/components/ui/dialog\";\r\nimport Image from \"@/components/ui/image\";\r\nimport { DialogTitle } from \"@radix-ui/react-dialog\";\r\nimport { Loader2Icon, QrCodeIcon } from \"lucide-react\";\r\nimport { FC } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\ninterface Props {\r\n  urlQRCode?: string;\r\n  loading?: boolean;\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nconst ContentPaymentDialog: FC<Props> = (props) => {\r\n  // Props\r\n  const { urlQRCode, loading, open, onOpenChange } = props;\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent\r\n        aria-describedby=\"content-payment-dialog\"\r\n        className=\"max-w-sm w-full border-border/40 bg-card z-50\"\r\n      >\r\n        <DialogHeader>\r\n          <DialogTitle className=\"text-lg text-center md:text-xl font-semibold\">\r\n            Thanh toán nhanh QR\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n        {loading ? (\r\n          <div className=\"w-full max-w-[360px] mx-auto min-h-[360px] h-64 bg-gray-100 rounded-lg flex items-center justify-center\">\r\n            <Loader2Icon className=\" absolute top-1/2 left-1/2 -translate-1/2 animate-spin size-12\" />\r\n            <QrCodeIcon className=\"w-64 h-64 text-gray-400\" />\r\n          </div>\r\n        ) : (\r\n          <Image\r\n            src={urlQRCode || \"\"}\r\n            alt=\"QR Code\"\r\n            className=\"mx-auto fade-in-100 min-h-[300px]\"\r\n          />\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ContentPaymentDialog;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAAA;;;;;;AAWA,MAAM,uBAAkC,CAAC;IACvC,QAAQ;IACR,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG;IAEnD,qBACE,4SAAC,+IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,4SAAC,sJAAa;YACZ,oBAAiB;YACjB,WAAU;;8BAEV,4SAAC,qJAAY;8BACX,cAAA,4SAAC,iSAAW;wBAAC,WAAU;kCAA+C;;;;;;;;;;;gBAIvE,wBACC,4SAAC;oBAAI,WAAU;;sCACb,4SAAC,2TAAW;4BAAC,WAAU;;;;;;sCACvB,4SAAC,mTAAU;4BAAC,WAAU;;;;;;;;;;;6EAGxB,4SAAC,+IAAK;oBACJ,KAAK,aAAa;oBAClB,KAAI;oBACJ,WAAU;;;;;;;;;;;;;;;;;AAMtB;KA9BM;uCAgCS"}},
    {"offset": {"line": 4333, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/content/content-payment-dialog/index.ts"],"sourcesContent":["export { default } from \"./ContentPaymentDialog\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 4343, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/modules/content/index.ts"],"sourcesContent":["export { default as ContentViewer } from \"./content-table\";\r\nexport {\r\n  default as BlueprintCard,\r\n  BlueprintCardSkeleton,\r\n} from \"./blueprint-card\";\r\nexport { default as ContentEditorForm } from \"./content-editor-form\";\r\nexport { default as ContentPaymentDialog } from \"./content-payment-dialog\";\r\n"],"names":[],"mappings":";AAAA;AACA;AAIA;AACA"}}]
}