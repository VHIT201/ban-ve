{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ComponentProps } from \"react\";\r\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Popover({ ...props }: ComponentProps<typeof PopoverPrimitive.Root>) {\r\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />;\r\n}\r\n\r\nfunction PopoverTrigger({\r\n  ...props\r\n}: ComponentProps<typeof PopoverPrimitive.Trigger>) {\r\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />;\r\n}\r\n\r\nfunction PopoverContent({\r\n  className,\r\n  align = \"center\",\r\n  sideOffset = 4,\r\n  ...props\r\n}: ComponentProps<typeof PopoverPrimitive.Content>) {\r\n  return (\r\n    <PopoverPrimitive.Portal>\r\n      <PopoverPrimitive.Content\r\n        data-slot=\"popover-content\"\r\n        align={align}\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-none border p-4 shadow-md outline-hidden\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    </PopoverPrimitive.Portal>\r\n  );\r\n}\r\n\r\nfunction PopoverAnchor({\r\n  ...props\r\n}: ComponentProps<typeof PopoverPrimitive.Anchor>) {\r\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />;\r\n}\r\n\r\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor };\r\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,QAAQ,EAAE,GAAG,OAAqD;IACzE,qBAAO,4SAAC,wRAAqB;QAAC,aAAU;QAAW,GAAG,KAAK;;;;;;AAC7D;KAFS;AAIT,SAAS,eAAe,EACtB,GAAG,OAC6C;IAChD,qBAAO,4SAAC,2RAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAJS;AAMT,SAAS,eAAe,EACtB,SAAS,EACT,QAAQ,QAAQ,EAChB,aAAa,CAAC,EACd,GAAG,OAC6C;IAChD,qBACE,4SAAC,0RAAuB;kBACtB,cAAA,4SAAC,2RAAwB;YACvB,aAAU;YACV,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,4HAAE,EACX,oeACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIjB;MApBS;AAsBT,SAAS,cAAc,EACrB,GAAG,OAC4C;IAC/C,qBAAO,4SAAC,0RAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ComponentProps } from \"react\";\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Avatar({\r\n  className,\r\n  ...props\r\n}: ComponentProps<typeof AvatarPrimitive.Root>) {\r\n  return (\r\n    <AvatarPrimitive.Root\r\n      data-slot=\"avatar\"\r\n      className={cn(\r\n        \"relative flex size-8 shrink-0 overflow-hidden rounded-full\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AvatarImage({\r\n  className,\r\n  ...props\r\n}: ComponentProps<typeof AvatarPrimitive.Image>) {\r\n  return (\r\n    <AvatarPrimitive.Image\r\n      data-slot=\"avatar-image\"\r\n      className={cn(\"aspect-square size-full\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AvatarFallback({\r\n  className,\r\n  ...props\r\n}: ComponentProps<typeof AvatarPrimitive.Fallback>) {\r\n  return (\r\n    <AvatarPrimitive.Fallback\r\n      data-slot=\"avatar-fallback\"\r\n      className={cn(\r\n        \"text-white bg-linear-to-br from-gray-500 to-gray-600 flex size-full items-center justify-center rounded-full\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback };\r\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OACyC;IAC5C,qBACE,4SAAC,0RAAoB;QACnB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OAC0C;IAC7C,qBACE,4SAAC,2RAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,4SAAC,8RAAwB;QACvB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,gHACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/constants/paths.ts"],"sourcesContent":["export const ROUTE_PATHS = {\r\n  auth: {\r\n    path: \"auth\",\r\n    login: { path: \"login\" },\r\n    register: { path: \"register\" },\r\n    forgot: { path: \"forgot\" },\r\n  },\r\n\r\n  app: {\r\n    path: \"/\",\r\n    profile: {\r\n      path: \"profile\",\r\n      personal: { path: \"personal\" },\r\n      collaborator: { path: \"collaborator\" },\r\n      history: { path: \"history\" },\r\n      order: {\r\n        path: \"order\",\r\n        list: { path: \"list\" },\r\n        detail: { path: \"detail/:id\" },\r\n      },\r\n    },\r\n    downloads: { path: \"downloads\" },\r\n    detail: { path: \"detail/:id\" },\r\n    collections: { path: \"collections\" },\r\n    payment: { path: \"payment\" },\r\n    setting: { path: \"setting\" },\r\n    search: { path: \"search\" },\r\n    terms: { path: \"terms\" },\r\n    privacy: { path: \"privacy\" },\r\n    contact: { path: \"contact\" },\r\n    cookiePolicy: { path: \"cookie-policy\" },\r\n  },\r\n\r\n  admin: {\r\n    path: \"admin\",\r\n    dashboard: { path: \"dashboard\" },\r\n    categories: { path: \"categories\", detail: { path: \":id\" } },\r\n    contents: {\r\n      path: \"contents\",\r\n      create: { path: \"create\" },\r\n      detail: { path: \"edit/:id\" },\r\n    },\r\n    resources: { path: \"resources\" },\r\n    copyRight: { path: \"copy-right\", detail: { path: \"detail/:id\" } },\r\n    collaborators: {\r\n      path: \"collaborators\",\r\n      detail: { path: \"detail/:id\" },\r\n      edit: { path: \"edit/:id\" },\r\n    },\r\n    payments: { path: \"payments\" },\r\n  },\r\n\r\n  collaborator: {\r\n    path: \"collaborator\",\r\n    upload: { path: \"upload\" },\r\n    documents: { path: \"documents\" },\r\n    salesStats: { path: \"sales-stats\" },\r\n    earnings: { path: \"earnings\" },\r\n    payments: { path: \"payments\" },\r\n    settings: { path: \"settings\" },\r\n  },\r\n};\r\n\r\nexport const BASE_PATHS = {\r\n  auth: {\r\n    path: \"/auth\",\r\n    login: { path: \"/auth/login\" },\r\n    register: { path: \"/auth/register\" },\r\n    forgot: { path: \"/auth/forgot\" },\r\n  },\r\n  app: {\r\n    path: \"/\",\r\n    profile: {\r\n      path: \"/profile\",\r\n      personal: { path: \"/profile/personal\" },\r\n      collaborator: { path: \"/profile/collaborator\" },\r\n      history: { path: \"/profile/history\" },\r\n      order: {\r\n        path: \"/profile/order\",\r\n        list: { path: \"/profile/order/list\" },\r\n        detail: { path: \"/profile/order/detail/:id\" },\r\n      },\r\n    },\r\n    detail: { path: \"/detail/:id\" },\r\n    collections: { path: \"/collections\" },\r\n    search: { path: \"/search\" },\r\n    setting: { path: \"/setting\" },\r\n    payment: { path: \"/payment\" },\r\n  },\r\n  home: { path: \"/\" },\r\n  checkout: { path: \"/checkout\" },\r\n  upload: { path: \"/upload\" },\r\n  admin: {\r\n    path: \"/admin\",\r\n    dashboard: { path: \"/admin\" },\r\n    categories: { path: \"/admin/categories\" },\r\n    contents: {\r\n      path: \"/admin/contents\",\r\n      create: { path: \"/admin/contents/create\" },\r\n      detail: { path: \"/admin/contents/:id\" },\r\n    },\r\n    resources: { path: \"/admin/resources\" },\r\n    copyRight: { path: \"/admin/copy-right\" },\r\n    collaborators: {\r\n      path: \"/admin/collaborators\",\r\n      detail: { path: \"/admin/collaborators/detail/:id\" },\r\n      edit: { path: \"/admin/collaborators/edit/:id\" },\r\n    },\r\n    payments: { path: \"/admin/payments\" },\r\n  },\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/enums/roles.ts"],"sourcesContent":["export enum UserRole {\r\n  ADMIN = \"admin\",\r\n  USER = \"user\",\r\n  COLLABORATOR = \"collaborator\",\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,IAAA,AAAK,kCAAA;;;;WAAA"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/app/%28public%29/components/header/components/header-user-profile/lib/constant.ts"],"sourcesContent":["import { BASE_PATHS } from \"@/constants/paths\";\r\nimport { UserRole } from \"@/enums/roles\";\r\nimport { UserCogIcon, UserIcon } from \"lucide-react\";\r\n\r\nexport const HEADER_USER_PROFILE_MENU = [\r\n  {\r\n    icon: UserIcon,\r\n    roles: [UserRole.USER, UserRole.ADMIN, UserRole.COLLABORATOR],\r\n    label: \"Trang cá nhân\",\r\n    path: BASE_PATHS.app.profile.personal.path,\r\n  },\r\n  {\r\n    icon: UserCogIcon,\r\n    roles: [UserRole.ADMIN],\r\n    label: \"Quản lý hệ thống\",\r\n    path: BASE_PATHS.admin.path,\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;;;;AAEO,MAAM,2BAA2B;IACtC;QACE,MAAM,ySAAQ;QACd,OAAO;YAAC,oIAAQ,CAAC,IAAI;YAAE,oIAAQ,CAAC,KAAK;YAAE,oIAAQ,CAAC,YAAY;SAAC;QAC7D,OAAO;QACP,MAAM,0IAAU,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI;IAC5C;IACA;QACE,MAAM,sTAAW;QACjB,OAAO;YAAC,oIAAQ,CAAC,KAAK;SAAC;QACvB,OAAO;QACP,MAAM,0IAAU,CAAC,KAAK,CAAC,IAAI;IAC7B;CACD"}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/app/%28public%29/components/header/components/header-user-profile/HeaderUserProfile.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from \"@/components/ui/popover\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport { LogOut } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useAuthStore, useProfileStore } from \"@/stores\";\r\nimport { useShallow } from \"zustand/shallow\";\r\nimport { HEADER_USER_PROFILE_MENU } from \"./lib/constant\";\r\nimport { UserRole } from \"@/enums/roles\";\r\nimport { BASE_PATHS } from \"@/constants/paths\";\r\nimport baseConfig from \"@/configs/base\";\r\n\r\n// Types\r\ninterface UserData {\r\n  name: string;\r\n  email: string;\r\n  avatar: string;\r\n  role?: string;\r\n}\r\n\r\ninterface MenuItemProps {\r\n  icon: React.ReactNode;\r\n  label: string;\r\n  onClick?: () => void;\r\n  variant?: \"default\" | \"destructive\";\r\n  asChild?: boolean;\r\n  children?: React.ReactNode;\r\n  to?: string;\r\n}\r\n\r\nconst MenuItem = ({\r\n  icon,\r\n  label,\r\n  onClick,\r\n  variant = \"default\",\r\n  asChild,\r\n  children,\r\n  to,\r\n}: MenuItemProps) => {\r\n  const pathname = usePathname();\r\n  const isActive = to ? pathname === to : false;\r\n\r\n  const buttonClass = cn(\r\n    \"w-full justify-start gap-3 flex px-3 py-2.5 hover:text-white h-auto text-sm font-medium rounded-none! transition-all duration-200\",\r\n    variant === \"destructive\"\r\n      ? \"text-destructive hover:text-destructive hover:bg-destructive/10 focus:bg-destructive/10\"\r\n      : \"text-foreground hover:bg-primary focus:bg-primary focus:text-white\",\r\n  );\r\n\r\n  if (to) {\r\n    return (\r\n      <Link\r\n        href={to}\r\n        className={cn(\r\n          buttonClass,\r\n          isActive && variant !== \"destructive\" ? \"bg-primary text-white\" : \"\",\r\n        )}\r\n        onClick={onClick}\r\n      >\r\n        {icon}\r\n        <span>{label}</span>\r\n      </Link>\r\n    );\r\n  }\r\n\r\n  if (asChild && children) {\r\n    return (\r\n      <Button variant=\"ghost\" className={buttonClass} asChild onClick={onClick}>\r\n        {children}\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Button variant=\"ghost\" className={buttonClass} onClick={onClick}>\r\n      {icon}\r\n      <span>{label}</span>\r\n    </Button>\r\n  );\r\n};\r\n\r\nconst MenuDivider = () => <div className=\"h-px bg-border/60 mx-2 my-1\" />;\r\n\r\nconst HeaderUserProfile = () => {\r\n  const authStore = useAuthStore(\r\n    useShallow(({ resetStore }) => ({\r\n      resetStore,\r\n    })),\r\n  );\r\n\r\n  const { role, email, username, avatar, resetStore } = useProfileStore(\r\n    useShallow((state) => ({\r\n      role: state.role,\r\n      email: state.email,\r\n      username: state.username,\r\n      avatar: state.avatar || \"\",\r\n      resetStore: state.resetStore,\r\n    })),\r\n  );\r\n\r\n  const userData: UserData = {\r\n    name: username || \"User\",\r\n    email: email || \"\",\r\n    avatar: avatar || \"\",\r\n    role: role || \"\",\r\n  };\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleItemClick = (callback?: () => void) => {\r\n    setIsOpen(false);\r\n    callback?.();\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    resetStore();\r\n    authStore.resetStore();\r\n    window.location.href = BASE_PATHS.auth.login.path;\r\n  };\r\n\r\n  const handleGetUsername = (name: string) => {\r\n    return name\r\n      .split(\" \")\r\n      .map((part) => part[0])\r\n      .join(\"\")\r\n      .toUpperCase()\r\n      .substring(0, 2);\r\n  };\r\n\r\n  const userAvatar = `${baseConfig.mediaDomain}/${userData.avatar}`;\r\n\r\n  return (\r\n    <Popover open={isOpen} onOpenChange={setIsOpen}>\r\n      <PopoverTrigger asChild>\r\n        <Button\r\n          variant=\"ghost\"\r\n          aria-label=\"Mở menu người dùng\"\r\n          className=\"hover:bg-transparent group p-0\"\r\n        >\r\n          <Avatar className={cn(\"size-10 rounded-md\")}>\r\n            <AvatarImage\r\n              src={userAvatar}\r\n              alt={userData.name}\r\n              className=\"rounded-md\"\r\n            />\r\n            <AvatarFallback className=\"rounded-md bg-linear-to-br from-primary/20 to-primary/10 text-primary font-semibold text-sm\">\r\n              {handleGetUsername(userData.name)}\r\n            </AvatarFallback>\r\n          </Avatar>\r\n        </Button>\r\n      </PopoverTrigger>\r\n\r\n      <PopoverContent\r\n        className=\"w-72 p-0 shadow-lg border-border/40\"\r\n        align=\"end\"\r\n        sideOffset={8}\r\n      >\r\n        <div className=\"flex items-center gap-3 p-4\">\r\n          <Avatar className={cn(\"ring-2 ring-background rounded-lg\")}>\r\n            <AvatarImage\r\n              src={userAvatar}\r\n              alt={userData.name}\r\n              className=\"rounded-lg\"\r\n            />\r\n            <AvatarFallback className=\"bg-linear-to-br from-primary/20 to-primary/10 text-primary font-semibold text-sm rounded-lg\">\r\n              {userData.name.charAt(0).toUpperCase()}\r\n            </AvatarFallback>\r\n          </Avatar>\r\n          <div className=\"flex-1 min-w-0\">\r\n            <p className=\"font-medium text-foreground text-sm leading-tight\">\r\n              {userData.name}\r\n            </p>\r\n            <p className=\"text-xs text-muted-foreground truncate\">\r\n              {userData.email}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <MenuDivider />\r\n\r\n        <div className=\"p-2 space-y-1\">\r\n          {HEADER_USER_PROFILE_MENU.map((item) => {\r\n            if (item.roles.includes(role as UserRole)) {\r\n              return (\r\n                <MenuItem\r\n                  key={item.label}\r\n                  label={item.label}\r\n                  to={item.path}\r\n                  onClick={() => handleItemClick()}\r\n                  icon={<item.icon className=\"size-4\" />}\r\n                />\r\n              );\r\n            }\r\n            return null;\r\n          })}\r\n        </div>\r\n\r\n        <MenuDivider />\r\n\r\n        <div className=\"p-2\">\r\n          <MenuItem\r\n            icon={<LogOut className=\"w-4 h-4\" />}\r\n            label=\"Đăng xuất\"\r\n            variant=\"destructive\"\r\n            onClick={() => handleItemClick(handleLogout)}\r\n          />\r\n        </div>\r\n      </PopoverContent>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default HeaderUserProfile;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 796, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/app/%28public%29/components/header/components/header-user-profile/index.ts"],"sourcesContent":["export { default } from \"./HeaderUserProfile\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 806, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { ComponentProps } from \"react\"\r\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction ScrollArea({\r\n  className,\r\n  children,\r\n  ...props\r\n}: ComponentProps<typeof ScrollAreaPrimitive.Root>) {\r\n  return (\r\n    <ScrollAreaPrimitive.Root\r\n      data-slot=\"scroll-area\"\r\n      className={cn(\"relative\", className)}\r\n      {...props}\r\n    >\r\n      <ScrollAreaPrimitive.Viewport\r\n        data-slot=\"scroll-area-viewport\"\r\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\r\n      >\r\n        {children}\r\n      </ScrollAreaPrimitive.Viewport>\r\n      <ScrollBar />\r\n      <ScrollAreaPrimitive.Corner />\r\n    </ScrollAreaPrimitive.Root>\r\n  )\r\n}\r\n\r\nfunction ScrollBar({\r\n  className,\r\n  orientation = \"vertical\",\r\n  ...props\r\n}: ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\r\n  return (\r\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\r\n      data-slot=\"scroll-area-scrollbar\"\r\n      orientation={orientation}\r\n      className={cn(\r\n        \"flex touch-none p-px transition-colors select-none\",\r\n        orientation === \"vertical\" &&\r\n          \"h-full w-2.5 border-l border-l-transparent\",\r\n        orientation === \"horizontal\" &&\r\n          \"h-2.5 flex-col border-t border-t-transparent\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <ScrollAreaPrimitive.ScrollAreaThumb\r\n        data-slot=\"scroll-area-thumb\"\r\n        className=\"bg-border relative flex-1 rounded-full\"\r\n      />\r\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n  )\r\n}\r\n\r\nexport { ScrollArea, ScrollBar }\r\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC6C;IAChD,qBACE,4SAAC,4RAAwB;QACvB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;0BAET,4SAAC,gSAA4B;gBAC3B,aAAU;gBACV,WAAU;0BAET;;;;;;0BAEH,4SAAC;;;;;0BACD,4SAAC,8RAA0B;;;;;;;;;;;AAGjC;KArBS;AAuBT,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OAC4D;IAC/D,qBACE,4SAAC,2SAAuC;QACtC,aAAU;QACV,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,sDACA,gBAAgB,cACd,8CACF,gBAAgB,gBACd,gDACF;QAED,GAAG,KAAK;kBAET,cAAA,4SAAC,uSAAmC;YAClC,aAAU;YACV,WAAU;;;;;;;;;;;AAIlB;MAzBS"}},
    {"offset": {"line": 884, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/ui/sheet.tsx"],"sourcesContent":["import { ComponentProps } from \"react\";\r\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { XIcon } from \"lucide-react\";\r\n\r\nfunction Sheet({ ...props }: ComponentProps<typeof SheetPrimitive.Root>) {\r\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />;\r\n}\r\n\r\nfunction SheetTrigger({\r\n  ...props\r\n}: ComponentProps<typeof SheetPrimitive.Trigger>) {\r\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />;\r\n}\r\n\r\nfunction SheetClose({ ...props }: ComponentProps<typeof SheetPrimitive.Close>) {\r\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />;\r\n}\r\n\r\nfunction SheetPortal({\r\n  ...props\r\n}: ComponentProps<typeof SheetPrimitive.Portal>) {\r\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />;\r\n}\r\n\r\nfunction SheetOverlay({\r\n  className,\r\n  ...props\r\n}: ComponentProps<typeof SheetPrimitive.Overlay>) {\r\n  return (\r\n    <SheetPrimitive.Overlay\r\n      data-slot=\"sheet-overlay\"\r\n      className={cn(\r\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SheetContent({\r\n  className,\r\n  children,\r\n  side = \"right\",\r\n  ...props\r\n}: ComponentProps<typeof SheetPrimitive.Content> & {\r\n  side?: \"top\" | \"right\" | \"bottom\" | \"left\";\r\n}) {\r\n  return (\r\n    <SheetPortal>\r\n      <SheetOverlay />\r\n      <SheetPrimitive.Content\r\n        data-slot=\"sheet-content\"\r\n        className={cn(\r\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\r\n          side === \"right\" &&\r\n            \"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm\",\r\n          side === \"left\" &&\r\n            \"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm\",\r\n          side === \"top\" &&\r\n            \"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b\",\r\n          side === \"bottom\" &&\r\n            \"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <SheetPrimitive.Close className=\"cursor-pointer text-white ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\r\n          <XIcon className=\"size-4\" />\r\n          <span className=\"sr-only\">Close</span>\r\n        </SheetPrimitive.Close>\r\n      </SheetPrimitive.Content>\r\n    </SheetPortal>\r\n  );\r\n}\r\n\r\nfunction SheetHeader({ className, ...props }: ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sheet-header\"\r\n      className={cn(\"flex flex-col gap-1.5 p-4\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SheetFooter({ className, ...props }: ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sheet-footer\"\r\n      className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SheetTitle({\r\n  className,\r\n  ...props\r\n}: ComponentProps<typeof SheetPrimitive.Title>) {\r\n  return (\r\n    <SheetPrimitive.Title\r\n      data-slot=\"sheet-title\"\r\n      className={cn(\"text-foreground font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SheetDescription({\r\n  className,\r\n  ...props\r\n}: ComponentProps<typeof SheetPrimitive.Description>) {\r\n  return (\r\n    <SheetPrimitive.Description\r\n      data-slot=\"sheet-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport {\r\n  Sheet,\r\n  SheetTrigger,\r\n  SheetClose,\r\n  SheetContent,\r\n  SheetHeader,\r\n  SheetFooter,\r\n  SheetTitle,\r\n  SheetDescription,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AACA;AAEA;AACA;;;;;AAEA,SAAS,MAAM,EAAE,GAAG,OAAmD;IACrE,qBAAO,4SAAC,0RAAmB;QAAC,aAAU;QAAS,GAAG,KAAK;;;;;;AACzD;KAFS;AAIT,SAAS,aAAa,EACpB,GAAG,OAC2C;IAC9C,qBAAO,4SAAC,6RAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,WAAW,EAAE,GAAG,OAAoD;IAC3E,qBAAO,4SAAC,2RAAoB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AAChE;MAFS;AAIT,SAAS,YAAY,EACnB,GAAG,OAC0C;IAC7C,qBAAO,4SAAC,4RAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC2C;IAC9C,qBACE,4SAAC,6RAAsB;QACrB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,aAAa,EACpB,SAAS,EACT,QAAQ,EACR,OAAO,OAAO,EACd,GAAG,OAGJ;IACC,qBACE,4SAAC;;0BACC,4SAAC;;;;;0BACD,4SAAC,6RAAsB;gBACrB,aAAU;gBACV,WAAW,IAAA,4HAAE,EACX,8MACA,SAAS,WACP,oIACF,SAAS,UACP,iIACF,SAAS,SACP,4GACF,SAAS,YACP,qHACF;gBAED,GAAG,KAAK;;oBAER;kCACD,4SAAC,2RAAoB;wBAAC,WAAU;;0CAC9B,4SAAC,gSAAK;gCAAC,WAAU;;;;;;0CACjB,4SAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;MAnCS;AAqCT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAA8B;IACjE,qBACE,4SAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAA8B;IACjE,qBACE,4SAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACyC;IAC5C,qBACE,4SAAC,2RAAoB;QACnB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,4SAAC,iSAA0B;QACzB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 1085, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { ComponentProps } from \"react\"\r\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Separator({\r\n  className,\r\n  orientation = \"horizontal\",\r\n  decorative = true,\r\n  ...props\r\n}: ComponentProps<typeof SeparatorPrimitive.Root>) {\r\n  return (\r\n    <SeparatorPrimitive.Root\r\n      data-slot=\"separator-root\"\r\n      decorative={decorative}\r\n      orientation={orientation}\r\n      className={cn(\r\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Separator }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OAC4C;IAC/C,qBACE,4SAAC,uRAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,kKACA;QAED,GAAG,KAAK;;;;;;AAGf;KAlBS"}},
    {"offset": {"line": 1120, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/api/endpoints/cart.ts"],"sourcesContent":["// @ts-nocheck\r\nimport {\n  useInfiniteQuery,\n  useMutation,\n  useQuery\n} from '@tanstack/react-query';\nimport type {\n  DataTag,\n  DefinedInitialDataOptions,\n  DefinedUseInfiniteQueryResult,\n  DefinedUseQueryResult,\n  InfiniteData,\n  MutationFunction,\n  QueryClient,\n  QueryFunction,\n  QueryKey,\n  UndefinedInitialDataOptions,\n  UseInfiniteQueryOptions,\n  UseInfiniteQueryResult,\n  UseMutationOptions,\n  UseMutationResult,\n  UseQueryOptions,\n  UseQueryResult\n} from '@tanstack/react-query';\n\nimport type {\n  BadRequestErrorResponse,\n  DeleteApiCart200,\n  DeleteApiCartBody,\n  GetApiCart200,\n  NotFoundErrorResponse,\n  PostApiCart200,\n  PostApiCartBody,\n  PutApiCart200,\n  PutApiCartBody,\n  ServerErrorResponse,\n  UnauthorizedErrorResponse\n} from '../models';\n\nimport { mainInstance } from '../mutator/custom-instance';\nimport type { ErrorType , BodyType } from '../mutator/custom-instance';\n\n\n\n\n\n/**\n * @summary Lấy thông tin giỏ hàng của người dùng\n */\nexport const getApiCart = (\n    \n signal?: AbortSignal\n) => {\n      \n      \n      return mainInstance<GetApiCart200>(\n      {url: `/api/cart`, method: 'GET', signal\n    },\n      );\n    }\n  \n\n\n\nexport const getGetApiCartInfiniteQueryKey = () => {\n    return [\n    'infinite', `/api/cart`\n    ] as const;\n    }\n\nexport const getGetApiCartQueryKey = () => {\n    return [\n    `/api/cart`\n    ] as const;\n    }\n\n    \nexport const getGetApiCartInfiniteQueryOptions = <TData = InfiniteData<Awaited<ReturnType<typeof getApiCart>>>, TError = ErrorType<UnauthorizedErrorResponse | ServerErrorResponse>>( options?: { query?:Partial<UseInfiniteQueryOptions<Awaited<ReturnType<typeof getApiCart>>, TError, TData>>, }\n) => {\n\nconst {query: queryOptions} = options ?? {};\n\n  const queryKey =  queryOptions?.queryKey ?? getGetApiCartInfiniteQueryKey();\n\n  \n\n    const queryFn: QueryFunction<Awaited<ReturnType<typeof getApiCart>>> = ({ signal }) => getApiCart(signal);\n\n      \n\n      \n\n   return  { queryKey, queryFn, ...queryOptions} as UseInfiniteQueryOptions<Awaited<ReturnType<typeof getApiCart>>, TError, TData> & { queryKey: DataTag<QueryKey, TData, TError> }\n}\n\nexport type GetApiCartInfiniteQueryResult = NonNullable<Awaited<ReturnType<typeof getApiCart>>>\nexport type GetApiCartInfiniteQueryError = ErrorType<UnauthorizedErrorResponse | ServerErrorResponse>\n\n\nexport function useGetApiCartInfinite<TData = InfiniteData<Awaited<ReturnType<typeof getApiCart>>>, TError = ErrorType<UnauthorizedErrorResponse | ServerErrorResponse>>(\n  options: { query:Partial<UseInfiniteQueryOptions<Awaited<ReturnType<typeof getApiCart>>, TError, TData>> & Pick<\n        DefinedInitialDataOptions<\n          Awaited<ReturnType<typeof getApiCart>>,\n          TError,\n          Awaited<ReturnType<typeof getApiCart>>\n        > , 'initialData'\n      >, }\n , queryClient?: QueryClient\n  ):  DefinedUseInfiniteQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }\nexport function useGetApiCartInfinite<TData = InfiniteData<Awaited<ReturnType<typeof getApiCart>>>, TError = ErrorType<UnauthorizedErrorResponse | ServerErrorResponse>>(\n  options?: { query?:Partial<UseInfiniteQueryOptions<Awaited<ReturnType<typeof getApiCart>>, TError, TData>> & Pick<\n        UndefinedInitialDataOptions<\n          Awaited<ReturnType<typeof getApiCart>>,\n          TError,\n          Awaited<ReturnType<typeof getApiCart>>\n        > , 'initialData'\n      >, }\n , queryClient?: QueryClient\n  ):  UseInfiniteQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }\nexport function useGetApiCartInfinite<TData = InfiniteData<Awaited<ReturnType<typeof getApiCart>>>, TError = ErrorType<UnauthorizedErrorResponse | ServerErrorResponse>>(\n  options?: { query?:Partial<UseInfiniteQueryOptions<Awaited<ReturnType<typeof getApiCart>>, TError, TData>>, }\n , queryClient?: QueryClient\n  ):  UseInfiniteQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }\n/**\n * @summary Lấy thông tin giỏ hàng của người dùng\n */\n\nexport function useGetApiCartInfinite<TData = InfiniteData<Awaited<ReturnType<typeof getApiCart>>>, TError = ErrorType<UnauthorizedErrorResponse | ServerErrorResponse>>(\n  options?: { query?:Partial<UseInfiniteQueryOptions<Awaited<ReturnType<typeof getApiCart>>, TError, TData>>, }\n , queryClient?: QueryClient \n ):  UseInfiniteQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> } {\n\n  const queryOptions = getGetApiCartInfiniteQueryOptions(options)\n\n  const query = useInfiniteQuery(queryOptions, queryClient) as  UseInfiniteQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };\n\n  query.queryKey = queryOptions.queryKey ;\n\n  return query;\n}\n\n\n\n\nexport const getGetApiCartQueryOptions = <TData = Awaited<ReturnType<typeof getApiCart>>, TError = ErrorType<UnauthorizedErrorResponse | ServerErrorResponse>>( options?: { query?:Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiCart>>, TError, TData>>, }\n) => {\n\nconst {query: queryOptions} = options ?? {};\n\n  const queryKey =  queryOptions?.queryKey ?? getGetApiCartQueryKey();\n\n  \n\n    const queryFn: QueryFunction<Awaited<ReturnType<typeof getApiCart>>> = ({ signal }) => getApiCart(signal);\n\n      \n\n      \n\n   return  { queryKey, queryFn, ...queryOptions} as UseQueryOptions<Awaited<ReturnType<typeof getApiCart>>, TError, TData> & { queryKey: DataTag<QueryKey, TData, TError> }\n}\n\nexport type GetApiCartQueryResult = NonNullable<Awaited<ReturnType<typeof getApiCart>>>\nexport type GetApiCartQueryError = ErrorType<UnauthorizedErrorResponse | ServerErrorResponse>\n\n\nexport function useGetApiCart<TData = Awaited<ReturnType<typeof getApiCart>>, TError = ErrorType<UnauthorizedErrorResponse | ServerErrorResponse>>(\n  options: { query:Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiCart>>, TError, TData>> & Pick<\n        DefinedInitialDataOptions<\n          Awaited<ReturnType<typeof getApiCart>>,\n          TError,\n          Awaited<ReturnType<typeof getApiCart>>\n        > , 'initialData'\n      >, }\n , queryClient?: QueryClient\n  ):  DefinedUseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }\nexport function useGetApiCart<TData = Awaited<ReturnType<typeof getApiCart>>, TError = ErrorType<UnauthorizedErrorResponse | ServerErrorResponse>>(\n  options?: { query?:Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiCart>>, TError, TData>> & Pick<\n        UndefinedInitialDataOptions<\n          Awaited<ReturnType<typeof getApiCart>>,\n          TError,\n          Awaited<ReturnType<typeof getApiCart>>\n        > , 'initialData'\n      >, }\n , queryClient?: QueryClient\n  ):  UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }\nexport function useGetApiCart<TData = Awaited<ReturnType<typeof getApiCart>>, TError = ErrorType<UnauthorizedErrorResponse | ServerErrorResponse>>(\n  options?: { query?:Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiCart>>, TError, TData>>, }\n , queryClient?: QueryClient\n  ):  UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }\n/**\n * @summary Lấy thông tin giỏ hàng của người dùng\n */\n\nexport function useGetApiCart<TData = Awaited<ReturnType<typeof getApiCart>>, TError = ErrorType<UnauthorizedErrorResponse | ServerErrorResponse>>(\n  options?: { query?:Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiCart>>, TError, TData>>, }\n , queryClient?: QueryClient \n ):  UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> } {\n\n  const queryOptions = getGetApiCartQueryOptions(options)\n\n  const query = useQuery(queryOptions, queryClient) as  UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };\n\n  query.queryKey = queryOptions.queryKey ;\n\n  return query;\n}\n\n\n\n\n/**\n * @summary Thêm sản phẩm vào giỏ hàng\n */\nexport const postApiCart = (\n    postApiCartBody: BodyType<PostApiCartBody>,\n signal?: AbortSignal\n) => {\n      \n      \n      return mainInstance<PostApiCart200>(\n      {url: `/api/cart`, method: 'POST',\n      headers: {'Content-Type': 'application/json', },\n      data: postApiCartBody, signal\n    },\n      );\n    }\n  \n\n\nexport const getPostApiCartMutationOptions = <TError = ErrorType<BadRequestErrorResponse | UnauthorizedErrorResponse | ServerErrorResponse>,\n    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postApiCart>>, TError,{data: BodyType<PostApiCartBody>}, TContext>, }\n): UseMutationOptions<Awaited<ReturnType<typeof postApiCart>>, TError,{data: BodyType<PostApiCartBody>}, TContext> => {\n\nconst mutationKey = ['postApiCart'];\nconst {mutation: mutationOptions} = options ?\n      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?\n      options\n      : {...options, mutation: {...options.mutation, mutationKey}}\n      : {mutation: { mutationKey, }};\n\n      \n\n\n      const mutationFn: MutationFunction<Awaited<ReturnType<typeof postApiCart>>, {data: BodyType<PostApiCartBody>}> = (props) => {\n          const {data} = props ?? {};\n\n          return  postApiCart(data,)\n        }\n\n        \n\n\n  return  { mutationFn, ...mutationOptions }}\n\n    export type PostApiCartMutationResult = NonNullable<Awaited<ReturnType<typeof postApiCart>>>\n    export type PostApiCartMutationBody = BodyType<PostApiCartBody>\n    export type PostApiCartMutationError = ErrorType<BadRequestErrorResponse | UnauthorizedErrorResponse | ServerErrorResponse>\n\n    /**\n * @summary Thêm sản phẩm vào giỏ hàng\n */\nexport const usePostApiCart = <TError = ErrorType<BadRequestErrorResponse | UnauthorizedErrorResponse | ServerErrorResponse>,\n    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postApiCart>>, TError,{data: BodyType<PostApiCartBody>}, TContext>, }\n , queryClient?: QueryClient): UseMutationResult<\n        Awaited<ReturnType<typeof postApiCart>>,\n        TError,\n        {data: BodyType<PostApiCartBody>},\n        TContext\n      > => {\n\n      const mutationOptions = getPostApiCartMutationOptions(options);\n\n      return useMutation(mutationOptions, queryClient);\n    }\n    /**\n * @summary Cập nhật số lượng sản phẩm trong giỏ hàng\n */\nexport const putApiCart = (\n    putApiCartBody: BodyType<PutApiCartBody>,\n ) => {\n      \n      \n      return mainInstance<PutApiCart200>(\n      {url: `/api/cart`, method: 'PUT',\n      headers: {'Content-Type': 'application/json', },\n      data: putApiCartBody\n    },\n      );\n    }\n  \n\n\nexport const getPutApiCartMutationOptions = <TError = ErrorType<BadRequestErrorResponse | UnauthorizedErrorResponse | NotFoundErrorResponse | ServerErrorResponse>,\n    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof putApiCart>>, TError,{data: BodyType<PutApiCartBody>}, TContext>, }\n): UseMutationOptions<Awaited<ReturnType<typeof putApiCart>>, TError,{data: BodyType<PutApiCartBody>}, TContext> => {\n\nconst mutationKey = ['putApiCart'];\nconst {mutation: mutationOptions} = options ?\n      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?\n      options\n      : {...options, mutation: {...options.mutation, mutationKey}}\n      : {mutation: { mutationKey, }};\n\n      \n\n\n      const mutationFn: MutationFunction<Awaited<ReturnType<typeof putApiCart>>, {data: BodyType<PutApiCartBody>}> = (props) => {\n          const {data} = props ?? {};\n\n          return  putApiCart(data,)\n        }\n\n        \n\n\n  return  { mutationFn, ...mutationOptions }}\n\n    export type PutApiCartMutationResult = NonNullable<Awaited<ReturnType<typeof putApiCart>>>\n    export type PutApiCartMutationBody = BodyType<PutApiCartBody>\n    export type PutApiCartMutationError = ErrorType<BadRequestErrorResponse | UnauthorizedErrorResponse | NotFoundErrorResponse | ServerErrorResponse>\n\n    /**\n * @summary Cập nhật số lượng sản phẩm trong giỏ hàng\n */\nexport const usePutApiCart = <TError = ErrorType<BadRequestErrorResponse | UnauthorizedErrorResponse | NotFoundErrorResponse | ServerErrorResponse>,\n    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof putApiCart>>, TError,{data: BodyType<PutApiCartBody>}, TContext>, }\n , queryClient?: QueryClient): UseMutationResult<\n        Awaited<ReturnType<typeof putApiCart>>,\n        TError,\n        {data: BodyType<PutApiCartBody>},\n        TContext\n      > => {\n\n      const mutationOptions = getPutApiCartMutationOptions(options);\n\n      return useMutation(mutationOptions, queryClient);\n    }\n    /**\n * @summary Xóa sản phẩm khỏi giỏ hàng\n */\nexport const deleteApiCart = (\n    deleteApiCartBody: BodyType<DeleteApiCartBody>,\n ) => {\n      \n      \n      return mainInstance<DeleteApiCart200>(\n      {url: `/api/cart`, method: 'DELETE',\n      headers: {'Content-Type': 'application/json', },\n      data: deleteApiCartBody\n    },\n      );\n    }\n  \n\n\nexport const getDeleteApiCartMutationOptions = <TError = ErrorType<BadRequestErrorResponse | UnauthorizedErrorResponse | NotFoundErrorResponse | ServerErrorResponse>,\n    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof deleteApiCart>>, TError,{data: BodyType<DeleteApiCartBody>}, TContext>, }\n): UseMutationOptions<Awaited<ReturnType<typeof deleteApiCart>>, TError,{data: BodyType<DeleteApiCartBody>}, TContext> => {\n\nconst mutationKey = ['deleteApiCart'];\nconst {mutation: mutationOptions} = options ?\n      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?\n      options\n      : {...options, mutation: {...options.mutation, mutationKey}}\n      : {mutation: { mutationKey, }};\n\n      \n\n\n      const mutationFn: MutationFunction<Awaited<ReturnType<typeof deleteApiCart>>, {data: BodyType<DeleteApiCartBody>}> = (props) => {\n          const {data} = props ?? {};\n\n          return  deleteApiCart(data,)\n        }\n\n        \n\n\n  return  { mutationFn, ...mutationOptions }}\n\n    export type DeleteApiCartMutationResult = NonNullable<Awaited<ReturnType<typeof deleteApiCart>>>\n    export type DeleteApiCartMutationBody = BodyType<DeleteApiCartBody>\n    export type DeleteApiCartMutationError = ErrorType<BadRequestErrorResponse | UnauthorizedErrorResponse | NotFoundErrorResponse | ServerErrorResponse>\n\n    /**\n * @summary Xóa sản phẩm khỏi giỏ hàng\n */\nexport const useDeleteApiCart = <TError = ErrorType<BadRequestErrorResponse | UnauthorizedErrorResponse | NotFoundErrorResponse | ServerErrorResponse>,\n    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof deleteApiCart>>, TError,{data: BodyType<DeleteApiCartBody>}, TContext>, }\n , queryClient?: QueryClient): UseMutationResult<\n        Awaited<ReturnType<typeof deleteApiCart>>,\n        TError,\n        {data: BodyType<DeleteApiCartBody>},\n        TContext\n      > => {\n\n      const mutationOptions = getDeleteApiCartMutationOptions(options);\n\n      return useMutation(mutationOptions, queryClient);\n    }\n    "],"names":[],"mappings":"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"}},
    {"offset": {"line": 1364, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/stores/use-cart-store.ts"],"sourcesContent":["import { create } from \"zustand\";\r\nimport { persist, createJSONStorage } from \"zustand/middleware\";\r\nimport { ContentResponse } from \"@/api/types/content\";\r\n\r\nexport interface CartItem {\r\n  product: ContentResponse;\r\n  quantity: number;\r\n  addedAt: string;\r\n}\r\n\r\ninterface CartStore {\r\n  // State\r\n  isSyncing: boolean;\r\n  items: CartItem[];\r\n  isOpen: boolean;\r\n\r\n  // Computed\r\n  totalItems: () => number;\r\n  totalPrice: () => number;\r\n  getItemQuantity: (productId: string) => number;\r\n  isInCart: (productId: string) => boolean;\r\n\r\n  // Actions\r\n  addItem: (product: ContentResponse, quantity?: number) => void;\r\n  removeItem: (productId: string) => void;\r\n  updateSyncing: (isSyncing: boolean) => void;\r\n  updateQuantity: (productId: string, quantity: number) => void;\r\n  incrementQuantity: (productId: string) => void;\r\n  decrementQuantity: (productId: string) => void;\r\n  clearCart: () => void;\r\n\r\n  // UI Actions\r\n  openCart: () => void;\r\n  closeCart: () => void;\r\n  toggleCart: () => void;\r\n}\r\n\r\nexport const useCartStore = create<CartStore>()(\r\n  persist(\r\n    (set, get) => ({\r\n      // Initial state\r\n      items: [],\r\n      isOpen: false,\r\n      isSyncing: false,\r\n\r\n      // Computed values\r\n      totalItems: () => {\r\n        return get().items.reduce((total, item) => total + item.quantity, 0);\r\n      },\r\n\r\n      totalPrice: () => {\r\n        return get().items.reduce(\r\n          (total, item) => total + (item.product?.price || 0) * item.quantity,\r\n          0\r\n        );\r\n      },\r\n\r\n      getItemQuantity: (productId: string) => {\r\n        const item = get().items.find((item) => item.product._id === productId);\r\n        return item?.quantity || 0;\r\n      },\r\n\r\n      isInCart: (productId: string) => {\r\n        return get().items.some((item) => item.product._id === productId);\r\n      },\r\n\r\n      // Actions\r\n      addItem: (product: ContentResponse, quantity = 1) => {\r\n        set((state) => {\r\n          const existingItemIndex = state.items.findIndex(\r\n            (item) => item.product._id === product._id\r\n          );\r\n\r\n          if (existingItemIndex > -1) {\r\n            // Update existing item\r\n            const updatedItems = [...state.items];\r\n            updatedItems[existingItemIndex] = {\r\n              ...updatedItems[existingItemIndex],\r\n              quantity: updatedItems[existingItemIndex].quantity + quantity,\r\n            };\r\n            return { items: updatedItems };\r\n          } else {\r\n            // Add new item\r\n            return {\r\n              items: [\r\n                ...state.items,\r\n                {\r\n                  product,\r\n                  quantity,\r\n                  addedAt: new Date().toISOString(),\r\n                },\r\n              ],\r\n            };\r\n          }\r\n        });\r\n      },\r\n\r\n      removeItem: (productId: string) => {\r\n        set((state) => ({\r\n          items: state.items.filter((item) => item.product._id !== productId),\r\n        }));\r\n      },\r\n\r\n      updateSyncing: (isSyncing: boolean) => {\r\n        set({ isSyncing });\r\n      },\r\n\r\n      updateQuantity: (productId: string, quantity: number) => {\r\n        if (quantity <= 0) {\r\n          get().removeItem(productId);\r\n          return;\r\n        }\r\n\r\n        set((state) => {\r\n          const updatedItems = state.items.map((item) =>\r\n            item.product._id === productId ? { ...item, quantity } : item\r\n          );\r\n          return { items: updatedItems };\r\n        });\r\n      },\r\n\r\n      incrementQuantity: (productId: string) => {\r\n        set((state) => {\r\n          const updatedItems = state.items.map((item) =>\r\n            item.product._id === productId\r\n              ? { ...item, quantity: item.quantity + 1 }\r\n              : item\r\n          );\r\n          return { items: updatedItems };\r\n        });\r\n      },\r\n\r\n      decrementQuantity: (productId: string) => {\r\n        set((state) => {\r\n          const item = state.items.find(\r\n            (item) => item.product._id === productId\r\n          );\r\n          if (!item) return state;\r\n\r\n          if (item.quantity <= 1) {\r\n            return {\r\n              items: state.items.filter(\r\n                (item) => item.product._id !== productId\r\n              ),\r\n            };\r\n          }\r\n\r\n          const updatedItems = state.items.map((item) =>\r\n            item.product._id === productId\r\n              ? { ...item, quantity: item.quantity - 1 }\r\n              : item\r\n          );\r\n          return { items: updatedItems };\r\n        });\r\n      },\r\n\r\n      clearCart: () => {\r\n        set({ items: [] });\r\n      },\r\n\r\n      // UI Actions\r\n      openCart: () => {\r\n        set({ isOpen: true });\r\n      },\r\n\r\n      closeCart: () => {\r\n        set({ isOpen: false });\r\n      },\r\n\r\n      toggleCart: () => {\r\n        set((state) => ({ isOpen: !state.isOpen }));\r\n      },\r\n    }),\r\n    {\r\n      name: \"cart-storage\", // Local storage key\r\n      storage: createJSONStorage(() => localStorage),\r\n      partialize: (state) => ({\r\n        items: state.items,\r\n      }),\r\n    }\r\n  )\r\n);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1511, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/hooks/use-cart.ts"],"sourcesContent":["import {\r\n  useDeleteApiCart,\r\n  useGetApiCart,\r\n  usePostApiCart,\r\n  usePutApiCart,\r\n} from \"@/api/endpoints/cart\";\r\nimport { CartItem } from \"@/api/models\";\r\nimport { ResponseData } from \"@/api/types/base\";\r\nimport { ContentResponse } from \"@/api/types/content\";\r\nimport { useAuthStore } from \"@/stores\";\r\nimport { useCartStore } from \"@/stores/use-cart-store\";\r\nimport { useQueryClient } from \"@tanstack/react-query\";\r\nimport { useCallback, useEffect, useMemo, useRef } from \"react\";\r\nimport { useShallow } from \"zustand/shallow\";\r\n\r\ninterface UseCartReturn {\r\n  // State\r\n  items: Array<{\r\n    product: ContentResponse;\r\n    quantity: number;\r\n    addedAt?: string;\r\n  }>;\r\n  isOpen: boolean;\r\n  isLoading: boolean;\r\n  isFetchingCartList: boolean;\r\n\r\n  // Computed\r\n  totalItems: number;\r\n  totalPrice: number;\r\n  getItemQuantity: (productId: string) => number;\r\n  isInCart: (productId: string) => boolean;\r\n\r\n  // Actions\r\n  addItem: (product: ContentResponse, quantity?: number) => void;\r\n  removeItem: (productId: string) => void;\r\n  updateQuantity: (productId: string, quantity: number) => void;\r\n  incrementQuantity: (productId: string) => void;\r\n  decrementQuantity: (productId: string) => void;\r\n  clearCart: () => void;\r\n\r\n  // UI Actions\r\n  openCart: () => void;\r\n  closeCart: () => void;\r\n  toggleCart: () => void;\r\n}\r\n\r\nexport const useCart = ({\r\n  sync = false,\r\n}: {\r\n  sync?: boolean;\r\n}): UseCartReturn => {\r\n  // Hooks\r\n  const cartStore = useCartStore();\r\n  const queryClient = useQueryClient();\r\n  const isSignedIn = useAuthStore(useShallow(({ isSignedIn }) => isSignedIn));\r\n  const hasSyncedRef = useRef(false);\r\n\r\n  // API Queries & Mutations\r\n  const getCartQuery = useGetApiCart({\r\n    query: {\r\n      enabled: isSignedIn,\r\n      select: (data) =>\r\n        (\r\n          data as unknown as ResponseData<{\r\n            items: CartItem[];\r\n          }>\r\n        ).data.items,\r\n    },\r\n  });\r\n\r\n  const addToCartMutation = usePostApiCart({\r\n    mutation: {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries({ queryKey: [\"/api/cart\"] });\r\n      },\r\n    },\r\n  });\r\n\r\n  const updateCartMutation = usePutApiCart({\r\n    mutation: {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries({ queryKey: [\"/api/cart\"] });\r\n      },\r\n    },\r\n  });\r\n\r\n  const deleteCartMutation = useDeleteApiCart();\r\n\r\n  // Convert API cart items to store format\r\n  const apiCartItems = useMemo(() => {\r\n    if (!isSignedIn || !getCartQuery.data) return [];\r\n\r\n    return getCartQuery.data.map((item) => ({\r\n      product: {\r\n        _id: item.contentId?._id,\r\n        title: item.contentId?.title || \"\",\r\n        description: item.contentId?.description || \"\",\r\n        price: item.contentId?.price || 0,\r\n        images: item.contentId?.images || [],\r\n      } as ContentResponse,\r\n      quantity: item.quantity || 0,\r\n      addedAt: new Date().toISOString(),\r\n    }));\r\n  }, [isSignedIn, getCartQuery.data]);\r\n\r\n  // Chọn nguồn dữ liệu: API nếu đã đăng nhập, local store nếu chưa\r\n  const items = isSignedIn ? apiCartItems : cartStore.items;\r\n\r\n  // Computed values\r\n  const totalItems = useMemo(() => {\r\n    return items.reduce((total, item) => total + item.quantity, 0);\r\n  }, [items]);\r\n\r\n  const totalPrice = useMemo(() => {\r\n    return items.reduce(\r\n      (total, item) => total + (item.product?.price || 0) * item.quantity,\r\n      0,\r\n    );\r\n  }, [items]);\r\n\r\n  const getItemQuantity = useCallback(\r\n    (productId: string) => {\r\n      const item = items.find((item) => item.product._id === productId);\r\n      return item?.quantity || 0;\r\n    },\r\n    [items],\r\n  );\r\n\r\n  const isInCart = useCallback(\r\n    (productId: string) => {\r\n      return items.some((item) => item.product._id === productId);\r\n    },\r\n    [items],\r\n  );\r\n\r\n  // Actions\r\n  const addItem = useCallback(\r\n    (product: ContentResponse, quantity = 1) => {\r\n      if (isSignedIn) {\r\n        // Sử dụng API\r\n        addToCartMutation.mutate({\r\n          data: {\r\n            contentId: product._id,\r\n            quantity,\r\n          },\r\n        });\r\n      } else {\r\n        // Sử dụng local store\r\n        cartStore.addItem(product, quantity);\r\n      }\r\n    },\r\n    [isSignedIn, addToCartMutation, cartStore],\r\n  );\r\n\r\n  const removeItem = useCallback(\r\n    async (productId: string) => {\r\n      if (isSignedIn) {\r\n        await deleteCartMutation.mutateAsync({\r\n          data: {\r\n            contentId: productId,\r\n          },\r\n        });\r\n\r\n        queryClient.invalidateQueries({ queryKey: [\"/api/cart\"] });\r\n      } else {\r\n        cartStore.removeItem(productId);\r\n      }\r\n    },\r\n    [isSignedIn, deleteCartMutation, cartStore],\r\n  );\r\n\r\n  const updateQuantity = useCallback(\r\n    (productId: string, quantity: number) => {\r\n      if (quantity <= 0) {\r\n        removeItem(productId);\r\n        return;\r\n      }\r\n\r\n      if (isSignedIn) {\r\n        updateCartMutation.mutate({\r\n          data: {\r\n            contentId: productId,\r\n            quantity,\r\n          },\r\n        });\r\n      } else {\r\n        cartStore.updateQuantity(productId, quantity);\r\n      }\r\n    },\r\n    [isSignedIn, updateCartMutation, cartStore, removeItem],\r\n  );\r\n\r\n  const incrementQuantity = useCallback(\r\n    (productId: string) => {\r\n      const currentQuantity = getItemQuantity(productId);\r\n      updateQuantity(productId, currentQuantity + 1);\r\n    },\r\n    [getItemQuantity, updateQuantity],\r\n  );\r\n\r\n  const decrementQuantity = useCallback(\r\n    (productId: string) => {\r\n      const currentQuantity = getItemQuantity(productId);\r\n      if (currentQuantity > 0) {\r\n        updateQuantity(productId, currentQuantity - 1);\r\n      }\r\n    },\r\n    [getItemQuantity, updateQuantity],\r\n  );\r\n\r\n  const clearCart = useCallback(async () => {\r\n    if (isSignedIn) {\r\n      // Xóa tất cả items từ API\r\n      await Promise.all(\r\n        items.map((item) =>\r\n          deleteCartMutation.mutateAsync({\r\n            data: {\r\n              contentId: item.product._id,\r\n            },\r\n          })\r\n        )\r\n      );\r\n      await queryClient.invalidateQueries({ queryKey: ['/api/cart'] });\r\n    } else {\r\n      cartStore.clearCart();\r\n    }\r\n  }, [isSignedIn, items, deleteCartMutation, cartStore, queryClient]);\r\n\r\n  // UI Actions (luôn dùng store cho UI state)\r\n  const openCart = useCallback(() => {\r\n    cartStore.openCart();\r\n  }, [cartStore]);\r\n\r\n  const closeCart = useCallback(() => {\r\n    cartStore.closeCart();\r\n  }, [cartStore]);\r\n\r\n  const toggleCart = useCallback(() => {\r\n    cartStore.toggleCart();\r\n  }, [cartStore]);\r\n\r\n  // Effects\r\n  // Đồng bộ giỏ hàng local lên backend khi đăng nhập\r\n  useEffect(() => {\r\n    if (!sync || !isSignedIn || cartStore.isSyncing) return;\r\n\r\n    if (hasSyncedRef.current) return;\r\n\r\n    const localItems = cartStore.items;\r\n    if (localItems.length === 0) return;\r\n\r\n    const syncCartToBackend = async () => {\r\n      hasSyncedRef.current = true;\r\n      cartStore.updateSyncing(true);\r\n\r\n      try {\r\n        await Promise.all(\r\n          localItems.map((item) =>\r\n            addToCartMutation.mutateAsync({\r\n              data: {\r\n                contentId: item.product._id,\r\n                quantity: item.quantity,\r\n              },\r\n            }),\r\n          ),\r\n        );\r\n\r\n        cartStore.clearCart();\r\n      } catch (error) {\r\n        hasSyncedRef.current = false;\r\n      } finally {\r\n        cartStore.updateSyncing(false);\r\n      }\r\n    };\r\n\r\n    syncCartToBackend();\r\n  }, [isSignedIn, sync]);\r\n\r\n  return {\r\n    // State\r\n    items,\r\n    isOpen: cartStore.isOpen,\r\n    isLoading: isSignedIn\r\n      ? getCartQuery.isFetching ||\r\n        addToCartMutation.isPending ||\r\n        updateCartMutation.isPending ||\r\n        deleteCartMutation.isPending\r\n      : false,\r\n\r\n    isFetchingCartList: getCartQuery.isFetching,\r\n\r\n    // Computed\r\n    totalItems,\r\n    totalPrice,\r\n    getItemQuantity,\r\n    isInCart,\r\n\r\n    // Actions\r\n    addItem,\r\n    removeItem,\r\n    updateQuantity,\r\n    incrementQuantity,\r\n    decrementQuantity,\r\n    clearCart,\r\n\r\n    // UI Actions\r\n    openCart,\r\n    closeCart,\r\n    toggleCart,\r\n  };\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1848, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/utils/ui\"\r\n\r\nfunction Skeleton({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\"animate-pulse rounded-md bg-primary/10\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Skeleton }\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,4SAAC;QACC,WAAW,IAAA,2HAAE,EAAC,0CAA0C;QACvD,GAAG,KAAK;;;;;;AAGf;KAVS"}},
    {"offset": {"line": 1877, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/utils/image.ts"],"sourcesContent":["const DEFAULT_IMAGE_RANDOM_URLS = [\r\n  \"https://images.pexels.com/photos/1404948/pexels-photo-1404948.jpeg\",\r\n  \"https://images.pexels.com/photos/4491829/pexels-photo-4491829.jpeg\",\r\n  \"https://images.pexels.com/photos/271667/pexels-photo-271667.jpeg\",\r\n  \"https://images.pexels.com/photos/4458210/pexels-photo-4458210.jpeg\",\r\n  \"https://images.pexels.com/photos/4458205/pexels-photo-4458205.jpeg\",\r\n];\r\n\r\nexport const generateImageRandom = (): string => {\r\n  // const randomNum = Math.floor(Math.random() * 10000);\r\n  // return DEFAULT_IMAGE_RANDOM_URLS[\r\n  //   randomNum % DEFAULT_IMAGE_RANDOM_URLS.length\r\n  // ];\r\n\r\n  return \"https://images.pexels.com/photos/1404948/pexels-photo-1404948.jpeg\";\r\n};\r\n"],"names":[],"mappings":";;;;AAAA,MAAM,4BAA4B;IAChC;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,sBAAsB;IACjC,uDAAuD;IACvD,oCAAoC;IACpC,iDAAiD;IACjD,KAAK;IAEL,OAAO;AACT"}},
    {"offset": {"line": 1902, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/app/%28public%29/components/header/components/header-shopping-cart/HeaderShoppingCart.tsx"],"sourcesContent":["import {\r\n  ShoppingCartIcon,\r\n  ShoppingBagIcon,\r\n  Loader2,\r\n  XIcon,\r\n} from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport {\r\n  Sheet,\r\n  SheetContent,\r\n  SheetHeader,\r\n  SheetTitle,\r\n  SheetTrigger,\r\n} from \"@/components/ui/sheet\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast } from \"sonner\";\r\nimport { useCart } from \"@/hooks/use-cart\";\r\nimport { cn } from \"@/utils/ui\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { useState } from \"react\";\r\nimport { generateImageRandom } from \"@/utils/image\";\r\nimport baseConfig from \"@/configs/base\";\r\n\r\ninterface HeaderShoppingCartProps {\r\n  sync?: boolean;\r\n}\r\n\r\nconst HeaderShoppingCart = ({ sync = true }: HeaderShoppingCartProps) => {\r\n  const cart = useCart({ sync });\r\n\r\n  const handleUpdateQuantity = (productId: string, quantity: number) => {\r\n    if (quantity < 1) return;\r\n    cart.updateQuantity(productId, quantity);\r\n  };\r\n\r\n  const handleRemoveItem = (productId: string) => {\r\n    cart.removeItem(productId);\r\n  };\r\n\r\n  const handleClearCart = () => {\r\n    cart.clearCart();\r\n    toast.success(\"Đã xóa giỏ hàng\");\r\n  };\r\n\r\n  return (\r\n    <Sheet\r\n      open={cart.isOpen}\r\n      onOpenChange={(o) => {\r\n        return o ? cart.openCart() : cart.closeCart();\r\n      }}\r\n      aria-describedby=\"cart-shopping\"\r\n    >\r\n      <SheetTrigger asChild>\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n          <ShoppingBagIcon className=\"w-5 h-5\" />\r\n          {cart.totalItems > 0 && (\r\n            <span className=\"absolute -top-1 -right-1 bg-destructive text-white text-[10px] w-4 h-4 flex items-center justify-center rounded-full\">\r\n              {cart.totalItems}\r\n            </span>\r\n          )}\r\n        </Button>\r\n      </SheetTrigger>\r\n\r\n      <SheetContent className=\"p-0 flex flex-col\">\r\n        <SheetHeader className=\"border-b px-4 py-3 bg-primary\">\r\n          <SheetTitle className=\"text-white text-base font-semibold\">\r\n            Giỏ hàng\r\n          </SheetTitle>\r\n\r\n          {cart.totalItems > 0 && (\r\n            <p className=\"text-xs text-white/80\">{cart.totalItems} sản phẩm</p>\r\n          )}\r\n        </SheetHeader>\r\n\r\n        {/* BODY */}\r\n        {cart.items.length === 0 ? (\r\n          <EmptyCart onClose={cart.closeCart} />\r\n        ) : (\r\n          <>\r\n            <ScrollArea className=\"flex-1 px-4 py-3 h-[420px]\">\r\n              <div className=\"space-y-3\">\r\n                {cart.items.map((item, index) => (\r\n                  <CartItemRow\r\n                    key={item.product._id}\r\n                    item={item}\r\n                    isLoading={cart.isLoading}\r\n                    onUpdate={handleUpdateQuantity}\r\n                    onRemove={handleRemoveItem}\r\n                  />\r\n                ))}\r\n                {cart.isFetchingCartList &&\r\n                  Array.from({ length: 3 }).map((_, index) => (\r\n                    <CartItemSkeleton key={`skeleton-${index}`} />\r\n                  ))}\r\n              </div>\r\n            </ScrollArea>\r\n            <CartFooter\r\n              totalItems={cart.totalItems}\r\n              totalPrice={cart.totalPrice}\r\n              onClear={handleClearCart}\r\n              onClose={cart.closeCart}\r\n            />\r\n          </>\r\n        )}\r\n      </SheetContent>\r\n    </Sheet>\r\n  );\r\n};\r\n\r\n/* ================= COMPONENTS ================= */\r\n\r\nconst EmptyCart = ({ onClose }: { onClose: () => void }) => (\r\n  <div className=\"flex-1 flex flex-col items-center justify-center text-center p-6\">\r\n    <ShoppingCartIcon className=\"w-10 h-10 text-muted-foreground mb-4\" />\r\n    <h3 className=\"font-semibold mb-2\">Giỏ hàng trống</h3>\r\n    <Button asChild onClick={onClose}>\r\n      <Link href=\"/collections\">Tiếp tục mua sắm</Link>\r\n    </Button>\r\n  </div>\r\n);\r\n\r\ninterface CartItemRowProps {\r\n  item: {\r\n    product: {\r\n      _id: string;\r\n      title?: string;\r\n      price?: number;\r\n      images?: string[];\r\n    };\r\n    quantity: number;\r\n  };\r\n  isLoading: boolean;\r\n  onUpdate: (id: string, quantity: number) => void;\r\n  onRemove: (id: string) => void;\r\n}\r\n\r\nconst CartItemRow = ({ item, isLoading, onUpdate, onRemove }: any) => {\r\n  // States\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  // Methods\r\n  const handleRemove = async () => {\r\n    setIsDeleting(true);\r\n    await onRemove(item.product._id);\r\n    setIsDeleting(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex gap-3 pb-4 border-b last:border-b-0\">\r\n      <img\r\n        src={\r\n          item.product.images?.[0]\r\n            ? `${baseConfig.mediaDomain}/${item.product.images[0]}`\r\n            : generateImageRandom()\r\n        }\r\n        alt={item.product?.title || \"Sản phẩm\"}\r\n        className=\"w-14 h-14 rounded-md object-cover border\"\r\n      />\r\n\r\n      <div className=\"flex-1 flex flex-col justify-between\">\r\n        <div>\r\n          <p className=\"text-sm font-medium line-clamp-2\">\r\n            {item.product?.title}\r\n          </p>\r\n          <p className=\"text-sm font-semibold text-primary mt-1\">\r\n            {item.product?.price?.toLocaleString(\"vi-VN\")} ₫\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2 mt-2\">\r\n          <button\r\n            className=\"w-7 h-7 border rounded text-sm disabled:opacity-40\"\r\n            disabled={isLoading || item.quantity <= 1}\r\n            onClick={() => onUpdate(item.product._id, item.quantity - 1)}\r\n          >\r\n            −\r\n          </button>\r\n\r\n          <span className=\"w-6 text-center text-sm\">{item.quantity}</span>\r\n\r\n          <button\r\n            className=\"w-7 h-7 border rounded text-sm disabled:opacity-40\"\r\n            disabled={isLoading}\r\n            onClick={() => onUpdate(item.product._id, item.quantity + 1)}\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <button\r\n        className=\"text-muted-foreground hover:text-destructive\"\r\n        disabled={isDeleting}\r\n        onClick={handleRemove}\r\n      >\r\n        {isDeleting ? (\r\n          <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n        ) : (\r\n          <XIcon className=\"w-4 h-4 cursor-pointer\" />\r\n        )}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\ninterface CartItemSkeletonProps {\r\n  className?: string;\r\n}\r\n\r\nconst CartItemSkeleton = ({ className }: CartItemSkeletonProps) => (\r\n  <div className={cn(\"flex gap-3 pb-4 border-b last:border-b-0\", className)}>\r\n    <Skeleton className=\"w-14 h-14 rounded-md shrink-0\" />\r\n    <div className=\"flex-1 space-y-2\">\r\n      <Skeleton className=\"h-4 w-3/4\" />\r\n      <Skeleton className=\"h-3 w-1/4\" />\r\n    </div>\r\n  </div>\r\n);\r\n\r\ninterface CartFooterProps {\r\n  totalItems: number;\r\n  totalPrice: number;\r\n  onClear: () => void;\r\n  onClose: () => void;\r\n}\r\n\r\nconst CartFooter = ({\r\n  totalItems,\r\n  totalPrice,\r\n  onClear,\r\n  onClose,\r\n}: CartFooterProps) => {\r\n  const router = useRouter();\r\n\r\n  const handleCheckout = () => {\r\n    onClose();\r\n    router.push(\"/payment\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"border-t p-4 space-y-3\">\r\n      <div className=\"flex justify-between text-sm\">\r\n        <span className=\"text-muted-foreground\">Subtotal ({totalItems})</span>\r\n        <span className=\"font-medium\">\r\n          {totalPrice.toLocaleString(\"vi-VN\")} ₫\r\n        </span>\r\n      </div>\r\n\r\n      <Separator />\r\n\r\n      <div className=\"flex justify-between text-base font-semibold\">\r\n        <span>Total</span>\r\n        <span>{totalPrice.toLocaleString(\"vi-VN\")} ₫</span>\r\n      </div>\r\n\r\n      <Button\r\n        className=\"w-full h-11 text-base\"\r\n        onClick={handleCheckout}\r\n        disabled={totalItems === 0}\r\n      >\r\n        Thanh toán\r\n      </Button>\r\n\r\n      {totalItems > 0 && (\r\n        <button\r\n          className=\"w-full text-sm text-destructive hover:underline\"\r\n          onClick={onClear}\r\n        >\r\n          Xóa giỏ hàng\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderShoppingCart;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2425, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/app/%28public%29/components/header/components/header-shopping-cart/index.ts"],"sourcesContent":["export { default } from \"./HeaderShoppingCart\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 2435, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/api/endpoints/search.ts"],"sourcesContent":["// @ts-nocheck\r\nimport {\n  useInfiniteQuery,\n  useMutation,\n  useQuery\n} from '@tanstack/react-query';\nimport type {\n  DataTag,\n  DefinedInitialDataOptions,\n  DefinedUseInfiniteQueryResult,\n  DefinedUseQueryResult,\n  InfiniteData,\n  MutationFunction,\n  QueryClient,\n  QueryFunction,\n  QueryKey,\n  UndefinedInitialDataOptions,\n  UseInfiniteQueryOptions,\n  UseInfiniteQueryResult,\n  UseMutationOptions,\n  UseMutationResult,\n  UseQueryOptions,\n  UseQueryResult\n} from '@tanstack/react-query';\n\nimport type {\n  GetApiSearch200,\n  GetApiSearchParams,\n  PostApiSearchSemantic200,\n  PostApiSearchSemanticBody\n} from '../models';\n\nimport { mainInstance } from '../mutator/custom-instance';\nimport type { ErrorType , BodyType } from '../mutator/custom-instance';\n\n\n\n\n\n/**\n * @summary Tìm kiếm nội dung theo từ khóa\n */\nexport const getApiSearch = (\n    params: GetApiSearchParams,\n signal?: AbortSignal\n) => {\n      \n      \n      return mainInstance<GetApiSearch200>(\n      {url: `/api/search`, method: 'GET',\n        params, signal\n    },\n      );\n    }\n  \n\n\n\nexport const getGetApiSearchInfiniteQueryKey = (params?: GetApiSearchParams,) => {\n    return [\n    'infinite', `/api/search`, ...(params ? [params]: [])\n    ] as const;\n    }\n\nexport const getGetApiSearchQueryKey = (params?: GetApiSearchParams,) => {\n    return [\n    `/api/search`, ...(params ? [params]: [])\n    ] as const;\n    }\n\n    \nexport const getGetApiSearchInfiniteQueryOptions = <TData = InfiniteData<Awaited<ReturnType<typeof getApiSearch>>, GetApiSearchParams['page']>, TError = ErrorType<unknown>>(params: GetApiSearchParams, options?: { query?:Partial<UseInfiniteQueryOptions<Awaited<ReturnType<typeof getApiSearch>>, TError, TData, QueryKey, GetApiSearchParams['page']>>, }\n) => {\n\nconst {query: queryOptions} = options ?? {};\n\n  const queryKey =  queryOptions?.queryKey ?? getGetApiSearchInfiniteQueryKey(params);\n\n  \n\n    const queryFn: QueryFunction<Awaited<ReturnType<typeof getApiSearch>>, QueryKey, GetApiSearchParams['page']> = ({ signal, pageParam }) => getApiSearch({...params, 'page': pageParam || params?.['page']}, signal);\n\n      \n\n      \n\n   return  { queryKey, queryFn, ...queryOptions} as UseInfiniteQueryOptions<Awaited<ReturnType<typeof getApiSearch>>, TError, TData, QueryKey, GetApiSearchParams['page']> & { queryKey: DataTag<QueryKey, TData, TError> }\n}\n\nexport type GetApiSearchInfiniteQueryResult = NonNullable<Awaited<ReturnType<typeof getApiSearch>>>\nexport type GetApiSearchInfiniteQueryError = ErrorType<unknown>\n\n\nexport function useGetApiSearchInfinite<TData = InfiniteData<Awaited<ReturnType<typeof getApiSearch>>, GetApiSearchParams['page']>, TError = ErrorType<unknown>>(\n params: GetApiSearchParams, options: { query:Partial<UseInfiniteQueryOptions<Awaited<ReturnType<typeof getApiSearch>>, TError, TData, QueryKey, GetApiSearchParams['page']>> & Pick<\n        DefinedInitialDataOptions<\n          Awaited<ReturnType<typeof getApiSearch>>,\n          TError,\n          Awaited<ReturnType<typeof getApiSearch>>, QueryKey\n        > , 'initialData'\n      >, }\n , queryClient?: QueryClient\n  ):  DefinedUseInfiniteQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }\nexport function useGetApiSearchInfinite<TData = InfiniteData<Awaited<ReturnType<typeof getApiSearch>>, GetApiSearchParams['page']>, TError = ErrorType<unknown>>(\n params: GetApiSearchParams, options?: { query?:Partial<UseInfiniteQueryOptions<Awaited<ReturnType<typeof getApiSearch>>, TError, TData, QueryKey, GetApiSearchParams['page']>> & Pick<\n        UndefinedInitialDataOptions<\n          Awaited<ReturnType<typeof getApiSearch>>,\n          TError,\n          Awaited<ReturnType<typeof getApiSearch>>, QueryKey\n        > , 'initialData'\n      >, }\n , queryClient?: QueryClient\n  ):  UseInfiniteQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }\nexport function useGetApiSearchInfinite<TData = InfiniteData<Awaited<ReturnType<typeof getApiSearch>>, GetApiSearchParams['page']>, TError = ErrorType<unknown>>(\n params: GetApiSearchParams, options?: { query?:Partial<UseInfiniteQueryOptions<Awaited<ReturnType<typeof getApiSearch>>, TError, TData, QueryKey, GetApiSearchParams['page']>>, }\n , queryClient?: QueryClient\n  ):  UseInfiniteQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }\n/**\n * @summary Tìm kiếm nội dung theo từ khóa\n */\n\nexport function useGetApiSearchInfinite<TData = InfiniteData<Awaited<ReturnType<typeof getApiSearch>>, GetApiSearchParams['page']>, TError = ErrorType<unknown>>(\n params: GetApiSearchParams, options?: { query?:Partial<UseInfiniteQueryOptions<Awaited<ReturnType<typeof getApiSearch>>, TError, TData, QueryKey, GetApiSearchParams['page']>>, }\n , queryClient?: QueryClient \n ):  UseInfiniteQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> } {\n\n  const queryOptions = getGetApiSearchInfiniteQueryOptions(params,options)\n\n  const query = useInfiniteQuery(queryOptions, queryClient) as  UseInfiniteQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };\n\n  query.queryKey = queryOptions.queryKey ;\n\n  return query;\n}\n\n\n\n\nexport const getGetApiSearchQueryOptions = <TData = Awaited<ReturnType<typeof getApiSearch>>, TError = ErrorType<unknown>>(params: GetApiSearchParams, options?: { query?:Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiSearch>>, TError, TData>>, }\n) => {\n\nconst {query: queryOptions} = options ?? {};\n\n  const queryKey =  queryOptions?.queryKey ?? getGetApiSearchQueryKey(params);\n\n  \n\n    const queryFn: QueryFunction<Awaited<ReturnType<typeof getApiSearch>>> = ({ signal }) => getApiSearch(params, signal);\n\n      \n\n      \n\n   return  { queryKey, queryFn, ...queryOptions} as UseQueryOptions<Awaited<ReturnType<typeof getApiSearch>>, TError, TData> & { queryKey: DataTag<QueryKey, TData, TError> }\n}\n\nexport type GetApiSearchQueryResult = NonNullable<Awaited<ReturnType<typeof getApiSearch>>>\nexport type GetApiSearchQueryError = ErrorType<unknown>\n\n\nexport function useGetApiSearch<TData = Awaited<ReturnType<typeof getApiSearch>>, TError = ErrorType<unknown>>(\n params: GetApiSearchParams, options: { query:Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiSearch>>, TError, TData>> & Pick<\n        DefinedInitialDataOptions<\n          Awaited<ReturnType<typeof getApiSearch>>,\n          TError,\n          Awaited<ReturnType<typeof getApiSearch>>\n        > , 'initialData'\n      >, }\n , queryClient?: QueryClient\n  ):  DefinedUseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }\nexport function useGetApiSearch<TData = Awaited<ReturnType<typeof getApiSearch>>, TError = ErrorType<unknown>>(\n params: GetApiSearchParams, options?: { query?:Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiSearch>>, TError, TData>> & Pick<\n        UndefinedInitialDataOptions<\n          Awaited<ReturnType<typeof getApiSearch>>,\n          TError,\n          Awaited<ReturnType<typeof getApiSearch>>\n        > , 'initialData'\n      >, }\n , queryClient?: QueryClient\n  ):  UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }\nexport function useGetApiSearch<TData = Awaited<ReturnType<typeof getApiSearch>>, TError = ErrorType<unknown>>(\n params: GetApiSearchParams, options?: { query?:Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiSearch>>, TError, TData>>, }\n , queryClient?: QueryClient\n  ):  UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> }\n/**\n * @summary Tìm kiếm nội dung theo từ khóa\n */\n\nexport function useGetApiSearch<TData = Awaited<ReturnType<typeof getApiSearch>>, TError = ErrorType<unknown>>(\n params: GetApiSearchParams, options?: { query?:Partial<UseQueryOptions<Awaited<ReturnType<typeof getApiSearch>>, TError, TData>>, }\n , queryClient?: QueryClient \n ):  UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> } {\n\n  const queryOptions = getGetApiSearchQueryOptions(params,options)\n\n  const query = useQuery(queryOptions, queryClient) as  UseQueryResult<TData, TError> & { queryKey: DataTag<QueryKey, TData, TError> };\n\n  query.queryKey = queryOptions.queryKey ;\n\n  return query;\n}\n\n\n\n\n/**\n * @summary Tìm kiếm nội dung bằng mô tả (AI sau này)\n */\nexport const postApiSearchSemantic = (\n    postApiSearchSemanticBody: BodyType<PostApiSearchSemanticBody>,\n signal?: AbortSignal\n) => {\n      \n      \n      return mainInstance<PostApiSearchSemantic200>(\n      {url: `/api/search/semantic`, method: 'POST',\n      headers: {'Content-Type': 'application/json', },\n      data: postApiSearchSemanticBody, signal\n    },\n      );\n    }\n  \n\n\nexport const getPostApiSearchSemanticMutationOptions = <TError = ErrorType<unknown>,\n    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postApiSearchSemantic>>, TError,{data: BodyType<PostApiSearchSemanticBody>}, TContext>, }\n): UseMutationOptions<Awaited<ReturnType<typeof postApiSearchSemantic>>, TError,{data: BodyType<PostApiSearchSemanticBody>}, TContext> => {\n\nconst mutationKey = ['postApiSearchSemantic'];\nconst {mutation: mutationOptions} = options ?\n      options.mutation && 'mutationKey' in options.mutation && options.mutation.mutationKey ?\n      options\n      : {...options, mutation: {...options.mutation, mutationKey}}\n      : {mutation: { mutationKey, }};\n\n      \n\n\n      const mutationFn: MutationFunction<Awaited<ReturnType<typeof postApiSearchSemantic>>, {data: BodyType<PostApiSearchSemanticBody>}> = (props) => {\n          const {data} = props ?? {};\n\n          return  postApiSearchSemantic(data,)\n        }\n\n        \n\n\n  return  { mutationFn, ...mutationOptions }}\n\n    export type PostApiSearchSemanticMutationResult = NonNullable<Awaited<ReturnType<typeof postApiSearchSemantic>>>\n    export type PostApiSearchSemanticMutationBody = BodyType<PostApiSearchSemanticBody>\n    export type PostApiSearchSemanticMutationError = ErrorType<unknown>\n\n    /**\n * @summary Tìm kiếm nội dung bằng mô tả (AI sau này)\n */\nexport const usePostApiSearchSemantic = <TError = ErrorType<unknown>,\n    TContext = unknown>(options?: { mutation?:UseMutationOptions<Awaited<ReturnType<typeof postApiSearchSemantic>>, TError,{data: BodyType<PostApiSearchSemanticBody>}, TContext>, }\n , queryClient?: QueryClient): UseMutationResult<\n        Awaited<ReturnType<typeof postApiSearchSemantic>>,\n        TError,\n        {data: BodyType<PostApiSearchSemanticBody>},\n        TContext\n      > => {\n\n      const mutationOptions = getPostApiSearchSemanticMutationOptions(options);\n\n      return useMutation(mutationOptions, queryClient);\n    }\n    "],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,cAAc;AACd;AAAA;AAAA;AA+BA;;;;AAUO,MAAM,eAAe,CACxB,QACH;IAIK,OAAO,IAAA,8JAAY,EACnB;QAAC,KAAK,CAAC,WAAW,CAAC;QAAE,QAAQ;QAC3B;QAAQ;IACZ;AAEA;AAKG,MAAM,kCAAkC,CAAC;IAC5C,OAAO;QACP;QAAY,CAAC,WAAW,CAAC;WAAM,SAAS;YAAC;SAAO,GAAE,EAAE;KACnD;AACD;AAEG,MAAM,0BAA0B,CAAC;IACpC,OAAO;QACP,CAAC,WAAW,CAAC;WAAM,SAAS;YAAC;SAAO,GAAE,EAAE;KACvC;AACD;AAGG,MAAM,sCAAsC,CAA0H,QAA4B;IAGzM,MAAM,EAAC,OAAO,YAAY,EAAC,GAAG,WAAW,CAAC;IAExC,MAAM,WAAY,cAAc,YAAY,gCAAgC;IAI1E,MAAM,UAAyG,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE,GAAK,aAAa;YAAC,GAAG,MAAM;YAAE,QAAQ,aAAa,QAAQ,CAAC,OAAO;QAAA,GAAG;IAM5M,OAAQ;QAAE;QAAU;QAAS,GAAG,YAAY;IAAA;AAC/C;AAkCO,SAAS,wBACf,MAA0B,EAAE,OAAqJ,EAC/K,WAAyB;;IAG1B,MAAM,eAAe,oCAAoC,QAAO;IAEhE,MAAM,QAAQ,IAAA,0SAAgB,EAAC,cAAc;IAE7C,MAAM,QAAQ,GAAG,aAAa,QAAQ;IAEtC,OAAO;AACT;GAZgB;;QAOA,0SAAgB;;;AAUzB,MAAM,8BAA8B,CAAgF,QAA4B;IAGvJ,MAAM,EAAC,OAAO,YAAY,EAAC,GAAG,WAAW,CAAC;IAExC,MAAM,WAAY,cAAc,YAAY,wBAAwB;IAIlE,MAAM,UAAmE,CAAC,EAAE,MAAM,EAAE,GAAK,aAAa,QAAQ;IAM/G,OAAQ;QAAE;QAAU;QAAS,GAAG,YAAY;IAAA;AAC/C;AAkCO,SAAS,gBACf,MAA0B,EAAE,OAAuG,EACjI,WAAyB;;IAG1B,MAAM,eAAe,4BAA4B,QAAO;IAExD,MAAM,QAAQ,IAAA,0RAAQ,EAAC,cAAc;IAErC,MAAM,QAAQ,GAAG,aAAa,QAAQ;IAEtC,OAAO;AACT;IAZgB;;QAOA,0RAAQ;;;AAajB,MAAM,wBAAwB,CACjC,2BACH;IAIK,OAAO,IAAA,8JAAY,EACnB;QAAC,KAAK,CAAC,oBAAoB,CAAC;QAAE,QAAQ;QACtC,SAAS;YAAC,gBAAgB;QAAoB;QAC9C,MAAM;QAA2B;IACnC;AAEA;AAIG,MAAM,0CAA0C,CAC/B;IAGxB,MAAM,cAAc;QAAC;KAAwB;IAC7C,MAAM,EAAC,UAAU,eAAe,EAAC,GAAG,UAC9B,QAAQ,QAAQ,IAAI,iBAAiB,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,CAAC,WAAW,GACrF,UACE;QAAC,GAAG,OAAO;QAAE,UAAU;YAAC,GAAG,QAAQ,QAAQ;YAAE;QAAW;IAAC,IACzD;QAAC,UAAU;YAAE;QAAa;IAAC;IAK7B,MAAM,aAA+H,CAAC;QAClI,MAAM,EAAC,IAAI,EAAC,GAAG,SAAS,CAAC;QAEzB,OAAQ,sBAAsB;IAChC;IAKN,OAAQ;QAAE;QAAY,GAAG,eAAe;IAAC;AAAC;AASrC,MAAM,2BAA2B,CAChB,SACrB;;IAOG,MAAM,kBAAkB,wCAAwC;IAEhE,OAAO,IAAA,gSAAW,EAAC,iBAAiB;AACtC;IAZS;;QAWA,gSAAW"}},
    {"offset": {"line": 2589, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/utils/ui\";\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n        success: \"bg-green-800 text-white border-transparent\",\r\n        warning: \"bg-yellow-800 text-white border-transparent\",\r\n        error: \"bg-red-800 text-white border-transparent\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n);\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  );\r\n}\r\n\r\nexport { Badge, badgeVariants };\r\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;YACT,SAAS;YACT,SAAS;YACT,OAAO;QACT;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,4SAAC;QAAI,WAAW,IAAA,2HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 2640, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/app/%28public%29/components/header/components/header-content-search/HeaderContentSearch.tsx"],"sourcesContent":["// Core\r\nimport { useState, useEffect, useRef, useCallback, useMemo } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport debounce from \"lodash-es/debounce\";\r\n\r\nimport {\r\n  SearchIcon,\r\n  FileIcon,\r\n  TrendingUpIcon,\r\n  XIcon,\r\n  LoaderCircle,\r\n  MicIcon,\r\n  MicOffIcon,\r\n} from \"lucide-react\";\r\n\r\n// App\r\nimport { useGetApiSearch } from \"@/api/endpoints/search\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from \"@/components/ui/popover\";\r\nimport { GetApiSearch200 } from \"@/api/models\";\r\nimport { cn } from \"@/utils/ui\";\r\nimport { toast } from \"sonner\";\r\n\r\n// Types\r\ndeclare global {\r\n  interface SpeechRecognition extends EventTarget {\r\n    continuous: boolean;\r\n    interimResults: boolean;\r\n    lang: string;\r\n    onresult: (event: SpeechRecognitionEvent) => void;\r\n    onerror: (event: Event) => void;\r\n    onend: () => void;\r\n    start: () => void;\r\n    stop: () => void;\r\n  }\r\n\r\n  interface Window {\r\n    SpeechRecognition: new () => SpeechRecognition;\r\n    webkitSpeechRecognition: new () => SpeechRecognition;\r\n  }\r\n}\r\n\r\ninterface SpeechRecognitionEvent extends Event {\r\n  results: SpeechRecognitionResultList;\r\n  resultIndex: number;\r\n}\r\n\r\ninterface SpeechRecognitionResultList {\r\n  length: number;\r\n  item(index: number): SpeechRecognitionResult;\r\n  [index: number]: SpeechRecognitionResult;\r\n}\r\n\r\ninterface SpeechRecognitionResult {\r\n  isFinal: boolean;\r\n  length: number;\r\n  item(index: number): SpeechRecognitionAlternative;\r\n  [index: number]: SpeechRecognitionAlternative;\r\n}\r\n\r\ninterface SpeechRecognitionAlternative {\r\n  transcript: string;\r\n  confidence: number;\r\n}\r\n\r\ninterface SearchResult {\r\n  _id?: string;\r\n  title?: string;\r\n  description?: string;\r\n  field?: string;\r\n  file_type?: string;\r\n}\r\n\r\nconst HeaderContentSearch = () => {\r\n  // Hooks\r\n  const router = useRouter();\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // States\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [debouncedQuery, setDebouncedQuery] = useState(\"\");\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [selectedIndex, setSelectedIndex] = useState(-1);\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [isSpeechSupported, setIsSpeechSupported] = useState(false);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const silenceTimerRef = useRef<NodeJS.Timeout | null>(null);\r\n  const recognitionRef = useRef<any>(null);\r\n\r\n  // Check for speech recognition support on mount\r\n  useEffect(() => {\r\n    const SpeechRecognition =\r\n      window.SpeechRecognition || window.webkitSpeechRecognition;\r\n    setIsSpeechSupported(!!SpeechRecognition);\r\n  }, []);\r\n\r\n  // Debounced search handler\r\n  const debouncedSearch = useMemo(\r\n    () =>\r\n      debounce((value: string) => {\r\n        setDebouncedQuery(value);\r\n      }, 500),\r\n    [],\r\n  );\r\n\r\n  // Cleanup debounce on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      debouncedSearch.cancel();\r\n    };\r\n  }, [debouncedSearch]);\r\n\r\n  // Queries\r\n  const getSearchContentQuery = useGetApiSearch(\r\n    { q: debouncedQuery },\r\n    {\r\n      query: {\r\n        enabled: debouncedQuery.trim().length > 0,\r\n        select: (data) => (data as GetApiSearch200).data || [],\r\n      },\r\n    },\r\n  );\r\n\r\n  const searchResults = (getSearchContentQuery.data as SearchResult[]) || [];\r\n  const isLoading = getSearchContentQuery.isFetching;\r\n\r\n  // Reset silence timer\r\n  const resetSilenceTimer = useCallback(() => {\r\n    if (silenceTimerRef.current) {\r\n      clearTimeout(silenceTimerRef.current);\r\n    }\r\n\r\n    silenceTimerRef.current = setTimeout(() => {\r\n      if (recognitionRef.current) recognitionRef.current.stop();\r\n      setIsListening(false);\r\n      setIsProcessing(false);\r\n    }, 3000); // Auto-stop after 3 seconds of silence\r\n  }, []);\r\n\r\n  const initSpeechRecognition = useCallback(() => {\r\n    const SpeechRecognition =\r\n      window.SpeechRecognition || window.webkitSpeechRecognition;\r\n    if (!SpeechRecognition) {\r\n      setIsSpeechSupported(false);\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      const recognition = new SpeechRecognition();\r\n      recognition.continuous = false;\r\n      recognition.interimResults = true;\r\n      recognition.lang = \"vi-VN\";\r\n      return recognition;\r\n    } catch (error) {\r\n      console.error(\"Khởi tạo nhận dạng giọng nói thất bại:\", error);\r\n      return null;\r\n    }\r\n  }, []);\r\n\r\n  const toggleSpeechRecognition = useCallback(async () => {\r\n    if (isListening) {\r\n      if (recognitionRef.current) {\r\n        recognitionRef.current.stop();\r\n      }\r\n      setIsListening(false);\r\n      setIsProcessing(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await navigator.mediaDevices.getUserMedia({ audio: true });\r\n    } catch (error) {\r\n      console.error(\"Microphone access denied:\", error);\r\n      return;\r\n    }\r\n\r\n    const recognition = initSpeechRecognition();\r\n    if (!recognition) return;\r\n\r\n    recognition.onresult = (event: any) => {\r\n      const transcript = Array.from(event.results)\r\n        .map((result: any) => result[0]?.transcript || \"\")\r\n        .join(\"\")\r\n        .trim();\r\n\r\n      if (transcript) {\r\n        setSearchQuery(transcript);\r\n        debouncedSearch(transcript);\r\n      }\r\n    };\r\n\r\n    recognition.onerror = (event: any) => {\r\n      console.error(\"Speech recognition error:\", event.error);\r\n      setIsListening(false);\r\n      setIsProcessing(false);\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      setIsListening(false);\r\n      setIsProcessing(false);\r\n    };\r\n\r\n    recognitionRef.current = recognition;\r\n    try {\r\n      setSearchQuery(\"\");\r\n      setDebouncedQuery(\"\");\r\n      debouncedSearch.cancel();\r\n\r\n      recognition.start();\r\n      setIsListening(true);\r\n      setIsProcessing(true);\r\n\r\n      setTimeout(() => {\r\n        if (isListening) {\r\n          recognition.stop();\r\n          setIsListening(false);\r\n          setIsProcessing(false);\r\n        }\r\n      }, 10000);\r\n    } catch (error) {\r\n      console.error(\"Failed to start speech recognition:\", error);\r\n      setIsListening(false);\r\n      setIsProcessing(false);\r\n    }\r\n  }, [isListening]);\r\n\r\n  // Methods\r\n  const handleSearch = useCallback(\r\n    (query: string) => {\r\n      if (query.trim()) {\r\n        router.push(`/collections?search=${encodeURIComponent(query)}`);\r\n        setIsOpen(false);\r\n        setSearchQuery(\"\");\r\n        setDebouncedQuery(\"\");\r\n        inputRef.current?.blur();\r\n      }\r\n    },\r\n    [router],\r\n  );\r\n\r\n  const handleResultClick = useCallback(\r\n    (contentId: string) => {\r\n      router.push(`/detail/${contentId}`);\r\n      setIsOpen(false);\r\n      setSearchQuery(\"\");\r\n      setDebouncedQuery(\"\");\r\n      inputRef.current?.blur();\r\n    },\r\n    [router],\r\n  );\r\n\r\n  const handleClear = useCallback(() => {\r\n    setSearchQuery(\"\");\r\n    setDebouncedQuery(\"\");\r\n    debouncedSearch.cancel();\r\n    setSelectedIndex(-1);\r\n    inputRef.current?.focus();\r\n  }, [debouncedSearch]);\r\n\r\n  const handleKeyDown = useCallback(\r\n    (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n      if (!isOpen) return;\r\n\r\n      switch (e.key) {\r\n        case \"ArrowDown\":\r\n          e.preventDefault();\r\n          setSelectedIndex((prev) =>\r\n            prev < searchResults.length - 1 ? prev + 1 : prev,\r\n          );\r\n          break;\r\n        case \"ArrowUp\":\r\n          e.preventDefault();\r\n          setSelectedIndex((prev) => (prev > 0 ? prev - 1 : -1));\r\n          break;\r\n        case \"Enter\":\r\n          e.preventDefault();\r\n          if (selectedIndex >= 0 && searchResults[selectedIndex]) {\r\n            handleResultClick(searchResults[selectedIndex]._id || \"\");\r\n          } else if (searchQuery.trim()) {\r\n            handleSearch(searchQuery);\r\n          }\r\n          break;\r\n        case \"Escape\":\r\n          e.preventDefault();\r\n          setIsOpen(false);\r\n          inputRef.current?.blur();\r\n          break;\r\n      }\r\n    },\r\n    [\r\n      isOpen,\r\n      searchResults,\r\n      selectedIndex,\r\n      searchQuery,\r\n      handleSearch,\r\n      handleResultClick,\r\n    ],\r\n  );\r\n\r\n  // Effects\r\n  useEffect(() => {\r\n    if (debouncedQuery.trim().length > 0) {\r\n      setIsOpen(true);\r\n      setSelectedIndex(-1);\r\n    } else {\r\n      setIsOpen(false);\r\n    }\r\n  }, [debouncedQuery]);\r\n\r\n  // Template\r\n  return (\r\n    <div className=\"flex-1 max-w-xl mx-6\">\r\n      <Popover open={isOpen} onOpenChange={setIsOpen}>\r\n        <PopoverTrigger asChild>\r\n          <div className=\"relative group\">\r\n            {/* Search Icon */}\r\n            <SearchIcon\r\n              className={cn(\r\n                \"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 transition-colors duration-200 z-10 pointer-events-none\",\r\n                isOpen\r\n                  ? \"text-primary\"\r\n                  : \"text-muted-foreground group-focus-within:text-primary\",\r\n              )}\r\n            />\r\n\r\n            {/* Input */}\r\n            <Input\r\n              ref={inputRef}\r\n              type=\"text\"\r\n              placeholder=\"Tìm kiếm bản vẽ theo tên, lĩnh vực...\"\r\n              className={cn(\r\n                \"pl-10 pr-20 h-10 rounded-none shadow-none border-border/40 bg-background/50\",\r\n                \"focus-visible:ring-2 focus-visible:ring-primary/20 focus-visible:border-primary/40\",\r\n                \"placeholder:text-muted-foreground/60 transition-all duration-200\",\r\n                \"hover:border-border/60 hover:bg-background/80\",\r\n              )}\r\n              value={searchQuery}\r\n              onChange={(e) => {\r\n                const value = e.target.value;\r\n                setSearchQuery(value);\r\n                debouncedSearch(value);\r\n              }}\r\n              onFocus={() => debouncedQuery.trim() && setIsOpen(true)}\r\n              onKeyDown={handleKeyDown}\r\n            />\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"absolute right-2 top-1/2 -translate-y-1/2 z-10 flex items-center gap-1\">\r\n              {searchQuery && (\r\n                <button\r\n                  onClick={handleClear}\r\n                  className=\"hover:bg-muted rounded-full p-1.5 transition-colors\"\r\n                  type=\"button\"\r\n                >\r\n                  <XIcon className=\"h-3.5 w-3.5 text-muted-foreground hover:text-foreground\" />\r\n                </button>\r\n              )}\r\n\r\n              {isSpeechSupported && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={toggleSpeechRecognition}\r\n                  className={cn(\r\n                    \"rounded-full p-1.5 transition-all duration-300 relative\",\r\n                    isListening\r\n                      ? \"text-white bg-red-500 shadow-lg shadow-red-500/30\"\r\n                      : \"text-muted-foreground hover:text-foreground hover:bg-muted\",\r\n                    isListening && \"ring-2 ring-offset-2 ring-red-500\",\r\n                  )}\r\n                  disabled={isLoading}\r\n                  title={isListening ? \"Đang nghe...\" : \"Nhấn để nói\"}\r\n                >\r\n                  <div className=\"relative\">\r\n                    {isListening ? (\r\n                      <div className=\"relative\">\r\n                        <div className=\"absolute -inset-1.5 bg-red-500/20 rounded-full animate-ping\"></div>\r\n                        <MicOffIcon className=\"h-4 w-4 relative\" />\r\n                      </div>\r\n                    ) : (\r\n                      <MicIcon className=\"h-4 w-4\" />\r\n                    )}\r\n                  </div>\r\n                </button>\r\n              )}\r\n\r\n              {isLoading && (\r\n                <div className=\"p-1.5\">\r\n                  <LoaderCircle className=\"h-4 w-4 animate-spin text-primary\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </PopoverTrigger>\r\n\r\n        <PopoverContent\r\n          className=\"w-(--radix-popover-trigger-width) p-0 rounded-2xl\"\r\n          align=\"start\"\r\n          sideOffset={8}\r\n          onOpenAutoFocus={(e) => e.preventDefault()}\r\n        >\r\n          <div className=\"max-h-[400px] overflow-y-auto\">\r\n            {isLoading && searchResults.length === 0 ? (\r\n              <div className=\"p-6 text-center text-sm text-muted-foreground\">\r\n                <LoaderCircle className=\"h-6 w-6 animate-spin mx-auto mb-2 text-primary\" />\r\n                <p className=\"font-medium\">Đang tìm kiếm...</p>\r\n              </div>\r\n            ) : searchResults.length > 0 ? (\r\n              <div className=\"py-2\">\r\n                <div className=\"px-4 py-2 text-xs font-semibold text-muted-foreground border-b bg-muted/30\">\r\n                  Kết quả tìm kiếm ({searchResults.length})\r\n                </div>\r\n                <div className=\"divide-y divide-border/50\">\r\n                  {searchResults.map((result, index) => (\r\n                    <button\r\n                      key={result._id}\r\n                      onClick={() => handleResultClick(result._id || \"\")}\r\n                      className={cn(\r\n                        \"w-full px-4 py-3 text-left hover:bg-muted/50 transition-all duration-200 flex items-start gap-3 group\",\r\n                        selectedIndex === index && \"bg-muted/70\",\r\n                      )}\r\n                      type=\"button\"\r\n                    >\r\n                      <FileIcon className=\"h-4 w-4 mt-0.5 text-muted-foreground group-hover:text-primary transition-colors shrink-0\" />\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"font-medium text-sm line-clamp-1 group-hover:text-primary transition-colors\">\r\n                          {result.title || \"Không có tiêu đề\"}\r\n                        </div>\r\n                        {result.description && (\r\n                          <div className=\"text-xs text-muted-foreground line-clamp-2 mt-1\">\r\n                            {result.description}\r\n                          </div>\r\n                        )}\r\n                        <div className=\"flex items-center gap-2 mt-2\">\r\n                          {result.field && (\r\n                            <Badge variant=\"secondary\" className=\"text-xs\">\r\n                              {result.field}\r\n                            </Badge>\r\n                          )}\r\n                          {result.file_type && (\r\n                            <Badge variant=\"outline\" className=\"text-xs\">\r\n                              {result.file_type}\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                {searchResults.length > 5 && (\r\n                  <button\r\n                    onClick={() => handleSearch(searchQuery)}\r\n                    className=\"w-full px-4 py-3 text-center text-sm text-primary hover:bg-muted/50 transition-colors border-t font-semibold\"\r\n                    type=\"button\"\r\n                  >\r\n                    Xem tất cả kết quả cho \"{searchQuery}\"\r\n                  </button>\r\n                )}\r\n              </div>\r\n            ) : debouncedQuery.trim() && !isLoading ? (\r\n              <div className=\"p-8 text-center\">\r\n                <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted/50 mb-4\">\r\n                  <SearchIcon className=\"h-8 w-8 text-muted-foreground/50\" />\r\n                </div>\r\n                <p className=\"text-sm font-semibold text-foreground\">\r\n                  Không tìm thấy kết quả\r\n                </p>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">\r\n                  Thử tìm kiếm với từ khóa khác\r\n                </p>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </PopoverContent>\r\n      </Popover>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderContentSearch;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3272, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/app/%28public%29/components/header/components/header-content-search/index.ts"],"sourcesContent":["export { default } from \"./HeaderContentSearch\";\r\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 3282, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/app/%28public%29/components/header/components/index.ts"],"sourcesContent":["export { default as HeaderUserProfile } from \"./header-user-profile\";\r\nexport { default as HeaderShoppingCart } from \"./header-shopping-cart\";\r\nexport { default as HeaderSearchBar } from \"./header-content-search\";\r\n"],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 3323, "column": 0}, "map": {"version":3,"sources":["file:///D:/ban-ve/src/app/%28public%29/components/header/Header.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Search, DraftingCompassIcon } from \"lucide-react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n  HeaderSearchBar,\r\n  HeaderShoppingCart,\r\n  HeaderUserProfile,\r\n} from \"./components\";\r\nimport { useAuthStore } from \"@/stores\";\r\nimport { useShallow } from \"zustand/shallow\";\r\nimport Link from \"next/link\";\r\nimport { BASE_PATHS } from \"@/constants/paths\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst Header = () => {\r\n  // Stores\r\n  const authStore = useAuthStore(\r\n    useShallow(({ isSignedIn }) => ({\r\n      isSignedIn,\r\n    })),\r\n  );\r\n\r\n  // Hooks\r\n  const [isSlideDown, setIsSlideDown] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let lastScrollY = window.scrollY;\r\n    let ticking = false;\r\n\r\n    const handleScroll = () => {\r\n      if (!ticking) {\r\n        requestAnimationFrame(() => {\r\n          const currentScrollY = window.scrollY;\r\n\r\n          if (currentScrollY > 200 && currentScrollY > lastScrollY) {\r\n            setIsSlideDown(true);\r\n          } else if (currentScrollY <= lastScrollY || currentScrollY <= 100) {\r\n            setIsSlideDown(false);\r\n          }\r\n\r\n          lastScrollY = currentScrollY;\r\n          ticking = false;\r\n        });\r\n        ticking = true;\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"scroll\", handleScroll, { passive: true });\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  }, []);\r\n\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <header>\r\n      {/* Dynamic Header */}\r\n      <div\r\n        className={cn(\r\n          \"fixed top-0 z-50 w-full bg-white/80 backdrop-blur-xl border-b border-border/40 supports-backdrop-filter:bg-background/60\",\r\n          \"transition-transform duration-300 ease-in-out\",\r\n          isSlideDown ? \"translate-y-0\" : \"-translate-y-full\",\r\n        )}\r\n      >\r\n        <div className=\"max-w-[1500px] mx-auto px-4\">\r\n          <div className=\"flex items-center justify-between h-18\">\r\n            {/* Logo Section */}\r\n            <Link\r\n              href=\"/\"\r\n              className=\"flex items-center gap-3 group transition-all duration-200 hover:scale-[1.02]\"\r\n            >\r\n              <div className=\"relative\">\r\n                <div className=\"relative size-10 rounded-none rotate-6 bg-linear-to-br from-primary to-primary/80 text-primary-foreground shadow-lg shadow-primary/20 group-hover:shadow-xl group-hover:shadow-primary/30 transition-all duration-300\">\r\n                  \\n{\" \"}\r\n                  <DraftingCompassIcon\r\n                    strokeWidth={2}\r\n                    className=\"size-6 absolute left-1/2 top-1/2 -translate-1/2 -rotate-6\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"hidden sm:block\">\r\n                <h1 className=\"text-base font-bold tracking-tight text-primary group-hover:text-primary/50 transition-colors duration-200\">\r\n                  Marketplace Blueprint\r\n                </h1>\r\n                <p className=\"text-xs text-muted-foreground/80 font-medium\">\r\n                  Premium Blueprints\r\n                </p>\r\n              </div>\r\n            </Link>\r\n            {/* Search Section */}\r\n            <HeaderSearchBar />\r\n\r\n            {/* Actions Section */}\r\n            <div className=\"flex items-center gap-3\">\r\n              <HeaderShoppingCart sync={false} />\r\n\r\n              <Separator orientation=\"vertical\" className=\"h-6\" />\r\n\r\n              {authStore.isSignedIn ? (\r\n                <HeaderUserProfile />\r\n              ) : (\r\n                <Button\r\n                  onClick={() => router.push(BASE_PATHS.auth.login.path)}\r\n                  className=\"hidden sm:flex bg-black hover:bg-black/90 text-white rounded-none px-6 text-[11px] uppercase tracking-widest h-10 font-bold\"\r\n                >\r\n                  Đăng nhập\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Static Header */}\r\n      <div\r\n        className={cn(\r\n          \"relative top-0 z-50 w-full bg-white backdrop-blur-xl border-b border-border/40 supports-backdrop-filter:bg-background/60\",\r\n          \"transition-transform duration-300 ease-in-out\",\r\n        )}\r\n      >\r\n        <div className=\"max-w-[1500px] mx-auto px-4\">\r\n          <div className=\"flex items-center justify-between h-20\">\r\n            {/* Logo Section */}\r\n            <Link\r\n              href=\"/\"\r\n              className=\"flex items-center gap-3 group transition-all duration-200 hover:scale-[1.02]\"\r\n            >\r\n              <div className=\"relative\">\r\n                <div className=\"relative size-8 rounded-none rotate-6 bg-linear-to-br from-primary to-primary/80 text-primary-foreground shadow-lg shadow-primary/20 group-hover:shadow-xl group-hover:shadow-primary/30 transition-all duration-300\">\r\n                  <DraftingCompassIcon\r\n                    strokeWidth={2}\r\n                    className=\"size-4 absolute left-1/2 top-1/2 -translate-1/2 -rotate-6\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"hidden sm:block\">\r\n                <h1 className=\"text-md font-bold tracking-tight text-foreground group-hover:text-primary transition-colors duration-200\">\r\n                  Marketplace Blueprint\r\n                </h1>\r\n                <p className=\"text-xs text-muted-foreground/80 font-medium\">\r\n                  Premium Blueprints\r\n                </p>\r\n              </div>\r\n            </Link>\r\n\r\n            {/* Search Section */}\r\n            <HeaderSearchBar />\r\n\r\n            {/* Actions Section */}\r\n            <div className=\"flex items-center gap-3\">\r\n              <HeaderShoppingCart />\r\n\r\n              <Separator orientation=\"vertical\" className=\"h-6\" />\r\n\r\n              {authStore.isSignedIn ? (\r\n                <HeaderUserProfile />\r\n              ) : (\r\n                <Button\r\n                  onClick={() => router.push(BASE_PATHS.auth.login.path)}\r\n                  className=\"hidden sm:flex bg-black hover:bg-black/90 text-white rounded-none px-6 text-[11px] uppercase tracking-widest h-10 font-bold\"\r\n                >\r\n                  Đăng nhập\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"names":[],"mappings":"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"}}]
}